"use strict";(self.webpackChunkrapier_testbed2d=self.webpackChunkrapier_testbed2d||[]).push([[234],{3489:(t,e,r)=>{r.d(e,{F:()=>i});class i{constructor(){this.fconv=new Float64Array(1),this.uconv=new Uint32Array(this.fconv.buffer),this.data=new Array,this.size=0}set(t,e){let r=this.index(t);for(;this.data.length<=r;)this.data.push(null);null==this.data[r]&&(this.size+=1),this.data[r]=e}len(){return this.size}delete(t){let e=this.index(t);e<this.data.length&&(null!=this.data[e]&&(this.size-=1),this.data[e]=null)}clear(){this.data=new Array}get(t){let e=this.index(t);return e<this.data.length?this.data[e]:null}forEach(t){for(const e of this.data)null!=e&&t(e)}getAll(){return this.data.filter((t=>null!=t))}index(t){return this.fconv[0]=t,this.uconv[0]}}},3721:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{K:()=>s});var n=r(5991),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.LE}free(){this.raw.free(),this.raw=void 0}}i()}catch(t){i(t)}}))},3118:(t,e,r)=>{var i;r.d(e,{j:()=>i}),function(t){t[t.Average=0]="Average",t[t.Min=1]="Min",t[t.Multiply=2]="Multiply",t[t.Max=3]="Max"}(i||(i={}))},4701:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{C1:()=>h,JW:()=>d,Vt:()=>a,_h:()=>w,au:()=>u,dl:()=>n,eZ:()=>p,s2:()=>l});var n,a,s=r(8461),o=r(5991),c=t([s,o]);[s,o]=c.then?(await c)():c,function(t){t[t.Revolute=0]="Revolute",t[t.Fixed=1]="Fixed",t[t.Prismatic=2]="Prismatic"}(n||(n={})),function(t){t[t.AccelerationBased=0]="AccelerationBased",t[t.ForceBased=1]="ForceBased"}(a||(a={}));class l{constructor(t,e,r){this.rawSet=t,this.bodySet=e,this.handle=r}static newTyped(t,e,r){switch(t.jointType(r)){case n.Revolute:return new u(t,e,r);case n.Prismatic:return new p(t,e,r);case n.Fixed:return new d(t,e,r);default:return new l(t,e,r)}}finalizeDeserialization(t){this.bodySet=t}isValid(){return this.rawSet.contains(this.handle)}body1(){return this.bodySet.get(this.rawSet.jointBodyHandle1(this.handle))}body2(){return this.bodySet.get(this.rawSet.jointBodyHandle2(this.handle))}type(){return this.rawSet.jointType(this.handle)}anchor1(){return s.ut.fromRaw(this.rawSet.jointAnchor1(this.handle))}anchor2(){return s.ut.fromRaw(this.rawSet.jointAnchor2(this.handle))}}class h extends l{limitsEnabled(){return this.rawSet.jointLimitsEnabled(this.handle,this.rawAxis())}limitsMin(){return this.rawSet.jointLimitsMin(this.handle,this.rawAxis())}limitsMax(){return this.rawSet.jointLimitsMax(this.handle,this.rawAxis())}configureMotorModel(t){this.rawSet.jointConfigureMotorModel(this.handle,this.rawAxis(),t)}configureMotorVelocity(t,e){this.rawSet.jointConfigureMotorVelocity(this.handle,this.rawAxis(),t,e)}configureMotorPosition(t,e,r){this.rawSet.jointConfigureMotorPosition(this.handle,this.rawAxis(),t,e,r)}configureMotor(t,e,r,i){this.rawSet.jointConfigureMotor(this.handle,this.rawAxis(),t,e,r,i)}}class d extends l{}class p extends h{rawAxis(){return o.JM.X}}class u extends h{rawAxis(){return o.JM.AngX}}class w{constructor(){}static fixed(t,e,r,i){let a=new w;return a.anchor1=t,a.anchor2=r,a.frame1=e,a.frame2=i,a.jointType=n.Fixed,a}static revolute(t,e){let r=new w;return r.anchor1=t,r.anchor2=e,r.jointType=n.Revolute,r}static prismatic(t,e,r){let i=new w;return i.anchor1=t,i.anchor2=e,i.axis=r,i.jointType=n.Prismatic,i}intoRaw(){let t,e,r=s.ut.intoRaw(this.anchor1),i=s.ut.intoRaw(this.anchor2),a=!1,c=0,l=0;switch(this.jointType){case n.Fixed:let h=s.T3.intoRaw(this.frame1),d=s.T3.intoRaw(this.frame2);e=o.cQ.fixed(r,h,i,d),h.free(),d.free();break;case n.Prismatic:t=s.ut.intoRaw(this.axis),this.limitsEnabled&&(a=!0,c=this.limits[0],l=this.limits[1]),e=o.cQ.prismatic(r,i,t,a,c,l),t.free();break;case n.Revolute:e=o.cQ.revolute(r,i)}return r.free(),i.free(),e}}i()}catch(t){i(t)}}))},7889:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{l:()=>c});var n=r(5991),a=r(3489),s=r(4701),o=t([n,s]);[n,s]=o.then?(await o)():o;class c{constructor(t){this.raw=t||new n.Qc,this.map=new a.F,t&&t.forEachJointHandle((e=>{this.map.set(e,s.s2.newTyped(t,null,e))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createJoint(t,e,r,i,n){const a=e.intoRaw(),o=this.raw.createJoint(a,r,i,n);a.free();let c=s.s2.newTyped(this.raw,t,o);return this.map.set(o,c),c}remove(t,e){this.raw.remove(t,e),this.unmap(t)}forEachJointHandleAttachedToRigidBody(t,e){this.raw.forEachJointAttachedToRigidBody(t,e)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},4754:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Am:()=>l.Am,C1:()=>o.C1,JW:()=>o.JW,Jj:()=>n.Jj,Kd:()=>p.K,RT:()=>s.R,UW:()=>l.UW,Vt:()=>o.Vt,_h:()=>o._h,au:()=>o.au,dl:()=>o.dl,eZ:()=>o.eZ,h1:()=>h.h,ib:()=>n.ib,jK:()=>d.j,jp:()=>l.jp,lX:()=>c.l,rF:()=>a.r,s2:()=>o.s2,wI:()=>l.wI,xr:()=>n.xr,yB:()=>u.y,yf:()=>l.yf});var n=r(5759),a=r(5164),s=r(8597),o=r(4701),c=r(7889),l=r(1148),h=r(7649),d=r(3118),p=r(3721),u=r(4563),w=t([n,a,s,o,c,l,h,p,u]);[n,a,s,o,c,l,h,p,u]=w.then?(await w)():w,i()}catch(t){i(t)}}))},8597:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{R:()=>s});var n=r(5991),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.zu}free(){this.raw.free(),this.raw=void 0}get dt(){return this.raw.dt}get erp(){return this.raw.erp}get allowedLinearError(){return this.raw.allowedLinearError}get predictionDistance(){return this.raw.predictionDistance}get maxVelocityIterations(){return this.raw.maxVelocityIterations}get maxVelocityFrictionIterations(){return this.raw.maxVelocityFrictionIterations}get maxStabilizationIterations(){return this.raw.maxStabilizationIterations}get minIslandSize(){return this.raw.minIslandSize}get maxCcdSubsteps(){return this.raw.maxCcdSubsteps}set dt(t){this.raw.dt=t}set erp(t){this.raw.erp=t}set allowedLinearError(t){this.raw.allowedLinearError=t}set predictionDistance(t){this.raw.predictionDistance=t}set maxVelocityIterations(t){this.raw.maxVelocityIterations=t}set maxVelocityFrictionIterations(t){this.raw.maxVelocityFrictionIterations=t}set maxStabilizationIterations(t){this.raw.maxStabilizationIterations=t}set minIslandSize(t){this.raw.minIslandSize=t}set maxCcdSubsteps(t){this.raw.maxCcdSubsteps=t}}i()}catch(t){i(t)}}))},4563:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{y:()=>s});var n=r(5991),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.Is}free(){this.raw.free(),this.raw=void 0}forEachActiveRigidBodyHandle(t){this.raw.forEachActiveRigidBodyHandle(t)}}i()}catch(t){i(t)}}))},1148:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Am:()=>d,UW:()=>l,jp:()=>h,wI:()=>c,yf:()=>o});var n=r(5991),a=r(4701),s=t([a,n]);[a,n]=s.then?(await s)():s;class o{constructor(t,e){this.rawSet=t,this.handle=e}static newTyped(t,e){switch(t.jointType(e)){case a.dl.Revolute:return new d(t,e);case a.dl.Prismatic:return new h(t,e);case a.dl.Fixed:return new l(t,e);default:return new o(t,e)}}isValid(){return this.rawSet.contains(this.handle)}}class c extends o{}class l extends o{}class h extends c{rawAxis(){return n.JM.X}}class d extends c{rawAxis(){return n.JM.AngX}}i()}catch(t){i(t)}}))},7649:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{h:()=>c});var n=r(5991),a=r(3489),s=r(1148),o=t([n,s]);[n,s]=o.then?(await o)():o;class c{constructor(t){this.raw=t||new n.fl,this.map=new a.F,t&&t.forEachJointHandle((t=>{this.map.set(t,s.yf.newTyped(this.raw,t))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}createJoint(t,e,r,i){const n=t.intoRaw(),a=this.raw.createJoint(n,e,r,i);n.free();let o=s.yf.newTyped(this.raw,a);return this.map.set(a,o),o}remove(t,e){this.raw.remove(t,e),this.map.delete(t)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachJointHandleAttachedToRigidBody(t,e){this.raw.forEachJointAttachedToRigidBody(t,e)}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},5759:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Jj:()=>n,ib:()=>o,xr:()=>c});var n,a=r(8461),s=t([a]);a=(s.then?(await s)():s)[0],function(t){t[t.Dynamic=0]="Dynamic",t[t.Fixed=1]="Fixed",t[t.KinematicPositionBased=2]="KinematicPositionBased",t[t.KinematicVelocityBased=3]="KinematicVelocityBased"}(n||(n={}));class o{constructor(t,e,r){this.rawSet=t,this.colliderSet=e,this.handle=r}finalizeDeserialization(t){this.colliderSet=t}isValid(){return this.rawSet.contains(this.handle)}lockTranslations(t,e){return this.rawSet.rbLockTranslations(this.handle,t,e)}lockRotations(t,e){return this.rawSet.rbLockRotations(this.handle,t,e)}restrictTranslations(t,e,r){return this.rawSet.rbRestrictTranslations(this.handle,t,e,r)}dominanceGroup(){return this.rawSet.rbDominanceGroup(this.handle)}setDominanceGroup(t){this.rawSet.rbSetDominanceGroup(this.handle,t)}enableCcd(t){this.rawSet.rbEnableCcd(this.handle,t)}translation(){let t=this.rawSet.rbTranslation(this.handle);return a.ut.fromRaw(t)}rotation(){let t=this.rawSet.rbRotation(this.handle);return a.T3.fromRaw(t)}nextTranslation(){let t=this.rawSet.rbNextTranslation(this.handle);return a.ut.fromRaw(t)}nextRotation(){let t=this.rawSet.rbNextRotation(this.handle);return a.T3.fromRaw(t)}setTranslation(t,e){this.rawSet.rbSetTranslation(this.handle,t.x,t.y,e)}setLinvel(t,e){let r=a.ut.intoRaw(t);this.rawSet.rbSetLinvel(this.handle,r,e),r.free()}gravityScale(){return this.rawSet.rbGravityScale(this.handle)}setGravityScale(t,e){this.rawSet.rbSetGravityScale(this.handle,t,e)}setRotation(t,e){this.rawSet.rbSetRotation(this.handle,t,e)}setAngvel(t,e){this.rawSet.rbSetAngvel(this.handle,t,e)}setNextKinematicTranslation(t){this.rawSet.rbSetNextKinematicTranslation(this.handle,t.x,t.y)}setNextKinematicRotation(t){this.rawSet.rbSetNextKinematicRotation(this.handle,t)}linvel(){return a.ut.fromRaw(this.rawSet.rbLinvel(this.handle))}angvel(){return this.rawSet.rbAngvel(this.handle)}mass(){return this.rawSet.rbMass(this.handle)}sleep(){this.rawSet.rbSleep(this.handle)}wakeUp(){this.rawSet.rbWakeUp(this.handle)}isCcdEnabled(){this.rawSet.rbIsCcdEnabled(this.handle)}numColliders(){return this.rawSet.rbNumColliders(this.handle)}collider(t){return this.colliderSet.get(this.rawSet.rbCollider(this.handle,t))}bodyType(){return this.rawSet.rbBodyType(this.handle)}setBodyType(t){return this.rawSet.rbSetBodyType(this.handle,t)}isSleeping(){return this.rawSet.rbIsSleeping(this.handle)}isMoving(){return this.rawSet.rbIsMoving(this.handle)}isFixed(){return this.rawSet.rbIsFixed(this.handle)}isKinematic(){return this.rawSet.rbIsKinematic(this.handle)}isDynamic(){return this.rawSet.rbIsDynamic(this.handle)}linearDamping(){return this.rawSet.rbLinearDamping(this.handle)}angularDamping(){return this.rawSet.rbAngularDamping(this.handle)}setLinearDamping(t){this.rawSet.rbSetLinearDamping(this.handle,t)}setAngularDamping(t){this.rawSet.rbSetAngularDamping(this.handle,t)}resetForces(t){this.rawSet.rbResetForces(this.handle,t)}resetTorques(t){this.rawSet.rbResetTorques(this.handle,t)}addForce(t,e){const r=a.ut.intoRaw(t);this.rawSet.rbAddForce(this.handle,r,e),r.free()}applyImpulse(t,e){const r=a.ut.intoRaw(t);this.rawSet.rbApplyImpulse(this.handle,r,e),r.free()}addTorque(t,e){this.rawSet.rbAddTorque(this.handle,t,e)}applyTorqueImpulse(t,e){this.rawSet.rbApplyTorqueImpulse(this.handle,t,e)}addForceAtPoint(t,e,r){const i=a.ut.intoRaw(t),n=a.ut.intoRaw(e);this.rawSet.rbAddForceAtPoint(this.handle,i,n,r),i.free(),n.free()}applyImpulseAtPoint(t,e,r){const i=a.ut.intoRaw(t),n=a.ut.intoRaw(e);this.rawSet.rbApplyImpulseAtPoint(this.handle,i,n,r),i.free(),n.free()}}class c{constructor(t){this.status=t,this.translation=a.ut.zeros(),this.rotation=a.T3.identity(),this.gravityScale=1,this.linvel=a.ut.zeros(),this.mass=0,this.centerOfMass=a.ut.zeros(),this.translationsEnabledX=!0,this.translationsEnabledY=!0,this.angvel=0,this.principalAngularInertia=0,this.rotationsEnabled=!0,this.linearDamping=0,this.angularDamping=0,this.canSleep=!0,this.sleeping=!1,this.ccdEnabled=!1,this.dominanceGroup=0}static dynamic(){return new c(n.Dynamic)}static kinematicPositionBased(){return new c(n.KinematicPositionBased)}static kinematicVelocityBased(){return new c(n.KinematicVelocityBased)}static fixed(){return new c(n.Fixed)}static newDynamic(){return new c(n.Dynamic)}static newKinematicPositionBased(){return new c(n.KinematicPositionBased)}static newKinematicVelocityBased(){return new c(n.KinematicVelocityBased)}static newStatic(){return new c(n.Fixed)}setDominanceGroup(t){return this.dominanceGroup=t,this}setTranslation(t,e){if("number"!=typeof t||"number"!=typeof e)throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:e},this}setRotation(t){return this.rotation=t,this}setGravityScale(t){return this.gravityScale=t,this}setAdditionalMass(t){return this.mass=t,this}setLinvel(t,e){if("number"!=typeof t||"number"!=typeof e)throw TypeError("The linvel components must be numbers.");return this.linvel={x:t,y:e},this}setAngvel(t){return this.angvel=t,this}setAdditionalMassProperties(t,e,r){return this.mass=t,this.centerOfMass=e,this.principalAngularInertia=r,this}setAdditionalPrincipalAngularInertia(t){return this.principalAngularInertia=t,this}restrictTranslations(t,e){return this.translationsEnabledX=t,this.translationsEnabledY=e,this}lockTranslations(){return this.restrictTranslations(!1,!1)}lockRotations(){return this.rotationsEnabled=!1,this}setLinearDamping(t){return this.linearDamping=t,this}setAngularDamping(t){return this.angularDamping=t,this}setCanSleep(t){return this.canSleep=t,this}setSleeping(t){return this.sleeping=t,this}setCcdEnabled(t){return this.ccdEnabled=t,this}setUserData(t){return this.userData=t,this}}i()}catch(t){i(t)}}))},5164:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{r:()=>l});var n=r(5991),a=r(3489),s=r(8461),o=r(5759),c=t([n,o,s]);[n,o,s]=c.then?(await c)():c;class l{constructor(t){this.raw=t||new n.fY,this.map=new a.F,t&&t.forEachRigidBodyHandle((e=>{this.map.set(e,new o.ib(t,null,e))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createRigidBody(t,e){let r=s.ut.intoRaw(e.translation),i=s.T3.intoRaw(e.rotation),n=s.ut.intoRaw(e.linvel),a=s.ut.intoRaw(e.centerOfMass),c=this.raw.createRigidBody(r,i,e.gravityScale,e.mass,a,n,e.angvel,e.principalAngularInertia,e.translationsEnabledX,e.translationsEnabledY,e.rotationsEnabled,e.linearDamping,e.angularDamping,e.status,e.canSleep,e.sleeping,e.ccdEnabled,e.dominanceGroup);r.free(),i.free(),n.free(),a.free();const l=new o.ib(this.raw,t,c);return l.userData=e.userData,this.map.set(c,l),l}remove(t,e,r,i,n){for(let e=0;e<this.raw.rbNumColliders(t);e+=1)r.unmap(this.raw.rbCollider(t,e));i.forEachJointHandleAttachedToRigidBody(t,(t=>i.unmap(t))),n.forEachJointHandleAttachedToRigidBody(t,(t=>n.unmap(t))),this.raw.remove(t,e.raw,r.raw,i.raw,n.raw),this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachActiveRigidBody(t,e){t.forEachActiveRigidBodyHandle((t=>{e(this.get(t))}))}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},3903:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.r(e),r.d(e,{ActiveCollisionTypes:()=>o.vq,ActiveEvents:()=>c.Md,ActiveHooks:()=>c.iX,Ball:()=>o.ec,BroadPhase:()=>o.NT,CCDSolver:()=>s.Kd,Capsule:()=>o.sw,CoefficientCombineRule:()=>s.jK,Collider:()=>o.YM,ColliderDesc:()=>o.ic,ColliderSet:()=>o.zY,ConvexPolygon:()=>o.to,Cuboid:()=>o.jv,DebugRenderBuffers:()=>c.tt,DebugRenderPipeline:()=>c.kh,EventQueue:()=>c.NH,FeatureType:()=>o.Te,FixedImpulseJoint:()=>s.JW,FixedMultibodyJoint:()=>s.UW,Heightfield:()=>o.f4,ImpulseJoint:()=>s.s2,ImpulseJointSet:()=>s.lX,IntegrationParameters:()=>s.RT,IslandManager:()=>s.yB,JointData:()=>s._h,JointType:()=>s.dl,MotorModel:()=>s.Vt,MultibodyJoint:()=>s.yf,MultibodyJointSet:()=>s.h1,NarrowPhase:()=>o.L4,PhysicsPipeline:()=>c.DJ,PointColliderProjection:()=>o.Vl,PointProjection:()=>o.FP,Polyline:()=>o.aH,PrismaticImpulseJoint:()=>s.eZ,PrismaticMultibodyJoint:()=>s.jp,Ray:()=>o.zH,RayColliderIntersection:()=>o.No,RayColliderToi:()=>o.cu,RayIntersection:()=>o.Gz,RevoluteImpulseJoint:()=>s.au,RevoluteMultibodyJoint:()=>s.Am,RigidBody:()=>s.ib,RigidBodyDesc:()=>s.xr,RigidBodySet:()=>s.rF,RigidBodyType:()=>s.Jj,RotationOps:()=>a.T3,RoundConvexPolygon:()=>o.DM,RoundCuboid:()=>o.iA,RoundTriangle:()=>o.$R,Segment:()=>o.XX,SerializationPipeline:()=>c.y9,Shape:()=>o.bn,ShapeColliderTOI:()=>o.mB,ShapeContact:()=>o.Qi,ShapeTOI:()=>o.GJ,ShapeType:()=>o.DY,SolverFlags:()=>c.Nv,TempContactManifold:()=>o.eL,TriMesh:()=>o.az,Triangle:()=>o.CJ,UnitImpulseJoint:()=>s.C1,UnitMultibodyJoint:()=>s.wI,Vector2:()=>a.FM,VectorOps:()=>a.ut,World:()=>c.q3,version:()=>h});var n=r(5991),a=r(8461),s=r(4754),o=r(2002),c=r(2069),l=t([n,a,s,o,c]);function h(){return(0,n.i8)()}[n,a,s,o,c]=l.then?(await l)():l,i()}catch(d){i(d)}}))},3717:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{N:()=>s});var n=r(5991),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.FU}free(){this.raw.free(),this.raw=void 0}}i()}catch(t){i(t)}}))},276:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{YM:()=>u,ic:()=>w,vq:()=>n});var n,a=r(8461),s=r(3118),o=r(3810),c=r(483),l=r(832),h=r(3204),d=r(831),p=t([o,a,l,h,d,c]);[o,a,l,h,d,c]=p.then?(await p)():p,function(t){t[t.DYNAMIC_DYNAMIC=1]="DYNAMIC_DYNAMIC",t[t.DYNAMIC_KINEMATIC=12]="DYNAMIC_KINEMATIC",t[t.DYNAMIC_FIXED=2]="DYNAMIC_FIXED",t[t.KINEMATIC_KINEMATIC=52224]="KINEMATIC_KINEMATIC",t[t.KINEMATIC_FIXED=8704]="KINEMATIC_FIXED",t[t.FIXED_FIXED=32]="FIXED_FIXED",t[t.DEFAULT=15]="DEFAULT",t[t.ALL=60943]="ALL"}(n||(n={}));class u{constructor(t,e,r,i){this.colliderSet=t,this.handle=e,this._parent=r,this._shape=i}finalizeDeserialization(t){null!=this.handle&&(this._parent=t.get(this.colliderSet.raw.coParent(this.handle)))}ensureShapeIsCached(){this._shape||(this._shape=o.bn.fromRaw(this.colliderSet.raw,this.handle))}get shape(){return this.ensureShapeIsCached(),this._shape}isValid(){return this.colliderSet.raw.contains(this.handle)}translation(){return a.ut.fromRaw(this.colliderSet.raw.coTranslation(this.handle))}rotation(){return a.T3.fromRaw(this.colliderSet.raw.coRotation(this.handle))}isSensor(){return this.colliderSet.raw.coIsSensor(this.handle)}setSensor(t){this.colliderSet.raw.coSetSensor(this.handle,t)}setShape(t){let e=t.intoRaw();this.colliderSet.raw.coSetShape(this.handle,e),e.free(),this._shape=t}setRestitution(t){this.colliderSet.raw.coSetRestitution(this.handle,t)}setFriction(t){this.colliderSet.raw.coSetFriction(this.handle,t)}frictionCombineRule(){return this.colliderSet.raw.coFrictionCombineRule(this.handle)}setFrictionCombineRule(t){this.colliderSet.raw.coSetFrictionCombineRule(this.handle,t)}restitutionCombineRule(){return this.colliderSet.raw.coRestitutionCombineRule(this.handle)}setRestitutionCombineRule(t){this.colliderSet.raw.coSetRestitutionCombineRule(this.handle,t)}setCollisionGroups(t){this.colliderSet.raw.coSetCollisionGroups(this.handle,t)}setSolverGroups(t){this.colliderSet.raw.coSetSolverGroups(this.handle,t)}activeHooks(){return this.colliderSet.raw.coActiveHooks(this.handle)}setActiveHooks(t){this.colliderSet.raw.coSetActiveHooks(this.handle,t)}activeEvents(){return this.colliderSet.raw.coActiveEvents(this.handle)}setActiveEvents(t){this.colliderSet.raw.coSetActiveEvents(this.handle,t)}activeCollisionTypes(){return this.colliderSet.raw.coActiveCollisionTypes(this.handle)}setActiveCollisionTypes(t){this.colliderSet.raw.coSetActiveCollisionTypes(this.handle,t)}setTranslation(t){this.colliderSet.raw.coSetTranslation(this.handle,t.x,t.y)}setTranslationWrtParent(t){this.colliderSet.raw.coSetTranslationWrtParent(this.handle,t.x,t.y)}setRotation(t){this.colliderSet.raw.coSetRotation(this.handle,t)}setRotationWrtParent(t){this.colliderSet.raw.coSetRotationWrtParent(this.handle,t)}shapeType(){return this.colliderSet.raw.coShapeType(this.handle)}halfExtents(){return a.ut.fromRaw(this.colliderSet.raw.coHalfExtents(this.handle))}radius(){return this.colliderSet.raw.coRadius(this.handle)}roundRadius(){return this.colliderSet.raw.coRoundRadius(this.handle)}halfHeight(){return this.colliderSet.raw.coHalfHeight(this.handle)}vertices(){return this.colliderSet.raw.coVertices(this.handle)}indices(){return this.colliderSet.raw.coIndices(this.handle)}heightfieldHeights(){return this.colliderSet.raw.coHeightfieldHeights(this.handle)}heightfieldScale(){let t=this.colliderSet.raw.coHeightfieldScale(this.handle);return a.ut.fromRaw(t)}parent(){return this._parent}friction(){return this.colliderSet.raw.coFriction(this.handle)}restitution(){return this.colliderSet.raw.coRestitution(this.handle)}density(){return this.colliderSet.raw.coDensity(this.handle)}collisionGroups(){return this.colliderSet.raw.coCollisionGroups(this.handle)}solverGroups(){return this.colliderSet.raw.coSolverGroups(this.handle)}containsPoint(t){let e=a.ut.intoRaw(t),r=this.colliderSet.raw.coContainsPoint(this.handle,e);return e.free(),r}projectPoint(t,e){let r=a.ut.intoRaw(t),i=l.F.fromRaw(this.colliderSet.raw.coProjectPoint(this.handle,r,e));return r.free(),i}intersectsRay(t,e){let r=a.ut.intoRaw(t.origin),i=a.ut.intoRaw(t.dir),n=this.colliderSet.raw.coIntersectsRay(this.handle,r,i,e);return r.free(),i.free(),n}castShape(t,e,r,i,n,s){let o=a.ut.intoRaw(t),c=a.ut.intoRaw(r),l=a.T3.intoRaw(i),d=a.ut.intoRaw(n),p=e.intoRaw(),u=h.G.fromRaw(this.colliderSet,this.colliderSet.raw.coCastShape(this.handle,o,p,c,l,d,s));return o.free(),c.free(),l.free(),d.free(),p.free(),u}castCollider(t,e,r,i){let n=a.ut.intoRaw(t),s=a.ut.intoRaw(r),o=h.m.fromRaw(this.colliderSet,this.colliderSet.raw.coCastCollider(this.handle,n,e.handle,s,i));return n.free(),s.free(),o}intersectsShape(t,e,r){let i=a.ut.intoRaw(e),n=a.T3.intoRaw(r),s=t.intoRaw(),o=this.colliderSet.raw.coIntersectsShape(this.handle,s,i,n);return i.free(),n.free(),s.free(),o}contactShape(t,e,r,i){let n=a.ut.intoRaw(e),s=a.T3.intoRaw(r),o=t.intoRaw(),c=d.Q.fromRaw(this.colliderSet.raw.coContactShape(this.handle,o,n,s,i));return n.free(),s.free(),o.free(),c}contactCollider(t,e){return d.Q.fromRaw(this.colliderSet.raw.coContactCollider(this.handle,t.handle,e))}castRay(t,e,r){let i=a.ut.intoRaw(t.origin),n=a.ut.intoRaw(t.dir),s=this.colliderSet.raw.coCastRay(this.handle,i,n,e,r);return i.free(),n.free(),s}castRayAndGetNormal(t,e,r){let i=a.ut.intoRaw(t.origin),n=a.ut.intoRaw(t.dir),s=c.Gz.fromRaw(this.colliderSet.raw.coCastRayAndGetNormal(this.handle,i,n,e,r));return i.free(),n.free(),s}}class w{constructor(t){this.shape=t,this.useMassProps=!1,this.density=1,this.friction=.5,this.restitution=0,this.rotation=a.T3.identity(),this.translation=a.ut.zeros(),this.isSensor=!1,this.collisionGroups=4294967295,this.solverGroups=4294967295,this.frictionCombineRule=s.j.Average,this.restitutionCombineRule=s.j.Average,this.activeCollisionTypes=n.DEFAULT,this.activeEvents=0,this.activeHooks=0,this.mass=0,this.centerOfMass=a.ut.zeros(),this.principalAngularInertia=0,this.rotationsEnabled=!0}static ball(t){const e=new o.ec(t);return new w(e)}static capsule(t,e){const r=new o.sw(t,e);return new w(r)}static segment(t,e){const r=new o.XX(t,e);return new w(r)}static triangle(t,e,r){const i=new o.CJ(t,e,r);return new w(i)}static roundTriangle(t,e,r,i){const n=new o.$R(t,e,r,i);return new w(n)}static polyline(t,e){const r=new o.aH(t,e);return new w(r)}static trimesh(t,e){const r=new o.az(t,e);return new w(r)}static cuboid(t,e){const r=new o.jv(t,e);return new w(r)}static roundCuboid(t,e,r){const i=new o.iA(t,e,r);return new w(i)}static heightfield(t,e){const r=new o.f4(t,e);return new w(r)}static convexHull(t){const e=new o.to(t,!1);return new w(e)}static convexPolyline(t){const e=new o.to(t,!0);return new w(e)}static roundConvexHull(t,e){const r=new o.DM(t,e,!1);return new w(r)}static roundConvexPolyline(t,e){const r=new o.DM(t,e,!0);return new w(r)}setTranslation(t,e){if("number"!=typeof t||"number"!=typeof e)throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:e},this}setRotation(t){return this.rotation=t,this}setSensor(t){return this.isSensor=t,this}setDensity(t){return this.useMassProps=!1,this.density=t,this}setMassProperties(t,e,r){return this.useMassProps=!0,this.mass=t,this.centerOfMass=e,this.principalAngularInertia=r,this}setRestitution(t){return this.restitution=t,this}setFriction(t){return this.friction=t,this}setFrictionCombineRule(t){return this.frictionCombineRule=t,this}setRestitutionCombineRule(t){return this.restitutionCombineRule=t,this}setCollisionGroups(t){return this.collisionGroups=t,this}setSolverGroups(t){return this.solverGroups=t,this}setActiveHooks(t){return this.activeHooks=t,this}setActiveEvents(t){return this.activeEvents=t,this}setActiveCollisionTypes(t){return this.activeCollisionTypes=t,this}}i()}catch(t){i(t)}}))},2156:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{z:()=>l});var n=r(5991),a=r(3489),s=r(8461),o=r(276),c=t([n,o,s]);[n,o,s]=c.then?(await c)():c;class l{constructor(t){this.raw=t||new n.IQ,this.map=new a.F,t&&t.forEachColliderHandle((t=>{this.map.set(t,new o.YM(this,t,null))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createCollider(t,e,r){let i=null!=r&&null!=r;if(i&&isNaN(r))throw Error("Cannot create a collider with a parent rigid-body handle that is not a number.");let n=e.shape.intoRaw(),a=s.ut.intoRaw(e.translation),c=s.T3.intoRaw(e.rotation),l=s.ut.intoRaw(e.centerOfMass),h=this.raw.createCollider(n,a,c,e.useMassProps,e.mass,l,e.principalAngularInertia,e.density,e.friction,e.restitution,e.frictionCombineRule,e.restitutionCombineRule,e.isSensor,e.collisionGroups,e.solverGroups,e.activeCollisionTypes,e.activeHooks,e.activeEvents,i,i?r:0,t.raw);n.free(),a.free(),c.free(),l.free();let d=i?t.get(r):null,p=new o.YM(this,h,d,e.shape);return this.map.set(h,p),p}remove(t,e,r,i){this.raw.remove(t,e.raw,r.raw,i),this.unmap(t)}unmap(t){this.map.delete(t)}get(t){return this.map.get(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},831:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Q:()=>s});var n=r(8461),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e,r,i,n){this.distance=t,this.point1=e,this.point2=r,this.normal1=i,this.normal2=n}static fromRaw(t){if(!t)return null;const e=new s(t.distance(),n.ut.fromRaw(t.point1()),n.ut.fromRaw(t.point2()),n.ut.fromRaw(t.normal1()),n.ut.fromRaw(t.normal2()));return t.free(),e}}i()}catch(t){i(t)}}))},5102:(t,e,r)=>{var i;r.d(e,{T:()=>i}),function(t){t[t.Vertex=0]="Vertex",t[t.Face=1]="Face",t[t.Unknown=2]="Unknown"}(i||(i={}))},2002:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{$R:()=>s.$R,CJ:()=>s.CJ,DM:()=>s.DM,DY:()=>s.DY,FP:()=>d.F,GJ:()=>p.G,Gz:()=>h.Gz,L4:()=>a.L,NT:()=>n.N,No:()=>h.No,Qi:()=>u.Q,Te:()=>l.T,Vl:()=>d.V,XX:()=>s.XX,YM:()=>o.YM,aH:()=>s.aH,az:()=>s.az,bn:()=>s.bn,cu:()=>h.cu,eL:()=>a.e,ec:()=>s.ec,f4:()=>s.f4,iA:()=>s.iA,ic:()=>o.ic,jv:()=>s.jv,mB:()=>p.m,sw:()=>s.sw,to:()=>s.to,vq:()=>o.vq,zH:()=>h.zH,zY:()=>c.z});var n=r(3717),a=r(9179),s=r(3810),o=r(276),c=r(2156),l=r(5102),h=r(483),d=r(832),p=r(3204),u=r(831),w=t([n,a,s,o,c,h,d,p,u]);[n,a,s,o,c,h,d,p,u]=w.then?(await w)():w,i()}catch(t){i(t)}}))},9179:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{L:()=>o,e:()=>c});var n=r(5991),a=r(8461),s=t([n,a]);[n,a]=s.then?(await s)():s;class o{constructor(t){this.raw=t||new n.uU,this.tempManifold=new c(null)}free(){this.raw.free(),this.raw=void 0}contactsWith(t,e){this.raw.contacts_with(t,e)}intersectionsWith(t,e){this.raw.intersections_with(t,e)}contactPair(t,e,r){const i=this.raw.contact_pair(t,e);if(i){const e=i.collider1()!=t;let n;for(n=0;n<i.numContactManifolds();++n)this.tempManifold.raw=i.contactManifold(n),this.tempManifold.raw&&r(this.tempManifold,e),this.tempManifold.free();i.free()}}intersectionPair(t,e){return this.raw.intersection_pair(t,e)}}class c{constructor(t){this.raw=t}free(){this.raw.free(),this.raw=void 0}normal(){return a.ut.fromRaw(this.raw.normal())}localNormal1(){return a.ut.fromRaw(this.raw.local_n1())}localNormal2(){return a.ut.fromRaw(this.raw.local_n2())}subshape1(){return this.raw.subshape1()}subshape2(){return this.raw.subshape2()}numContacts(){return this.raw.num_contacts()}localContactPoint1(t){return a.ut.fromRaw(this.raw.contact_local_p1(t))}localContactPoint2(t){return a.ut.fromRaw(this.raw.contact_local_p2(t))}contactDist(t){return this.raw.contact_dist(t)}contactFid1(t){return this.raw.contact_fid1(t)}contactFid2(t){return this.raw.contact_fid2(t)}contactImpulse(t){return this.raw.contact_impulse(t)}contactTangentImpulse(t){return this.raw.contact_tangent_impulse(t)}numSolverContacts(){return this.raw.num_solver_contacts()}solverContactPoint(t){return a.ut.fromRaw(this.raw.solver_contact_point(t))}solverContactDist(t){return this.raw.solver_contact_dist(t)}solverContactFriction(t){return this.raw.solver_contact_friction(t)}solverContactRestitution(t){return this.raw.solver_contact_restitution(t)}solverContactTangentVelocity(t){return a.ut.fromRaw(this.raw.solver_contact_tangent_velocity(t))}}i()}catch(t){i(t)}}))},832:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{F:()=>o,V:()=>c});var n=r(8461),a=r(5102),s=t([n]);n=(s.then?(await s)():s)[0];class o{constructor(t,e){this.point=t,this.isInside=e}static fromRaw(t){if(!t)return null;const e=new o(n.ut.fromRaw(t.point()),t.isInside());return t.free(),e}}class c{constructor(t,e,r,i,n){this.featureType=a.T.Unknown,this.featureId=void 0,this.collider=t,this.point=e,this.isInside=r,void 0!==n&&(this.featureId=n),void 0!==i&&(this.featureType=i)}static fromRaw(t,e){if(!e)return null;const r=new c(t.get(e.colliderHandle()),n.ut.fromRaw(e.point()),e.isInside(),e.featureType(),e.featureId());return e.free(),r}}i()}catch(t){i(t)}}))},483:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Gz:()=>c,No:()=>l,cu:()=>h,zH:()=>o});var n=r(8461),a=r(5102),s=t([n]);n=(s.then?(await s)():s)[0];class o{constructor(t,e){this.origin=t,this.dir=e}pointAt(t){return{x:this.origin.x+this.dir.x*t,y:this.origin.y+this.dir.y*t}}}class c{constructor(t,e,r,i){this.featureType=a.T.Unknown,this.featureId=void 0,this.toi=t,this.normal=e,void 0!==i&&(this.featureId=i),void 0!==r&&(this.featureType=r)}static fromRaw(t){if(!t)return null;const e=new c(t.toi(),n.ut.fromRaw(t.normal()),t.featureType(),t.featureId());return t.free(),e}}class l{constructor(t,e,r,i,n){this.featureType=a.T.Unknown,this.featureId=void 0,this.collider=t,this.toi=e,this.normal=r,void 0!==n&&(this.featureId=n),void 0!==i&&(this.featureType=i)}static fromRaw(t,e){if(!e)return null;const r=new l(t.get(e.colliderHandle()),e.toi(),n.ut.fromRaw(e.normal()),e.featureType(),e.featureId());return e.free(),r}}class h{constructor(t,e){this.collider=t,this.toi=e}static fromRaw(t,e){if(!e)return null;const r=new h(t.get(e.colliderHandle()),e.toi());return e.free(),r}}i()}catch(t){i(t)}}))},3810:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{$R:()=>b,CJ:()=>m,DM:()=>S,DY:()=>n,XX:()=>f,aH:()=>g,az:()=>R,bn:()=>p,ec:()=>u,f4:()=>C,iA:()=>_,jv:()=>w,sw:()=>y,to:()=>v});var n,a=r(8461),s=r(5991),o=r(831),c=r(832),l=r(483),h=r(3204),d=t([a,h,o,c,l,s]);[a,h,o,c,l,s]=d.then?(await d)():d;class p{static fromRaw(t,e){const r=t.coShapeType(e);let i,s,o,c,l,h;switch(r){case n.Ball:return new u(t.coRadius(e));case n.Cuboid:return i=t.coHalfExtents(e),new w(i.x,i.y);case n.RoundCuboid:return i=t.coHalfExtents(e),s=t.coRoundRadius(e),new _(i.x,i.y,s);case n.Capsule:return l=t.coHalfHeight(e),h=t.coRadius(e),new y(l,h);case n.Segment:return o=t.coVertices(e),new f(a.ut.new(o[0],o[1]),a.ut.new(o[2],o[3]));case n.Polyline:return o=t.coVertices(e),c=t.coIndices(e),new g(o,c);case n.Triangle:return o=t.coVertices(e),new m(a.ut.new(o[0],o[1]),a.ut.new(o[2],o[3]),a.ut.new(o[4],o[5]));case n.RoundTriangle:return o=t.coVertices(e),s=t.coRoundRadius(e),new b(a.ut.new(o[0],o[1]),a.ut.new(o[2],o[3]),a.ut.new(o[4],o[5]),s);case n.TriMesh:return o=t.coVertices(e),c=t.coIndices(e),new R(o,c);case n.HeightField:const d=t.coHeightfieldScale(e),p=t.coHeightfieldHeights(e);return new C(p,d);case n.ConvexPolygon:return o=t.coVertices(e),new v(o,!1);case n.RoundConvexPolygon:return o=t.coVertices(e),s=t.coRoundRadius(e),new S(o,s,!1);default:throw new Error("unknown shape type: "+r)}}castShape(t,e,r,i,n,s,o,c){let l=a.ut.intoRaw(t),d=a.T3.intoRaw(e),p=a.ut.intoRaw(r),u=a.ut.intoRaw(n),w=a.T3.intoRaw(s),_=a.ut.intoRaw(o),y=this.intoRaw(),f=i.intoRaw(),m=h.G.fromRaw(null,y.castShape(l,d,p,f,u,w,_,c));return l.free(),d.free(),p.free(),u.free(),w.free(),_.free(),y.free(),f.free(),m}intersectsShape(t,e,r,i,n){let s=a.ut.intoRaw(t),o=a.T3.intoRaw(e),c=a.ut.intoRaw(i),l=a.T3.intoRaw(n),h=this.intoRaw(),d=r.intoRaw(),p=h.intersectsShape(s,o,d,c,l);return s.free(),o.free(),c.free(),l.free(),h.free(),d.free(),p}contactShape(t,e,r,i,n,s){let c=a.ut.intoRaw(t),l=a.T3.intoRaw(e),h=a.ut.intoRaw(i),d=a.T3.intoRaw(n),p=this.intoRaw(),u=r.intoRaw(),w=o.Q.fromRaw(p.contactShape(c,l,u,h,d,s));return c.free(),l.free(),h.free(),d.free(),p.free(),u.free(),w}containsPoint(t,e,r){let i=a.ut.intoRaw(t),n=a.T3.intoRaw(e),s=a.ut.intoRaw(r),o=this.intoRaw(),c=o.containsPoint(i,n,s);return i.free(),n.free(),s.free(),o.free(),c}projectPoint(t,e,r,i){let n=a.ut.intoRaw(t),s=a.T3.intoRaw(e),o=a.ut.intoRaw(r),l=this.intoRaw(),h=c.F.fromRaw(l.projectPoint(n,s,o,i));return n.free(),s.free(),o.free(),l.free(),h}intersectsRay(t,e,r,i){let n=a.ut.intoRaw(e),s=a.T3.intoRaw(r),o=a.ut.intoRaw(t.origin),c=a.ut.intoRaw(t.dir),l=this.intoRaw(),h=l.intersectsRay(n,s,o,c,i);return n.free(),s.free(),o.free(),c.free(),l.free(),h}castRay(t,e,r,i,n){let s=a.ut.intoRaw(e),o=a.T3.intoRaw(r),c=a.ut.intoRaw(t.origin),l=a.ut.intoRaw(t.dir),h=this.intoRaw(),d=h.castRay(s,o,c,l,i,n);return s.free(),o.free(),c.free(),l.free(),h.free(),d}castRayAndGetNormal(t,e,r,i,n){let s=a.ut.intoRaw(e),o=a.T3.intoRaw(r),c=a.ut.intoRaw(t.origin),h=a.ut.intoRaw(t.dir),d=this.intoRaw(),p=l.Gz.fromRaw(d.castRayAndGetNormal(s,o,c,h,i,n));return s.free(),o.free(),c.free(),h.free(),d.free(),p}}!function(t){t[t.Ball=0]="Ball",t[t.Cuboid=1]="Cuboid",t[t.Capsule=2]="Capsule",t[t.Segment=3]="Segment",t[t.Polyline=4]="Polyline",t[t.Triangle=5]="Triangle",t[t.TriMesh=6]="TriMesh",t[t.HeightField=7]="HeightField",t[t.ConvexPolygon=9]="ConvexPolygon",t[t.RoundCuboid=10]="RoundCuboid",t[t.RoundTriangle=11]="RoundTriangle",t[t.RoundConvexPolygon=12]="RoundConvexPolygon"}(n||(n={}));class u extends p{constructor(t){super(),this.type=n.Ball,this.radius=t}intoRaw(){return s.X7.ball(this.radius)}}class w extends p{constructor(t,e){super(),this.type=n.Cuboid,this.halfExtents=a.ut.new(t,e)}intoRaw(){return s.X7.cuboid(this.halfExtents.x,this.halfExtents.y)}}class _ extends p{constructor(t,e,r){super(),this.type=n.RoundCuboid,this.halfExtents=a.ut.new(t,e),this.borderRadius=r}intoRaw(){return s.X7.roundCuboid(this.halfExtents.x,this.halfExtents.y,this.borderRadius)}}class y extends p{constructor(t,e){super(),this.type=n.Capsule,this.halfHeight=t,this.radius=e}intoRaw(){return s.X7.capsule(this.halfHeight,this.radius)}}class f extends p{constructor(t,e){super(),this.type=n.Segment,this.a=t,this.b=e}intoRaw(){let t=a.ut.intoRaw(this.a),e=a.ut.intoRaw(this.b),r=s.X7.segment(t,e);return t.free(),e.free(),r}}class m extends p{constructor(t,e,r){super(),this.type=n.Triangle,this.a=t,this.b=e,this.c=r}intoRaw(){let t=a.ut.intoRaw(this.a),e=a.ut.intoRaw(this.b),r=a.ut.intoRaw(this.c),i=s.X7.triangle(t,e,r);return t.free(),e.free(),r.free(),i}}class b extends p{constructor(t,e,r,i){super(),this.type=n.RoundTriangle,this.a=t,this.b=e,this.c=r,this.borderRadius=i}intoRaw(){let t=a.ut.intoRaw(this.a),e=a.ut.intoRaw(this.b),r=a.ut.intoRaw(this.c),i=s.X7.roundTriangle(t,e,r,this.borderRadius);return t.free(),e.free(),r.free(),i}}class g extends p{constructor(t,e){super(),this.type=n.Polyline,this.vertices=t,this.indices=null!=e?e:new Uint32Array(0)}intoRaw(){return s.X7.polyline(this.vertices,this.indices)}}class R extends p{constructor(t,e){super(),this.type=n.TriMesh,this.vertices=t,this.indices=e}intoRaw(){return s.X7.trimesh(this.vertices,this.indices)}}class v extends p{constructor(t,e){super(),this.type=n.ConvexPolygon,this.vertices=t,this.skipConvexHullComputation=!!e}intoRaw(){return this.skipConvexHullComputation?s.X7.convexPolyline(this.vertices):s.X7.convexHull(this.vertices)}}class S extends p{constructor(t,e,r){super(),this.type=n.RoundConvexPolygon,this.vertices=t,this.borderRadius=e,this.skipConvexHullComputation=!!r}intoRaw(){return this.skipConvexHullComputation?s.X7.roundConvexPolyline(this.vertices,this.borderRadius):s.X7.roundConvexHull(this.vertices,this.borderRadius)}}class C extends p{constructor(t,e){super(),this.type=n.HeightField,this.heights=t,this.scale=e}intoRaw(){let t=a.ut.intoRaw(this.scale),e=s.X7.heightfield(this.heights,t);return t.free(),e}}i()}catch(t){i(t)}}))},3204:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{G:()=>s,m:()=>o});var n=r(8461),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e,r,i,n){this.toi=t,this.witness1=e,this.witness2=r,this.normal1=i,this.normal2=n}static fromRaw(t,e){if(!e)return null;const r=new s(e.toi(),n.ut.fromRaw(e.witness1()),n.ut.fromRaw(e.witness2()),n.ut.fromRaw(e.normal1()),n.ut.fromRaw(e.normal2()));return e.free(),r}}class o extends s{constructor(t,e,r,i,n,a){super(e,r,i,n,a),this.collider=t}static fromRaw(t,e){if(!e)return null;const r=new o(t.get(e.colliderHandle()),e.toi(),n.ut.fromRaw(e.witness1()),n.ut.fromRaw(e.witness2()),n.ut.fromRaw(e.normal1()),n.ut.fromRaw(e.normal2()));return e.free(),r}}i()}catch(t){i(t)}}))},8461:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{FM:()=>s,T3:()=>c,ut:()=>o});var n=r(5991),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e){this.x=t,this.y=e}}class o{static new(t,e){return new s(t,e)}static zeros(){return o.new(0,0)}static fromRaw(t){if(!t)return null;let e=o.new(t.x,t.y);return t.free(),e}static intoRaw(t){return new n.WF(t.x,t.y)}}class c{static identity(){return 0}static fromRaw(t){if(!t)return null;let e=t.angle;return t.free(),e}static intoRaw(t){return n.$Z.fromAngle(t)}}i()}catch(t){i(t)}}))},8388:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{k:()=>o,t:()=>s});var n=r(5991),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e){this.vertices=t,this.colors=e}}class o{constructor(t){this.raw=t||new n.wb}free(){this.raw.free(),this.raw=void 0,this.vertices=void 0,this.colors=void 0}render(t,e,r,i,n){this.raw.render(t.raw,e.raw,r.raw,i.raw,n.raw),this.vertices=this.raw.vertices(),this.colors=this.raw.colors()}}i()}catch(t){i(t)}}))},5023:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{M:()=>n,N:()=>o});var n,a=r(5991),s=t([a]);a=(s.then?(await s)():s)[0],function(t){t[t.COLLISION_EVENTS=1]="COLLISION_EVENTS"}(n||(n={}));class o{constructor(t,e){this.raw=e||new a.we(t)}free(){this.raw.free(),this.raw=void 0}drainCollisionEvents(t){this.raw.drainCollisionEvents(t)}clear(){this.raw.clear()}}i()}catch(t){i(t)}}))},2069:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{DJ:()=>a.D,Md:()=>o.M,NH:()=>o.N,Nv:()=>c.N,iX:()=>c.i,kh:()=>l.k,q3:()=>n.q,tt:()=>l.t,y9:()=>s.y});var n=r(5088),a=r(4288),s=r(6447),o=r(5023),c=r(7021),l=r(8388),h=t([n,a,s,o,l]);[n,a,s,o,l]=h.then?(await h)():h,i()}catch(t){i(t)}}))},7021:(t,e,r)=>{var i,n;r.d(e,{N:()=>n,i:()=>i}),function(t){t[t.FILTER_CONTACT_PAIRS=1]="FILTER_CONTACT_PAIRS",t[t.FILTER_INTERSECTION_PAIRS=2]="FILTER_INTERSECTION_PAIRS"}(i||(i={})),function(t){t[t.EMPTY=0]="EMPTY",t[t.COMPUTE_IMPULSE=1]="COMPUTE_IMPULSE"}(n||(n={}))},4288:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{D:()=>o});var n=r(5991),a=r(8461),s=t([n,a]);[n,a]=s.then?(await s)():s;class o{constructor(t){this.raw=t||new n._q}free(){this.raw.free(),this.raw=void 0}step(t,e,r,i,n,s,o,c,l,h,d,p){let u=a.ut.intoRaw(t);d?this.raw.stepWithEvents(u,e.raw,r.raw,i.raw,n.raw,s.raw,o.raw,c.raw,l.raw,h.raw,d.raw,p,p?p.filterContactPair:null,p?p.filterIntersectionPair:null):this.raw.step(u,e.raw,r.raw,i.raw,n.raw,s.raw,o.raw,c.raw,l.raw,h.raw),u.free()}}i()}catch(t){i(t)}}))},3796:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{V:()=>h});var n=r(5991),a=r(483),s=r(832),o=r(3204),c=r(8461),l=t([n,c,a,s,o]);[n,c,a,s,o]=l.then?(await l)():l;class h{constructor(t){this.raw=t||new n.nv}free(){this.raw.free(),this.raw=void 0}update(t,e,r){this.raw.update(t.raw,e.raw,r.raw)}castRay(t,e,r,i,n,s){let o=c.ut.intoRaw(e.origin),l=c.ut.intoRaw(e.dir),h=a.cu.fromRaw(t,this.raw.castRay(t.raw,o,l,r,i,n,s));return o.free(),l.free(),h}castRayAndGetNormal(t,e,r,i,n,s){let o=c.ut.intoRaw(e.origin),l=c.ut.intoRaw(e.dir),h=a.No.fromRaw(t,this.raw.castRayAndGetNormal(t.raw,o,l,r,i,n,s));return o.free(),l.free(),h}intersectionsWithRay(t,e,r,i,n,s,o){let l=c.ut.intoRaw(e.origin),h=c.ut.intoRaw(e.dir);this.raw.intersectionsWithRay(t.raw,l,h,r,i,n,(e=>s(a.No.fromRaw(t,e))),o),l.free(),h.free()}intersectionWithShape(t,e,r,i,n,a){let s=c.ut.intoRaw(e),o=c.T3.intoRaw(r),l=i.intoRaw(),h=this.raw.intersectionWithShape(t.raw,s,o,l,n,a);return s.free(),o.free(),l.free(),h}projectPoint(t,e,r,i,n){let a=c.ut.intoRaw(e),o=s.V.fromRaw(t,this.raw.projectPoint(t.raw,a,r,i,n));return a.free(),o}projectPointAndGetFeature(t,e,r){let i=c.ut.intoRaw(e),n=s.V.fromRaw(t,this.raw.projectPointAndGetFeature(t.raw,i,r));return i.free(),n}intersectionsWithPoint(t,e,r,i,n){let a=c.ut.intoRaw(e);this.raw.intersectionsWithPoint(t.raw,a,r,i,n),a.free()}castShape(t,e,r,i,n,a,s,l){let h=c.ut.intoRaw(e),d=c.T3.intoRaw(r),p=c.ut.intoRaw(i),u=n.intoRaw(),w=o.m.fromRaw(t,this.raw.castShape(t.raw,h,d,p,u,a,s,l));return h.free(),d.free(),p.free(),u.free(),w}intersectionsWithShape(t,e,r,i,n,a,s){let o=c.ut.intoRaw(e),l=c.T3.intoRaw(r),h=i.intoRaw();this.raw.intersectionsWithShape(t.raw,o,l,h,n,a,s),o.free(),l.free(),h.free()}collidersWithAabbIntersectingAabb(t,e,r){let i=c.ut.intoRaw(t),n=c.ut.intoRaw(e);this.raw.collidersWithAabbIntersectingAabb(i,n,r),i.free(),n.free()}}i()}catch(t){i(t)}}))},6447:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{y:()=>c});var n=r(5991),a=r(8461),s=r(5088),o=t([n,a,s]);[n,a,s]=o.then?(await o)():o;class c{constructor(t){this.raw=t||new n.w0}free(){this.raw.free(),this.raw=void 0}serializeAll(t,e,r,i,n,s,o,c,l){let h=a.ut.intoRaw(t);const d=this.raw.serializeAll(h,e.raw,r.raw,i.raw,n.raw,s.raw,o.raw,c.raw,l.raw);return h.free(),d}deserializeAll(t){return s.q.fromRaw(this.raw.deserializeAll(t))}}i()}catch(t){i(t)}}))},5088:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{q:()=>b});var n=r(3717),a=r(9179),s=r(2156),o=r(8597),c=r(4563),l=r(5164),h=r(7889),d=r(7649),p=r(3721),u=r(8461),w=r(4288),_=r(3796),y=r(6447),f=r(8388),m=t([o,c,n,a,l,s,h,d,p,_,w,y,f,u]);[o,c,n,a,l,s,h,d,p,_,w,y,f,u]=m.then?(await m)():m;class b{constructor(t,e,r,i,u,m,b,g,R,v,S,C,T,P){this.gravity=t,this.integrationParameters=new o.R(e),this.islands=new c.y(r),this.broadPhase=new n.N(i),this.narrowPhase=new a.L(u),this.bodies=new l.r(m),this.colliders=new s.z(b),this.impulseJoints=new h.l(g),this.multibodyJoints=new d.h(R),this.ccdSolver=new p.K(v),this.queryPipeline=new _.V(S),this.physicsPipeline=new w.D(C),this.serializationPipeline=new y.y(T),this.debugRenderPipeline=new f.k(P),this.impulseJoints.finalizeDeserialization(this.bodies),this.bodies.finalizeDeserialization(this.colliders),this.colliders.finalizeDeserialization(this.bodies)}free(){this.integrationParameters.free(),this.islands.free(),this.broadPhase.free(),this.narrowPhase.free(),this.bodies.free(),this.colliders.free(),this.impulseJoints.free(),this.multibodyJoints.free(),this.ccdSolver.free(),this.queryPipeline.free(),this.physicsPipeline.free(),this.serializationPipeline.free(),this.debugRenderPipeline.free(),this.integrationParameters=void 0,this.islands=void 0,this.broadPhase=void 0,this.narrowPhase=void 0,this.bodies=void 0,this.colliders=void 0,this.ccdSolver=void 0,this.impulseJoints=void 0,this.multibodyJoints=void 0,this.queryPipeline=void 0,this.physicsPipeline=void 0,this.serializationPipeline=void 0,this.debugRenderPipeline=void 0}static fromRaw(t){return t?new b(u.ut.fromRaw(t.takeGravity()),t.takeIntegrationParameters(),t.takeIslandManager(),t.takeBroadPhase(),t.takeNarrowPhase(),t.takeBodies(),t.takeColliders(),t.takeImpulseJoints(),t.takeMultibodyJoints()):null}takeSnapshot(){return this.serializationPipeline.serializeAll(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints)}static restoreSnapshot(t){return(new y.y).deserializeAll(t)}debugRender(){return this.debugRenderPipeline.render(this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.narrowPhase),new f.t(this.debugRenderPipeline.vertices,this.debugRenderPipeline.colors)}step(t,e){this.physicsPipeline.step(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.ccdSolver,t,e),this.queryPipeline.update(this.islands,this.bodies,this.colliders)}get timestep(){return this.integrationParameters.dt}set timestep(t){this.integrationParameters.dt=t}get maxVelocityIterations(){return this.integrationParameters.maxVelocityIterations}set maxVelocityIterations(t){this.integrationParameters.maxVelocityIterations=t}get maxVelocityFrictionIterations(){return this.integrationParameters.maxVelocityFrictionIterations}set maxVelocityFrictionIterations(t){this.integrationParameters.maxVelocityFrictionIterations=t}get maxStabilizationIterations(){return this.integrationParameters.maxStabilizationIterations}set maxStabilizationIterations(t){this.integrationParameters.maxStabilizationIterations=t}createRigidBody(t){return this.bodies.createRigidBody(this.colliders,t)}createCollider(t,e){let r=e?e.handle:void 0;return this.colliders.createCollider(this.bodies,t,r)}createImpulseJoint(t,e,r,i){return this.impulseJoints.createJoint(this.bodies,t,e.handle,r.handle,i)}createMultibodyJoint(t,e,r,i){return this.multibodyJoints.createJoint(t,e.handle,r.handle,i)}getRigidBody(t){return this.bodies.get(t)}getCollider(t){return this.colliders.get(t)}getImpulseJoint(t){return this.impulseJoints.get(t)}getMultibodyJoint(t){return this.multibodyJoints.get(t)}removeRigidBody(t){this.bodies&&this.bodies.remove(t.handle,this.islands,this.colliders,this.impulseJoints,this.multibodyJoints)}removeCollider(t,e){this.colliders&&this.colliders.remove(t.handle,this.islands,this.bodies,e)}removeImpulseJoint(t,e){this.impulseJoints&&this.impulseJoints.remove(t.handle,e)}removeMultibodyJoint(t,e){this.impulseJoints&&this.multibodyJoints.remove(t.handle,e)}forEachCollider(t){this.colliders.forEach(t)}forEachRigidBody(t){this.bodies.forEach(t)}forEachActiveRigidBody(t){this.bodies.forEachActiveRigidBody(this.islands,t)}castRay(t,e,r,i,n){return this.queryPipeline.castRay(this.colliders,t,e,r,i,g(this.colliders,n))}castRayAndGetNormal(t,e,r,i,n){return this.queryPipeline.castRayAndGetNormal(this.colliders,t,e,r,i,g(this.colliders,n))}intersectionsWithRay(t,e,r,i,n,a){this.queryPipeline.intersectionsWithRay(this.colliders,t,e,r,i,n,g(this.colliders,a))}intersectionWithShape(t,e,r,i,n){let a=this.queryPipeline.intersectionWithShape(this.colliders,t,e,r,i,g(this.colliders,n));return null!=a?this.colliders.get(a):null}projectPoint(t,e,r,i){return this.queryPipeline.projectPoint(this.colliders,t,e,r,g(this.colliders,i))}projectPointAndGetFeature(t,e){return this.queryPipeline.projectPointAndGetFeature(this.colliders,t,e)}intersectionsWithPoint(t,e,r,i){this.queryPipeline.intersectionsWithPoint(this.colliders,t,e,g(this.colliders,r),g(this.colliders,i))}castShape(t,e,r,i,n,a,s){return this.queryPipeline.castShape(this.colliders,t,e,r,i,n,a,g(this.colliders,s))}intersectionsWithShape(t,e,r,i,n,a){this.queryPipeline.intersectionsWithShape(this.colliders,t,e,r,i,g(this.colliders,n),g(this.colliders,a))}collidersWithAabbIntersectingAabb(t,e,r){this.queryPipeline.collidersWithAabbIntersectingAabb(t,e,g(this.colliders,r))}contactsWith(t,e){this.narrowPhase.contactsWith(t.handle,g(this.colliders,e))}intersectionsWith(t,e){this.narrowPhase.intersectionsWith(t.handle,g(this.colliders,e))}contactPair(t,e,r){this.narrowPhase.contactPair(t.handle,e.handle,r)}intersectionPair(t,e){return this.narrowPhase.intersectionPair(t.handle,e.handle)}}function g(t,e){return r=>e?e(t.get(r)):void 0}i()}catch(R){i(R)}}))},8234:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.r(e),r.d(e,{ActiveCollisionTypes:()=>n.ActiveCollisionTypes,ActiveEvents:()=>n.ActiveEvents,ActiveHooks:()=>n.ActiveHooks,Ball:()=>n.Ball,BroadPhase:()=>n.BroadPhase,CCDSolver:()=>n.CCDSolver,Capsule:()=>n.Capsule,CoefficientCombineRule:()=>n.CoefficientCombineRule,Collider:()=>n.Collider,ColliderDesc:()=>n.ColliderDesc,ColliderSet:()=>n.ColliderSet,ConvexPolygon:()=>n.ConvexPolygon,Cuboid:()=>n.Cuboid,DebugRenderBuffers:()=>n.DebugRenderBuffers,DebugRenderPipeline:()=>n.DebugRenderPipeline,EventQueue:()=>n.EventQueue,FeatureType:()=>n.FeatureType,FixedImpulseJoint:()=>n.FixedImpulseJoint,FixedMultibodyJoint:()=>n.FixedMultibodyJoint,Heightfield:()=>n.Heightfield,ImpulseJoint:()=>n.ImpulseJoint,ImpulseJointSet:()=>n.ImpulseJointSet,IntegrationParameters:()=>n.IntegrationParameters,IslandManager:()=>n.IslandManager,JointData:()=>n.JointData,JointType:()=>n.JointType,MotorModel:()=>n.MotorModel,MultibodyJoint:()=>n.MultibodyJoint,MultibodyJointSet:()=>n.MultibodyJointSet,NarrowPhase:()=>n.NarrowPhase,PhysicsPipeline:()=>n.PhysicsPipeline,PointColliderProjection:()=>n.PointColliderProjection,PointProjection:()=>n.PointProjection,Polyline:()=>n.Polyline,PrismaticImpulseJoint:()=>n.PrismaticImpulseJoint,PrismaticMultibodyJoint:()=>n.PrismaticMultibodyJoint,Ray:()=>n.Ray,RayColliderIntersection:()=>n.RayColliderIntersection,RayColliderToi:()=>n.RayColliderToi,RayIntersection:()=>n.RayIntersection,RevoluteImpulseJoint:()=>n.RevoluteImpulseJoint,RevoluteMultibodyJoint:()=>n.RevoluteMultibodyJoint,RigidBody:()=>n.RigidBody,RigidBodyDesc:()=>n.RigidBodyDesc,RigidBodySet:()=>n.RigidBodySet,RigidBodyType:()=>n.RigidBodyType,RotationOps:()=>n.RotationOps,RoundConvexPolygon:()=>n.RoundConvexPolygon,RoundCuboid:()=>n.RoundCuboid,RoundTriangle:()=>n.RoundTriangle,Segment:()=>n.Segment,SerializationPipeline:()=>n.SerializationPipeline,Shape:()=>n.Shape,ShapeColliderTOI:()=>n.ShapeColliderTOI,ShapeContact:()=>n.ShapeContact,ShapeTOI:()=>n.ShapeTOI,ShapeType:()=>n.ShapeType,SolverFlags:()=>n.SolverFlags,TempContactManifold:()=>n.TempContactManifold,TriMesh:()=>n.TriMesh,Triangle:()=>n.Triangle,UnitImpulseJoint:()=>n.UnitImpulseJoint,UnitMultibodyJoint:()=>n.UnitMultibodyJoint,Vector2:()=>n.Vector2,VectorOps:()=>n.VectorOps,World:()=>n.World,default:()=>s,version:()=>n.version});var n=r(3903),a=t([n]);const s=n=(a.then?(await a)():a)[0];i()}catch(t){i(t)}}))},5991:(t,e,r)=>{r.a(t,(async(i,n)=>{try{r.d(e,{$Z:()=>it,Dl:()=>Pt,EF:()=>gt,FU:()=>J,HT:()=>ut,IQ:()=>z,Ip:()=>St,Is:()=>X,JM:()=>D,LE:()=>H,M1:()=>pt,Ne:()=>wt,Oo:()=>Ct,Or:()=>xt,Qc:()=>O,VR:()=>Rt,WF:()=>lt,X7:()=>at,XJ:()=>Tt,_F:()=>It,_q:()=>K,cQ:()=>L,cb:()=>vt,dm:()=>ft,eG:()=>bt,fY:()=>rt,fl:()=>q,i8:()=>R,n_:()=>mt,nv:()=>$,o$:()=>_t,oH:()=>jt,oQ:()=>At,pT:()=>dt,ry:()=>yt,uU:()=>U,ug:()=>ht,w0:()=>nt,wb:()=>N,we:()=>V,zu:()=>W});var a=r(8500);t=r.hmd(t);var s=i([a]);a=(s.then?(await s)():s)[0];const o=new Array(32).fill(void 0);function c(t){return o[t]}o.push(void 0,null,!0,!1);let l=o.length;function h(t){t<36||(o[t]=l,l=t)}function d(t){const e=c(t);return h(t),e}function p(t){l===o.length&&o.push(o.length+1);const e=l;return l=o[e],o[e]=t,e}function u(t){return null==t}let w=null;function _(){return null!==w&&w.buffer===a.memory.buffer||(w=new Float64Array(a.memory.buffer)),w}let y=null;function f(){return null!==y&&y.buffer===a.memory.buffer||(y=new Int32Array(a.memory.buffer)),y}let m=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});m.decode();let b=null;function g(t,e){return m.decode((null!==b&&b.buffer===a.memory.buffer||(b=new Uint8Array(a.memory.buffer)),b).subarray(t,t+e))}function R(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.version(r);var t=f()[r/4+0],e=f()[r/4+1];return g(t,e)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,e)}}function v(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}let S=32;function C(t){if(1==S)throw new Error("out of js stack");return o[--S]=t,S}let T=null;function P(){return null!==T&&T.buffer===a.memory.buffer||(T=new Float32Array(a.memory.buffer)),T}function A(t,e){return P().subarray(t/4,t/4+e)}let I=null;function x(){return null!==I&&I.buffer===a.memory.buffer||(I=new Uint32Array(a.memory.buffer)),I}let j=0;function E(t,e){const r=e(4*t.length);return P().set(t,r/4),j=t.length,r}function M(t,e){const r=e(4*t.length);return x().set(t,r/4),j=t.length,r}function F(t,e){try{return t.apply(this,e)}catch(t){a.__wbindgen_exn_store(p(t))}}Object.freeze({Revolute:0,0:"Revolute",Fixed:1,1:"Fixed",Prismatic:2,2:"Prismatic",Generic:3,3:"Generic"}),Object.freeze({AccelerationBased:0,0:"AccelerationBased",ForceBased:1,1:"ForceBased"});const D=Object.freeze({X:0,0:"X",Y:1,1:"Y",AngX:2,2:"AngX"});Object.freeze({Dynamic:0,0:"Dynamic",Fixed:1,1:"Fixed",KinematicPositionBased:2,2:"KinematicPositionBased",KinematicVelocityBased:3,3:"KinematicVelocityBased"}),Object.freeze({Vertex:0,0:"Vertex",Face:1,1:"Face",Unknown:2,2:"Unknown"}),Object.freeze({Ball:0,0:"Ball",Cuboid:1,1:"Cuboid",Capsule:2,2:"Capsule",Segment:3,3:"Segment",Polyline:4,4:"Polyline",Triangle:5,5:"Triangle",TriMesh:6,6:"TriMesh",HeightField:7,7:"HeightField",Compound:8,8:"Compound",ConvexPolygon:9,9:"ConvexPolygon",RoundCuboid:10,10:"RoundCuboid",RoundTriangle:11,11:"RoundTriangle",RoundConvexPolygon:12,12:"RoundConvexPolygon"});class J{static __wrap(t){const e=Object.create(J.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawbroadphase_free(t)}constructor(){const t=a.rawbroadphase_new();return J.__wrap(t)}}class H{static __wrap(t){const e=Object.create(H.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawccdsolver_free(t)}constructor(){const t=a.rawccdsolver_new();return H.__wrap(t)}}class z{static __wrap(t){const e=Object.create(z.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawcolliderset_free(t)}coTranslation(t){const e=a.rawcolliderset_coTranslation(this.ptr,t);return lt.__wrap(e)}coRotation(t){const e=a.rawcolliderset_coRotation(this.ptr,t);return it.__wrap(e)}coSetTranslation(t,e,r){a.rawcolliderset_coSetTranslation(this.ptr,t,e,r)}coSetTranslationWrtParent(t,e,r){a.rawcolliderset_coSetTranslationWrtParent(this.ptr,t,e,r)}coSetRotation(t,e){a.rawcolliderset_coSetRotation(this.ptr,t,e)}coSetRotationWrtParent(t,e){a.rawcolliderset_coSetRotationWrtParent(this.ptr,t,e)}coIsSensor(t){return 0!==a.rawcolliderset_coIsSensor(this.ptr,t)}coShapeType(t){return a.rawcolliderset_coShapeType(this.ptr,t)>>>0}coHalfExtents(t){const e=a.rawcolliderset_coHalfExtents(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}coRadius(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coRadius(i,this.ptr,t);var e=f()[i/4+0],r=P()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coHalfHeight(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coHalfHeight(i,this.ptr,t);var e=f()[i/4+0],r=P()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coRoundRadius(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coRoundRadius(i,this.ptr,t);var e=f()[i/4+0],r=P()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coVertices(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coVertices(i,this.ptr,t);var e=f()[i/4+0],r=f()[i/4+1];let n;return 0!==e&&(n=A(e,r).slice(),a.__wbindgen_free(e,4*r)),n}finally{a.__wbindgen_add_to_stack_pointer(16)}}coIndices(t){try{const s=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coIndices(s,this.ptr,t);var e=f()[s/4+0],r=f()[s/4+1];let o;return 0!==e&&(o=(i=e,n=r,x().subarray(i/4,i/4+n)).slice(),a.__wbindgen_free(e,4*r)),o}finally{a.__wbindgen_add_to_stack_pointer(16)}var i,n}coHeightfieldHeights(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coHeightfieldHeights(i,this.ptr,t);var e=f()[i/4+0],r=f()[i/4+1];let n;return 0!==e&&(n=A(e,r).slice(),a.__wbindgen_free(e,4*r)),n}finally{a.__wbindgen_add_to_stack_pointer(16)}}coHeightfieldScale(t){const e=a.rawcolliderset_coHeightfieldScale(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}coParent(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coParent(i,this.ptr,t);var e=f()[i/4+0],r=_()[i/8+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coFriction(t){return a.rawcolliderset_coFriction(this.ptr,t)}coRestitution(t){return a.rawcolliderset_coRestitution(this.ptr,t)}coDensity(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coDensity(i,this.ptr,t);var e=f()[i/4+0],r=P()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coCollisionGroups(t){return a.rawcolliderset_coCollisionGroups(this.ptr,t)>>>0}coSolverGroups(t){return a.rawcolliderset_coSolverGroups(this.ptr,t)>>>0}coActiveHooks(t){return a.rawcolliderset_coActiveHooks(this.ptr,t)>>>0}coActiveCollisionTypes(t){return a.rawcolliderset_coActiveCollisionTypes(this.ptr,t)}coActiveEvents(t){return a.rawcolliderset_coActiveEvents(this.ptr,t)>>>0}coContainsPoint(t,e){return v(e,lt),0!==a.rawcolliderset_coContainsPoint(this.ptr,t,e.ptr)}coCastShape(t,e,r,i,n,s,o){v(e,lt),v(r,at),v(i,lt),v(n,it),v(s,lt);const c=a.rawcolliderset_coCastShape(this.ptr,t,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o);return 0===c?void 0:ct.__wrap(c)}coCastCollider(t,e,r,i,n){v(e,lt),v(i,lt);const s=a.rawcolliderset_coCastCollider(this.ptr,t,e.ptr,r,i.ptr,n);return 0===s?void 0:st.__wrap(s)}coIntersectsShape(t,e,r,i){return v(e,at),v(r,lt),v(i,it),0!==a.rawcolliderset_coIntersectsShape(this.ptr,t,e.ptr,r.ptr,i.ptr)}coContactShape(t,e,r,i,n){v(e,at),v(r,lt),v(i,it);const s=a.rawcolliderset_coContactShape(this.ptr,t,e.ptr,r.ptr,i.ptr,n);return 0===s?void 0:ot.__wrap(s)}coContactCollider(t,e,r){const i=a.rawcolliderset_coContactCollider(this.ptr,t,e,r);return 0===i?void 0:ot.__wrap(i)}coProjectPoint(t,e,r){v(e,lt);const i=a.rawcolliderset_coProjectPoint(this.ptr,t,e.ptr,r);return Q.__wrap(i)}coIntersectsRay(t,e,r,i){return v(e,lt),v(r,lt),0!==a.rawcolliderset_coIntersectsRay(this.ptr,t,e.ptr,r.ptr,i)}coCastRay(t,e,r,i,n){return v(e,lt),v(r,lt),a.rawcolliderset_coCastRay(this.ptr,t,e.ptr,r.ptr,i,n)}coCastRayAndGetNormal(t,e,r,i,n){v(e,lt),v(r,lt);const s=a.rawcolliderset_coCastRayAndGetNormal(this.ptr,t,e.ptr,r.ptr,i,n);return 0===s?void 0:et.__wrap(s)}coSetSensor(t,e){a.rawcolliderset_coSetSensor(this.ptr,t,e)}coSetRestitution(t,e){a.rawcolliderset_coSetRestitution(this.ptr,t,e)}coSetFriction(t,e){a.rawcolliderset_coSetFriction(this.ptr,t,e)}coFrictionCombineRule(t){return a.rawcolliderset_coFrictionCombineRule(this.ptr,t)>>>0}coSetFrictionCombineRule(t,e){a.rawcolliderset_coSetFrictionCombineRule(this.ptr,t,e)}coRestitutionCombineRule(t){return a.rawcolliderset_coRestitutionCombineRule(this.ptr,t)>>>0}coSetRestitutionCombineRule(t,e){a.rawcolliderset_coSetRestitutionCombineRule(this.ptr,t,e)}coSetCollisionGroups(t,e){a.rawcolliderset_coSetCollisionGroups(this.ptr,t,e)}coSetSolverGroups(t,e){a.rawcolliderset_coSetSolverGroups(this.ptr,t,e)}coSetActiveHooks(t,e){a.rawcolliderset_coSetActiveHooks(this.ptr,t,e)}coSetActiveEvents(t,e){a.rawcolliderset_coSetActiveEvents(this.ptr,t,e)}coSetActiveCollisionTypes(t,e){a.rawcolliderset_coSetActiveCollisionTypes(this.ptr,t,e)}coSetShape(t,e){v(e,at),a.rawcolliderset_coSetShape(this.ptr,t,e.ptr)}constructor(){const t=a.rawcolliderset_new();return z.__wrap(t)}len(){return a.rawcolliderset_len(this.ptr)>>>0}contains(t){return 0!==a.rawcolliderset_contains(this.ptr,t)}createCollider(t,e,r,i,n,s,o,c,l,h,d,p,u,w,y,m,b,g,R,S,C){try{const A=a.__wbindgen_add_to_stack_pointer(-16);v(t,at),v(e,lt),v(r,it),v(s,lt),v(C,rt),a.rawcolliderset_createCollider(A,this.ptr,t.ptr,e.ptr,r.ptr,i,n,s.ptr,o,c,l,h,d,p,u,w,y,m,b,g,R,S,C.ptr);var T=f()[A/4+0],P=_()[A/8+1];return 0===T?void 0:P}finally{a.__wbindgen_add_to_stack_pointer(16)}}remove(t,e,r,i){v(e,X),v(r,rt),a.rawcolliderset_remove(this.ptr,t,e.ptr,r.ptr,i)}isHandleValid(t){return 0!==a.rawcolliderset_contains(this.ptr,t)}forEachColliderHandle(t){try{a.rawcolliderset_forEachColliderHandle(this.ptr,C(t))}finally{o[S++]=void 0}}}class k{static __wrap(t){const e=Object.create(k.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawcontactmanifold_free(t)}normal(){const t=a.rawcontactmanifold_normal(this.ptr);return lt.__wrap(t)}local_n1(){const t=a.rawcontactmanifold_local_n1(this.ptr);return lt.__wrap(t)}local_n2(){const t=a.rawcontactmanifold_local_n2(this.ptr);return lt.__wrap(t)}subshape1(){return a.rawcontactmanifold_subshape1(this.ptr)>>>0}subshape2(){return a.rawcontactmanifold_subshape2(this.ptr)>>>0}num_contacts(){return a.rawcontactmanifold_num_contacts(this.ptr)>>>0}contact_local_p1(t){const e=a.rawcontactmanifold_contact_local_p1(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}contact_local_p2(t){const e=a.rawcontactmanifold_contact_local_p2(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}contact_dist(t){return a.rawcontactmanifold_contact_dist(this.ptr,t)}contact_fid1(t){return a.rawcontactmanifold_contact_fid1(this.ptr,t)>>>0}contact_fid2(t){return a.rawcontactmanifold_contact_fid2(this.ptr,t)>>>0}contact_impulse(t){return a.rawcontactmanifold_contact_impulse(this.ptr,t)}contact_tangent_impulse(t){return a.rawcontactmanifold_contact_tangent_impulse(this.ptr,t)}num_solver_contacts(){return a.rawcontactmanifold_num_solver_contacts(this.ptr)>>>0}solver_contact_point(t){const e=a.rawcontactmanifold_solver_contact_point(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}solver_contact_dist(t){return a.rawcontactmanifold_solver_contact_dist(this.ptr,t)}solver_contact_friction(t){return a.rawcontactmanifold_solver_contact_friction(this.ptr,t)}solver_contact_restitution(t){return a.rawcontactmanifold_solver_contact_restitution(this.ptr,t)}solver_contact_tangent_velocity(t){const e=a.rawcontactmanifold_solver_contact_tangent_velocity(this.ptr,t);return lt.__wrap(e)}}class B{static __wrap(t){const e=Object.create(B.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawcontactpair_free(t)}collider1(){return a.rawcontactpair_collider1(this.ptr)}collider2(){return a.rawcontactpair_collider2(this.ptr)}numContactManifolds(){return a.rawcontactpair_numContactManifolds(this.ptr)>>>0}contactManifold(t){const e=a.rawcontactpair_contactManifold(this.ptr,t);return 0===e?void 0:k.__wrap(e)}}class N{static __wrap(t){const e=Object.create(N.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawdebugrenderpipeline_free(t)}constructor(){const t=a.rawdebugrenderpipeline_new();return N.__wrap(t)}vertices(){return d(a.rawdebugrenderpipeline_vertices(this.ptr))}colors(){return d(a.rawdebugrenderpipeline_colors(this.ptr))}render(t,e,r,i,n){v(t,rt),v(e,z),v(r,O),v(i,q),v(n,U),a.rawdebugrenderpipeline_render(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr)}}class G{static __wrap(t){const e=Object.create(G.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawdeserializedworld_free(t)}takeGravity(){const t=a.rawdeserializedworld_takeGravity(this.ptr);return 0===t?void 0:lt.__wrap(t)}takeIntegrationParameters(){const t=a.rawdeserializedworld_takeIntegrationParameters(this.ptr);return 0===t?void 0:W.__wrap(t)}takeIslandManager(){const t=a.rawdeserializedworld_takeIslandManager(this.ptr);return 0===t?void 0:X.__wrap(t)}takeBroadPhase(){const t=a.rawdeserializedworld_takeBroadPhase(this.ptr);return 0===t?void 0:J.__wrap(t)}takeNarrowPhase(){const t=a.rawdeserializedworld_takeNarrowPhase(this.ptr);return 0===t?void 0:U.__wrap(t)}takeBodies(){const t=a.rawdeserializedworld_takeBodies(this.ptr);return 0===t?void 0:rt.__wrap(t)}takeColliders(){const t=a.rawdeserializedworld_takeColliders(this.ptr);return 0===t?void 0:z.__wrap(t)}takeImpulseJoints(){const t=a.rawdeserializedworld_takeImpulseJoints(this.ptr);return 0===t?void 0:O.__wrap(t)}takeMultibodyJoints(){const t=a.rawdeserializedworld_takeMultibodyJoints(this.ptr);return 0===t?void 0:q.__wrap(t)}}class V{static __wrap(t){const e=Object.create(V.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_raweventqueue_free(t)}constructor(t){const e=a.raweventqueue_new(t);return V.__wrap(e)}drainCollisionEvents(t){try{a.raweventqueue_drainCollisionEvents(this.ptr,C(t))}finally{o[S++]=void 0}}clear(){a.raweventqueue_clear(this.ptr)}}class L{static __wrap(t){const e=Object.create(L.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawgenericjoint_free(t)}static prismatic(t,e,r,i,n,s){v(t,lt),v(e,lt),v(r,lt);const o=a.rawgenericjoint_prismatic(t.ptr,e.ptr,r.ptr,i,n,s);return 0===o?void 0:L.__wrap(o)}static fixed(t,e,r,i){v(t,lt),v(e,it),v(r,lt),v(i,it);const n=a.rawgenericjoint_fixed(t.ptr,e.ptr,r.ptr,i.ptr);return L.__wrap(n)}static revolute(t,e){v(t,lt),v(e,lt);const r=a.rawgenericjoint_revolute(t.ptr,e.ptr);return 0===r?void 0:L.__wrap(r)}}class O{static __wrap(t){const e=Object.create(O.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawimpulsejointset_free(t)}jointType(t){return a.rawimpulsejointset_jointType(this.ptr,t)>>>0}jointBodyHandle1(t){return a.rawimpulsejointset_jointBodyHandle1(this.ptr,t)}jointBodyHandle2(t){return a.rawimpulsejointset_jointBodyHandle2(this.ptr,t)}jointFrameX1(t){const e=a.rawimpulsejointset_jointFrameX1(this.ptr,t);return it.__wrap(e)}jointFrameX2(t){const e=a.rawimpulsejointset_jointFrameX2(this.ptr,t);return it.__wrap(e)}jointAnchor1(t){const e=a.rawimpulsejointset_jointAnchor1(this.ptr,t);return lt.__wrap(e)}jointAnchor2(t){const e=a.rawimpulsejointset_jointAnchor2(this.ptr,t);return lt.__wrap(e)}jointLimitsEnabled(t,e){return 0!==a.rawimpulsejointset_jointLimitsEnabled(this.ptr,t,e)}jointLimitsMin(t,e){return a.rawimpulsejointset_jointLimitsMin(this.ptr,t,e)}jointLimitsMax(t,e){return a.rawimpulsejointset_jointLimitsMax(this.ptr,t,e)}jointConfigureMotorModel(t,e,r){a.rawimpulsejointset_jointConfigureMotorModel(this.ptr,t,e,r)}jointConfigureMotorVelocity(t,e,r,i){a.rawimpulsejointset_jointConfigureMotorVelocity(this.ptr,t,e,r,i)}jointConfigureMotorPosition(t,e,r,i,n){a.rawimpulsejointset_jointConfigureMotorPosition(this.ptr,t,e,r,i,n)}jointConfigureMotor(t,e,r,i,n,s){a.rawimpulsejointset_jointConfigureMotor(this.ptr,t,e,r,i,n,s)}constructor(){const t=a.rawimpulsejointset_new();return O.__wrap(t)}createJoint(t,e,r,i){return v(t,L),a.rawimpulsejointset_createJoint(this.ptr,t.ptr,e,r,i)}remove(t,e){a.rawimpulsejointset_remove(this.ptr,t,e)}len(){return a.rawimpulsejointset_len(this.ptr)>>>0}contains(t){return 0!==a.rawimpulsejointset_contains(this.ptr,t)}forEachJointHandle(t){try{a.rawimpulsejointset_forEachJointHandle(this.ptr,C(t))}finally{o[S++]=void 0}}forEachJointAttachedToRigidBody(t,e){try{a.rawimpulsejointset_forEachJointAttachedToRigidBody(this.ptr,t,C(e))}finally{o[S++]=void 0}}}class W{static __wrap(t){const e=Object.create(W.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawintegrationparameters_free(t)}constructor(){const t=a.rawintegrationparameters_new();return W.__wrap(t)}get dt(){return a.rawintegrationparameters_dt(this.ptr)}get erp(){return a.rawintegrationparameters_erp(this.ptr)}get allowedLinearError(){return a.rawintegrationparameters_allowedLinearError(this.ptr)}get predictionDistance(){return a.rawintegrationparameters_predictionDistance(this.ptr)}get maxVelocityIterations(){return a.rawintegrationparameters_maxVelocityIterations(this.ptr)>>>0}get maxVelocityFrictionIterations(){return a.rawintegrationparameters_maxVelocityFrictionIterations(this.ptr)>>>0}get maxStabilizationIterations(){return a.rawintegrationparameters_maxStabilizationIterations(this.ptr)>>>0}get minIslandSize(){return a.rawintegrationparameters_minIslandSize(this.ptr)>>>0}get maxCcdSubsteps(){return a.rawintegrationparameters_maxCcdSubsteps(this.ptr)>>>0}set dt(t){a.rawintegrationparameters_set_dt(this.ptr,t)}set erp(t){a.rawintegrationparameters_set_erp(this.ptr,t)}set allowedLinearError(t){a.rawintegrationparameters_set_allowedLinearError(this.ptr,t)}set predictionDistance(t){a.rawintegrationparameters_set_predictionDistance(this.ptr,t)}set maxVelocityIterations(t){a.rawintegrationparameters_set_maxVelocityIterations(this.ptr,t)}set maxVelocityFrictionIterations(t){a.rawintegrationparameters_set_maxVelocityFrictionIterations(this.ptr,t)}set maxStabilizationIterations(t){a.rawintegrationparameters_set_maxStabilizationIterations(this.ptr,t)}set minIslandSize(t){a.rawintegrationparameters_set_minIslandSize(this.ptr,t)}set maxCcdSubsteps(t){a.rawintegrationparameters_set_maxCcdSubsteps(this.ptr,t)}}class X{static __wrap(t){const e=Object.create(X.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawislandmanager_free(t)}constructor(){const t=a.rawislandmanager_new();return X.__wrap(t)}forEachActiveRigidBodyHandle(t){try{a.rawislandmanager_forEachActiveRigidBodyHandle(this.ptr,C(t))}finally{o[S++]=void 0}}}class q{static __wrap(t){const e=Object.create(q.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawmultibodyjointset_free(t)}jointType(t){return a.rawmultibodyjointset_jointType(this.ptr,t)>>>0}jointFrameX1(t){const e=a.rawmultibodyjointset_jointFrameX1(this.ptr,t);return it.__wrap(e)}jointFrameX2(t){const e=a.rawmultibodyjointset_jointFrameX2(this.ptr,t);return it.__wrap(e)}jointAnchor1(t){const e=a.rawmultibodyjointset_jointAnchor1(this.ptr,t);return lt.__wrap(e)}jointAnchor2(t){const e=a.rawmultibodyjointset_jointAnchor2(this.ptr,t);return lt.__wrap(e)}jointLimitsEnabled(t,e){return 0!==a.rawmultibodyjointset_jointLimitsEnabled(this.ptr,t,e)}jointLimitsMin(t,e){return a.rawmultibodyjointset_jointLimitsMin(this.ptr,t,e)}jointLimitsMax(t,e){return a.rawmultibodyjointset_jointLimitsMax(this.ptr,t,e)}constructor(){const t=a.rawmultibodyjointset_new();return q.__wrap(t)}createJoint(t,e,r,i){return v(t,L),a.rawmultibodyjointset_createJoint(this.ptr,t.ptr,e,r,i)}remove(t,e){a.rawmultibodyjointset_remove(this.ptr,t,e)}contains(t){return 0!==a.rawmultibodyjointset_contains(this.ptr,t)}forEachJointHandle(t){try{a.rawmultibodyjointset_forEachJointHandle(this.ptr,C(t))}finally{o[S++]=void 0}}forEachJointAttachedToRigidBody(t,e){try{a.rawmultibodyjointset_forEachJointAttachedToRigidBody(this.ptr,t,C(e))}finally{o[S++]=void 0}}}class U{static __wrap(t){const e=Object.create(U.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawnarrowphase_free(t)}constructor(){const t=a.rawnarrowphase_new();return U.__wrap(t)}contacts_with(t,e){a.rawnarrowphase_contacts_with(this.ptr,t,p(e))}contact_pair(t,e){const r=a.rawnarrowphase_contact_pair(this.ptr,t,e);return 0===r?void 0:B.__wrap(r)}intersections_with(t,e){a.rawnarrowphase_intersections_with(this.ptr,t,p(e))}intersection_pair(t,e){return 0!==a.rawnarrowphase_intersection_pair(this.ptr,t,e)}}class K{static __wrap(t){const e=Object.create(K.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawphysicspipeline_free(t)}constructor(){const t=a.rawphysicspipeline_new();return K.__wrap(t)}step(t,e,r,i,n,s,o,c,l,h){v(t,lt),v(e,W),v(r,X),v(i,J),v(n,U),v(s,rt),v(o,z),v(c,O),v(l,q),v(h,H),a.rawphysicspipeline_step(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c.ptr,l.ptr,h.ptr)}stepWithEvents(t,e,r,i,n,s,o,c,l,h,d,u,w,_){v(t,lt),v(e,W),v(r,X),v(i,J),v(n,U),v(s,rt),v(o,z),v(c,O),v(l,q),v(h,H),v(d,V),a.rawphysicspipeline_stepWithEvents(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c.ptr,l.ptr,h.ptr,d.ptr,p(u),p(w),p(_))}}class Y{static __wrap(t){const e=Object.create(Y.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawpointcolliderprojection_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}point(){const t=a.rawpointcolliderprojection_point(this.ptr);return lt.__wrap(t)}isInside(){return 0!==a.rawpointcolliderprojection_isInside(this.ptr)}featureType(){return a.rawpointcolliderprojection_featureType(this.ptr)>>>0}featureId(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.rawpointcolliderprojection_featureId(r,this.ptr);var t=f()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}}class Q{static __wrap(t){const e=Object.create(Q.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawpointprojection_free(t)}point(){const t=a.rawpointprojection_point(this.ptr);return lt.__wrap(t)}isInside(){return 0!==a.rawpointprojection_isInside(this.ptr)}}class ${static __wrap(t){const e=Object.create($.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawquerypipeline_free(t)}constructor(){const t=a.rawquerypipeline_new();return $.__wrap(t)}update(t,e,r){v(t,X),v(e,rt),v(r,z),a.rawquerypipeline_update(this.ptr,t.ptr,e.ptr,r.ptr)}castRay(t,e,r,i,n,s,c){try{v(t,z),v(e,lt),v(r,lt);const l=a.rawquerypipeline_castRay(this.ptr,t.ptr,e.ptr,r.ptr,i,n,s,C(c));return 0===l?void 0:tt.__wrap(l)}finally{o[S++]=void 0}}castRayAndGetNormal(t,e,r,i,n,s,c){try{v(t,z),v(e,lt),v(r,lt);const l=a.rawquerypipeline_castRayAndGetNormal(this.ptr,t.ptr,e.ptr,r.ptr,i,n,s,C(c));return 0===l?void 0:Z.__wrap(l)}finally{o[S++]=void 0}}intersectionsWithRay(t,e,r,i,n,s,c,l){try{v(t,z),v(e,lt),v(r,lt),a.rawquerypipeline_intersectionsWithRay(this.ptr,t.ptr,e.ptr,r.ptr,i,n,s,C(c),C(l))}finally{o[S++]=void 0,o[S++]=void 0}}intersectionWithShape(t,e,r,i,n,s){try{const h=a.__wbindgen_add_to_stack_pointer(-16);v(t,z),v(e,lt),v(r,it),v(i,at),a.rawquerypipeline_intersectionWithShape(h,this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,C(s));var c=f()[h/4+0],l=_()[h/8+1];return 0===c?void 0:l}finally{a.__wbindgen_add_to_stack_pointer(16),o[S++]=void 0}}projectPoint(t,e,r,i,n){try{v(t,z),v(e,lt);const s=a.rawquerypipeline_projectPoint(this.ptr,t.ptr,e.ptr,r,i,C(n));return 0===s?void 0:Y.__wrap(s)}finally{o[S++]=void 0}}projectPointAndGetFeature(t,e,r){v(t,z),v(e,lt);const i=a.rawquerypipeline_projectPointAndGetFeature(this.ptr,t.ptr,e.ptr,r);return 0===i?void 0:Y.__wrap(i)}intersectionsWithPoint(t,e,r,i,n){try{v(t,z),v(e,lt),a.rawquerypipeline_intersectionsWithPoint(this.ptr,t.ptr,e.ptr,r,C(i),C(n))}finally{o[S++]=void 0,o[S++]=void 0}}castShape(t,e,r,i,n,s,c,l){try{v(t,z),v(e,lt),v(r,it),v(i,lt),v(n,at);const h=a.rawquerypipeline_castShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s,c,C(l));return 0===h?void 0:st.__wrap(h)}finally{o[S++]=void 0}}intersectionsWithShape(t,e,r,i,n,s,c){try{v(t,z),v(e,lt),v(r,it),v(i,at),a.rawquerypipeline_intersectionsWithShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,C(s),C(c))}finally{o[S++]=void 0,o[S++]=void 0}}collidersWithAabbIntersectingAabb(t,e,r){try{v(t,lt),v(e,lt),a.rawquerypipeline_collidersWithAabbIntersectingAabb(this.ptr,t.ptr,e.ptr,C(r))}finally{o[S++]=void 0}}}class Z{static __wrap(t){const e=Object.create(Z.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawraycolliderintersection_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}normal(){const t=a.rawraycolliderintersection_normal(this.ptr);return lt.__wrap(t)}toi(){return a.rawraycolliderintersection_toi(this.ptr)}featureType(){return a.rawpointcolliderprojection_featureType(this.ptr)>>>0}featureId(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.rawpointcolliderprojection_featureId(r,this.ptr);var t=f()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}}class tt{static __wrap(t){const e=Object.create(tt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawraycollidertoi_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}toi(){return a.rawraycolliderintersection_toi(this.ptr)}}class et{static __wrap(t){const e=Object.create(et.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawrayintersection_free(t)}normal(){const t=a.rawrayintersection_normal(this.ptr);return lt.__wrap(t)}toi(){return a.rawintegrationparameters_dt(this.ptr)}featureType(){return a.rawrayintersection_featureType(this.ptr)>>>0}featureId(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.rawrayintersection_featureId(r,this.ptr);var t=f()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}}class rt{static __wrap(t){const e=Object.create(rt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawrigidbodyset_free(t)}rbTranslation(t){const e=a.rawrigidbodyset_rbTranslation(this.ptr,t);return lt.__wrap(e)}rbRotation(t){const e=a.rawrigidbodyset_rbRotation(this.ptr,t);return it.__wrap(e)}rbSleep(t){a.rawrigidbodyset_rbSleep(this.ptr,t)}rbIsSleeping(t){return 0!==a.rawrigidbodyset_rbIsSleeping(this.ptr,t)}rbIsMoving(t){return 0!==a.rawrigidbodyset_rbIsMoving(this.ptr,t)}rbNextTranslation(t){const e=a.rawrigidbodyset_rbNextTranslation(this.ptr,t);return lt.__wrap(e)}rbNextRotation(t){const e=a.rawrigidbodyset_rbNextRotation(this.ptr,t);return it.__wrap(e)}rbSetTranslation(t,e,r,i){a.rawrigidbodyset_rbSetTranslation(this.ptr,t,e,r,i)}rbSetRotation(t,e,r){a.rawrigidbodyset_rbSetRotation(this.ptr,t,e,r)}rbSetLinvel(t,e,r){v(e,lt),a.rawrigidbodyset_rbSetLinvel(this.ptr,t,e.ptr,r)}rbSetAngvel(t,e,r){a.rawrigidbodyset_rbSetAngvel(this.ptr,t,e,r)}rbSetNextKinematicTranslation(t,e,r){a.rawrigidbodyset_rbSetNextKinematicTranslation(this.ptr,t,e,r)}rbSetNextKinematicRotation(t,e){a.rawrigidbodyset_rbSetNextKinematicRotation(this.ptr,t,e)}rbLinvel(t){const e=a.rawrigidbodyset_rbLinvel(this.ptr,t);return lt.__wrap(e)}rbAngvel(t){return a.rawrigidbodyset_rbAngvel(this.ptr,t)}rbLockTranslations(t,e,r){a.rawrigidbodyset_rbLockTranslations(this.ptr,t,e,r)}rbRestrictTranslations(t,e,r,i){a.rawrigidbodyset_rbRestrictTranslations(this.ptr,t,e,r,i)}rbLockRotations(t,e,r){a.rawrigidbodyset_rbLockRotations(this.ptr,t,e,r)}rbDominanceGroup(t){return a.rawrigidbodyset_rbDominanceGroup(this.ptr,t)}rbSetDominanceGroup(t,e){a.rawrigidbodyset_rbSetDominanceGroup(this.ptr,t,e)}rbEnableCcd(t,e){a.rawrigidbodyset_rbEnableCcd(this.ptr,t,e)}rbMass(t){return a.rawrigidbodyset_rbMass(this.ptr,t)}rbWakeUp(t){a.rawrigidbodyset_rbWakeUp(this.ptr,t)}rbIsCcdEnabled(t){return 0!==a.rawrigidbodyset_rbIsCcdEnabled(this.ptr,t)}rbNumColliders(t){return a.rawrigidbodyset_rbNumColliders(this.ptr,t)>>>0}rbCollider(t,e){return a.rawrigidbodyset_rbCollider(this.ptr,t,e)}rbBodyType(t){return a.rawrigidbodyset_rbBodyType(this.ptr,t)>>>0}rbSetBodyType(t,e){a.rawrigidbodyset_rbSetBodyType(this.ptr,t,e)}rbIsFixed(t){return 0!==a.rawrigidbodyset_rbIsFixed(this.ptr,t)}rbIsKinematic(t){return 0!==a.rawrigidbodyset_rbIsKinematic(this.ptr,t)}rbIsDynamic(t){return 0!==a.rawrigidbodyset_rbIsDynamic(this.ptr,t)}rbLinearDamping(t){return a.rawrigidbodyset_rbLinearDamping(this.ptr,t)}rbAngularDamping(t){return a.rawrigidbodyset_rbAngularDamping(this.ptr,t)}rbSetLinearDamping(t,e){a.rawrigidbodyset_rbSetLinearDamping(this.ptr,t,e)}rbSetAngularDamping(t,e){a.rawrigidbodyset_rbSetAngularDamping(this.ptr,t,e)}rbGravityScale(t){return a.rawrigidbodyset_rbGravityScale(this.ptr,t)}rbSetGravityScale(t,e,r){a.rawrigidbodyset_rbSetGravityScale(this.ptr,t,e,r)}rbResetForces(t,e){a.rawrigidbodyset_rbResetForces(this.ptr,t,e)}rbResetTorques(t,e){a.rawrigidbodyset_rbResetTorques(this.ptr,t,e)}rbAddForce(t,e,r){v(e,lt),a.rawrigidbodyset_rbAddForce(this.ptr,t,e.ptr,r)}rbApplyImpulse(t,e,r){v(e,lt),a.rawrigidbodyset_rbApplyImpulse(this.ptr,t,e.ptr,r)}rbAddTorque(t,e,r){a.rawrigidbodyset_rbAddTorque(this.ptr,t,e,r)}rbApplyTorqueImpulse(t,e,r){a.rawrigidbodyset_rbApplyTorqueImpulse(this.ptr,t,e,r)}rbAddForceAtPoint(t,e,r,i){v(e,lt),v(r,lt),a.rawrigidbodyset_rbAddForceAtPoint(this.ptr,t,e.ptr,r.ptr,i)}rbApplyImpulseAtPoint(t,e,r,i){v(e,lt),v(r,lt),a.rawrigidbodyset_rbApplyImpulseAtPoint(this.ptr,t,e.ptr,r.ptr,i)}rbUserData(t){return a.rawrigidbodyset_rbUserData(this.ptr,t)>>>0}rbSetUserData(t,e){a.rawrigidbodyset_rbSetUserData(this.ptr,t,e)}constructor(){const t=a.rawrigidbodyset_new();return rt.__wrap(t)}createRigidBody(t,e,r,i,n,s,o,c,l,h,d,p,u,w,_,y,f,m){return v(t,lt),v(e,it),v(n,lt),v(s,lt),a.rawrigidbodyset_createRigidBody(this.ptr,t.ptr,e.ptr,r,i,n.ptr,s.ptr,o,c,l,h,d,p,u,w,_,y,f,m)}remove(t,e,r,i,n){v(e,X),v(r,z),v(i,O),v(n,q),a.rawrigidbodyset_remove(this.ptr,t,e.ptr,r.ptr,i.ptr,n.ptr)}len(){return a.rawrigidbodyset_len(this.ptr)>>>0}contains(t){return 0!==a.rawrigidbodyset_contains(this.ptr,t)}forEachRigidBodyHandle(t){try{a.rawrigidbodyset_forEachRigidBodyHandle(this.ptr,C(t))}finally{o[S++]=void 0}}}class it{static __wrap(t){const e=Object.create(it.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawrotation_free(t)}static identity(){const t=a.rawrotation_identity();return it.__wrap(t)}static fromAngle(t){const e=a.rawrotation_fromAngle(t);return it.__wrap(e)}get im(){return a.rawrotation_im(this.ptr)}get re(){return a.rawintegrationparameters_dt(this.ptr)}get angle(){return a.rawrotation_angle(this.ptr)}}class nt{static __wrap(t){const e=Object.create(nt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawserializationpipeline_free(t)}constructor(){const t=a.rawserializationpipeline_new();return nt.__wrap(t)}serializeAll(t,e,r,i,n,s,o,c,l){return v(t,lt),v(e,W),v(r,X),v(i,J),v(n,U),v(s,rt),v(o,z),v(c,O),v(l,q),d(a.rawserializationpipeline_serializeAll(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c.ptr,l.ptr))}deserializeAll(t){const e=a.rawserializationpipeline_deserializeAll(this.ptr,p(t));return 0===e?void 0:G.__wrap(e)}}class at{static __wrap(t){const e=Object.create(at.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshape_free(t)}static cuboid(t,e){const r=a.rawshape_cuboid(t,e);return at.__wrap(r)}static roundCuboid(t,e,r){const i=a.rawshape_roundCuboid(t,e,r);return at.__wrap(i)}static ball(t){const e=a.rawshape_ball(t);return at.__wrap(e)}static capsule(t,e){const r=a.rawshape_capsule(t,e);return at.__wrap(r)}static polyline(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=M(e,a.__wbindgen_malloc),s=j,o=a.rawshape_polyline(r,i,n,s);return at.__wrap(o)}static trimesh(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=M(e,a.__wbindgen_malloc),s=j,o=a.rawshape_trimesh(r,i,n,s);return at.__wrap(o)}static heightfield(t,e){const r=E(t,a.__wbindgen_malloc),i=j;v(e,lt);const n=a.rawshape_heightfield(r,i,e.ptr);return at.__wrap(n)}static segment(t,e){v(t,lt),v(e,lt);const r=a.rawshape_segment(t.ptr,e.ptr);return at.__wrap(r)}static triangle(t,e,r){v(t,lt),v(e,lt),v(r,lt);const i=a.rawshape_triangle(t.ptr,e.ptr,r.ptr);return at.__wrap(i)}static roundTriangle(t,e,r,i){v(t,lt),v(e,lt),v(r,lt);const n=a.rawshape_roundTriangle(t.ptr,e.ptr,r.ptr,i);return at.__wrap(n)}static convexHull(t){const e=E(t,a.__wbindgen_malloc),r=j,i=a.rawshape_convexHull(e,r);return 0===i?void 0:at.__wrap(i)}static roundConvexHull(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=a.rawshape_roundConvexHull(r,i,e);return 0===n?void 0:at.__wrap(n)}static convexPolyline(t){const e=E(t,a.__wbindgen_malloc),r=j,i=a.rawshape_convexPolyline(e,r);return 0===i?void 0:at.__wrap(i)}static roundConvexPolyline(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=a.rawshape_roundConvexPolyline(r,i,e);return 0===n?void 0:at.__wrap(n)}castShape(t,e,r,i,n,s,o,c){v(t,lt),v(e,it),v(r,lt),v(i,at),v(n,lt),v(s,it),v(o,lt);const l=a.rawshape_castShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c);return 0===l?void 0:ct.__wrap(l)}intersectsShape(t,e,r,i,n){return v(t,lt),v(e,it),v(r,at),v(i,lt),v(n,it),0!==a.rawshape_intersectsShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr)}contactShape(t,e,r,i,n,s){v(t,lt),v(e,it),v(r,at),v(i,lt),v(n,it);const o=a.rawshape_contactShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s);return 0===o?void 0:ot.__wrap(o)}containsPoint(t,e,r){return v(t,lt),v(e,it),v(r,lt),0!==a.rawshape_containsPoint(this.ptr,t.ptr,e.ptr,r.ptr)}projectPoint(t,e,r,i){v(t,lt),v(e,it),v(r,lt);const n=a.rawshape_projectPoint(this.ptr,t.ptr,e.ptr,r.ptr,i);return Q.__wrap(n)}intersectsRay(t,e,r,i,n){return v(t,lt),v(e,it),v(r,lt),v(i,lt),0!==a.rawshape_intersectsRay(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n)}castRay(t,e,r,i,n,s){return v(t,lt),v(e,it),v(r,lt),v(i,lt),a.rawshape_castRay(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,s)}castRayAndGetNormal(t,e,r,i,n,s){v(t,lt),v(e,it),v(r,lt),v(i,lt);const o=a.rawshape_castRayAndGetNormal(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,s);return 0===o?void 0:et.__wrap(o)}}class st{static __wrap(t){const e=Object.create(st.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshapecollidertoi_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}toi(){return a.rawraycolliderintersection_toi(this.ptr)}witness1(){const t=a.rawraycolliderintersection_normal(this.ptr);return lt.__wrap(t)}witness2(){const t=a.rawshapecollidertoi_witness2(this.ptr);return lt.__wrap(t)}normal1(){const t=a.rawshapecollidertoi_normal1(this.ptr);return lt.__wrap(t)}normal2(){const t=a.rawshapecollidertoi_normal2(this.ptr);return lt.__wrap(t)}}class ot{static __wrap(t){const e=Object.create(ot.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshapecontact_free(t)}distance(){return a.rawintegrationparameters_predictionDistance(this.ptr)}point1(){const t=a.rawpointprojection_point(this.ptr);return lt.__wrap(t)}point2(){const t=a.rawshapecontact_point2(this.ptr);return lt.__wrap(t)}normal1(){const t=a.rawshapecontact_normal1(this.ptr);return lt.__wrap(t)}normal2(){const t=a.rawshapecontact_normal2(this.ptr);return lt.__wrap(t)}}class ct{static __wrap(t){const e=Object.create(ct.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshapetoi_free(t)}toi(){return a.rawintegrationparameters_dt(this.ptr)}witness1(){const t=a.rawrayintersection_normal(this.ptr);return lt.__wrap(t)}witness2(){const t=a.rawshapetoi_witness2(this.ptr);return lt.__wrap(t)}normal1(){const t=a.rawshapetoi_normal1(this.ptr);return lt.__wrap(t)}normal2(){const t=a.rawshapetoi_normal2(this.ptr);return lt.__wrap(t)}}class lt{static __wrap(t){const e=Object.create(lt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawvector_free(t)}static zero(){const t=a.rawvector_zero();return lt.__wrap(t)}constructor(t,e){const r=a.rawvector_new(t,e);return lt.__wrap(r)}get x(){return a.rawintegrationparameters_dt(this.ptr)}set x(t){a.rawintegrationparameters_set_dt(this.ptr,t)}get y(){return a.rawrotation_im(this.ptr)}set y(t){a.rawvector_set_y(this.ptr,t)}xy(){const t=a.rawvector_xy(this.ptr);return lt.__wrap(t)}yx(){const t=a.rawvector_yx(this.ptr);return lt.__wrap(t)}}function ht(t){d(t)}function dt(t){return p(t)}function pt(t,e){const r=c(e),i="number"==typeof r?r:void 0;_()[t/8+1]=u(i)?0:i,f()[t/4+0]=!u(i)}function ut(t){const e=c(t);return"boolean"==typeof e?e?1:0:2}function wt(t){return p(Z.__wrap(t))}function _t(t){return"function"==typeof c(t)}function yt(){return F((function(t,e,r){return p(c(t).call(c(e),c(r)))}),arguments)}function ft(){return F((function(t,e,r,i){return p(c(t).call(c(e),c(r),c(i)))}),arguments)}function mt(){return F((function(t,e,r,i,n){return p(c(t).call(c(e),c(r),c(i),c(n)))}),arguments)}function bt(t,e,r,i){return p(c(t).bind(c(e),c(r),c(i)))}function gt(t){return p(c(t).buffer)}function Rt(t,e,r){return p(new Uint8Array(c(t),e>>>0,r>>>0))}function vt(t){return p(new Uint8Array(c(t)))}function St(t,e,r){c(t).set(c(e),r>>>0)}function Ct(t){return c(t).length}function Tt(t,e,r){return p(new Float32Array(c(t),e>>>0,r>>>0))}function Pt(t,e,r){c(t).set(c(e),r>>>0)}function At(t){return c(t).length}function It(t){return p(new Float32Array(t>>>0))}function xt(t,e){throw new Error(g(t,e))}function jt(){return p(a.memory)}n()}catch(Et){n(Et)}}))},8500:(t,e,r)=>{r.a(t,(async(i,n)=>{try{var a,s=i([a=r(5991)]),[a]=s.then?(await s)():s;await r.v(e,t.id,"b28dd816cd17e7b2ffe6",{"./rapier_wasm2d_bg.js":{__wbindgen_object_drop_ref:a.ug,__wbindgen_number_new:a.pT,__wbindgen_number_get:a.M1,__wbindgen_boolean_get:a.HT,__wbg_rawraycolliderintersection_new:a.Ne,__wbindgen_is_function:a.o$,__wbg_call_3ed288a247f13ea5:a.ry,__wbg_call_a19d3173f3e1d3c5:a.dm,__wbg_call_6ed7121cfb42cfed:a.n_,__wbg_bind_c09a1641c1580c07:a.eG,__wbg_buffer_7af23f65f6c64548:a.EF,__wbg_newwithbyteoffsetandlength_ce1e75f0ce5f7974:a.VR,__wbg_new_cc9018bd6f283b6f:a.cb,__wbg_set_f25e869e4565d2a2:a.Ip,__wbg_length_0acb1cf9bbaf8519:a.Oo,__wbg_newwithbyteoffsetandlength_3f554978d8793b14:a.XJ,__wbg_set_9a9604c6888f6468:a.Dl,__wbg_length_371cc1c92aa8feae:a.oQ,__wbg_newwithlength_e538258cb2a6bad0:a._F,__wbindgen_throw:a.Or,__wbindgen_memory:a.oH}}),n()}catch(t){n(t)}}),1)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBT3JKLEVBQVV5SixLQUkxRSxTQUFTSyxHQUE4QmpCLEdBRTFDLE9BQU92SSxFQURLTixFQUFVNkksR0FBTWp3QixRQUl6QixTQUFTbXhCLEdBQWtEbEIsRUFBTUcsRUFBTUssR0FFMUUsT0FBTy9JLEVBREssSUFBSWtCLFdBQVd4QixFQUFVNkksR0FBT0csSUFBUyxFQUFHSyxJQUFTLElBSTlELFNBQVNXLEdBQTJCbkIsR0FFdkMsT0FBT3ZJLEVBREssSUFBSWtCLFdBQVd4QixFQUFVNkksS0FJbEMsU0FBU29CLEdBQTJCcEIsRUFBTUcsRUFBTUssR0FDbkRySixFQUFVNkksR0FBTTd2QixJQUFJZ25CLEVBQVVnSixHQUFPSyxJQUFTLEdBRzNDLFNBQVNhLEdBQThCckIsR0FFMUMsT0FEWTdJLEVBQVU2SSxHQUFNenZCLE9BSXpCLFNBQVMrd0IsR0FBa0R0QixFQUFNRyxFQUFNSyxHQUUxRSxPQUFPL0ksRUFESyxJQUFJK0IsYUFBYXJDLEVBQVU2SSxHQUFPRyxJQUFTLEVBQUdLLElBQVMsSUFJaEUsU0FBU2UsR0FBMkJ2QixFQUFNRyxFQUFNSyxHQUNuRHJKLEVBQVU2SSxHQUFNN3ZCLElBQUlnbkIsRUFBVWdKLEdBQU9LLElBQVMsR0FHM0MsU0FBU2dCLEdBQThCeEIsR0FFMUMsT0FEWTdJLEVBQVU2SSxHQUFNenZCLE9BSXpCLFNBQVNreEIsR0FBcUN6QixHQUVqRCxPQUFPdkksRUFESyxJQUFJK0IsYUFBYXdHLElBQVMsSUFJbkMsU0FBUzBCLEdBQWlCMUIsRUFBTUcsR0FDbkMsTUFBTSxJQUFJbFcsTUFBTXdPLEVBQW1CdUgsRUFBTUcsSUFHdEMsU0FBU3dCLEtBRVosT0FBT2xLLEVBREssVSIsInNvdXJjZXMiOlsid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL2NvYXJlbmEuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvZHluYW1pY3MvY2NkX3NvbHZlci5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9keW5hbWljcy9jb2VmZmljaWVudF9jb21iaW5lX3J1bGUuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvZHluYW1pY3MvaW1wdWxzZV9qb2ludC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9keW5hbWljcy9pbXB1bHNlX2pvaW50X3NldC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9keW5hbWljcy9pbnRlZ3JhdGlvbl9wYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL2R5bmFtaWNzL2lzbGFuZF9tYW5hZ2VyLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL2R5bmFtaWNzL211bHRpYm9keV9qb2ludC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9keW5hbWljcy9tdWx0aWJvZHlfam9pbnRfc2V0LmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL2R5bmFtaWNzL3JpZ2lkX2JvZHkuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvZHluYW1pY3MvcmlnaWRfYm9keV9zZXQuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvZXhwb3J0cy5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9nZW9tZXRyeS9icm9hZF9waGFzZS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9nZW9tZXRyeS9jb2xsaWRlci5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9nZW9tZXRyeS9jb2xsaWRlcl9zZXQuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvZ2VvbWV0cnkvY29udGFjdC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9nZW9tZXRyeS9mZWF0dXJlLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL2dlb21ldHJ5L25hcnJvd19waGFzZS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9nZW9tZXRyeS9wb2ludC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9nZW9tZXRyeS9yYXkuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvZ2VvbWV0cnkvc2hhcGUuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvZ2VvbWV0cnkvdG9pLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL21hdGguanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvcGlwZWxpbmUvZGVidWdfcmVuZGVyX3BpcGVsaW5lLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL3BpcGVsaW5lL2V2ZW50X3F1ZXVlLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL3BpcGVsaW5lL3BoeXNpY3NfaG9va3MuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQyZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyMmQvcGlwZWxpbmUvcGh5c2ljc19waXBlbGluZS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9waXBlbGluZS9xdWVyeV9waXBlbGluZS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9waXBlbGluZS9zZXJpYWxpemF0aW9uX3BpcGVsaW5lLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL3BpcGVsaW5lL3dvcmxkLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkMmQvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjJkL3JhcGllci5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDJkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIyZC9yYXBpZXJfd2FzbTJkX2JnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDb2FyZW5hIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5mY29udiA9IG5ldyBGbG9hdDY0QXJyYXkoMSk7XG4gICAgICAgIHRoaXMudWNvbnYgPSBuZXcgVWludDMyQXJyYXkodGhpcy5mY29udi5idWZmZXIpO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG4gICAgc2V0KGhhbmRsZSwgZGF0YSkge1xuICAgICAgICBsZXQgaSA9IHRoaXMuaW5kZXgoaGFuZGxlKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5sZW5ndGggPD0gaSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YVtpXSA9PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5zaXplICs9IDE7XG4gICAgICAgIHRoaXMuZGF0YVtpXSA9IGRhdGE7XG4gICAgfVxuICAgIGxlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICB9XG4gICAgZGVsZXRlKGhhbmRsZSkge1xuICAgICAgICBsZXQgaSA9IHRoaXMuaW5kZXgoaGFuZGxlKTtcbiAgICAgICAgaWYgKGkgPCB0aGlzLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhW2ldICE9IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplIC09IDE7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXJyYXkoKTtcbiAgICB9XG4gICAgZ2V0KGhhbmRsZSkge1xuICAgICAgICBsZXQgaSA9IHRoaXMuaW5kZXgoaGFuZGxlKTtcbiAgICAgICAgaWYgKGkgPCB0aGlzLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2ldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaChmKSB7XG4gICAgICAgIGZvciAoY29uc3QgZWx0IG9mIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVsdCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGYoZWx0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRBbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZmlsdGVyKChlbHQpID0+IGVsdCAhPSBudWxsKTtcbiAgICB9XG4gICAgaW5kZXgoaGFuZGxlKSB7XG4gICAgICAgIC8vLyBFeHRyYWN0cyB0aGUgaW5kZXggcGFydCBvZiBhIGhhbmRsZSAodGhlIGxvd2VyIDMyIGJpdHMpLlxuICAgICAgICAvLy8gVGhpcyBpcyBkb25lIGJ5IGZpcnN0IGluamVjdGluZyB0aGUgaGFuZGxlIGludG8gYW4gRmxvYXQ2NEFycmF5XG4gICAgICAgIC8vLyB3aGljaCBpcyBpdHNlbGYgaW5qZWN0ZWQgaW50byBhbiBVaW50MzJBcnJheSAoYXQgY29uc3RydWN0aW9uIHRpbWUpLlxuICAgICAgICAvLy8gVGhlIDAtdGggdmFsdWUgb2YgdGhlIFVpbnQzMkFycmF5IHdpbGwgYmVjb21lIHRoZSBgbnVtYmVyYCBpbnRlZ2VyXG4gICAgICAgIC8vLyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbG93ZXIgMzIgYml0cy5cbiAgICAgICAgLy8vIEFsc28gYHRoaXMudWNvbnZbMV1gIHRoZW4gY29udGFpbnMgdGhlIGdlbmVyYXRpb24gbnVtYmVyIGFzIGEgYG51bWJlcmAsXG4gICAgICAgIC8vLyB3aGljaCB3ZSBkb27igJl0IHJlYWxseSBuZWVkLlxuICAgICAgICB0aGlzLmZjb252WzBdID0gaGFuZGxlO1xuICAgICAgICByZXR1cm4gdGhpcy51Y29udlswXTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2FyZW5hLmpzLm1hcCIsImltcG9ydCB7IFJhd0NDRFNvbHZlciB9IGZyb20gXCIuLi9yYXdcIjtcbi8qKlxuICogVGhlIENDRCBzb2x2ZXIgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBDb250aW51b3VzIENvbGxpc2lvbiBEZXRlY3Rpb24uXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGNjZFNvbHZlci5mcmVlKClgXG4gKiBvbmNlIHlvdSBhcmUgZG9uZSB1c2luZyBpdC5cbiAqL1xuZXhwb3J0IGNsYXNzIENDRFNvbHZlciB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdDQ0RTb2x2ZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV0FTTSBtZW1vcnkgb2NjdXBpZWQgYnkgdGhpcyBuYXJyb3ctcGhhc2UuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jY2Rfc29sdmVyLmpzLm1hcCIsIi8qKlxuICogQSBydWxlIGFwcGxpZWQgdG8gY29tYmluZSBjb2VmZmljaWVudHMuXG4gKlxuICogVXNlIHRoaXMgd2hlbiBjb25maWd1cmluZyB0aGUgYENvbGxpZGVyRGVzY2AgdG8gc3BlY2lmeVxuICogaG93IGZyaWN0aW9uIGFuZCByZXN0aXR1dGlvbiBjb2VmZmljaWVudCBzaG91bGQgYmUgY29tYmluZWRcbiAqIGluIGEgY29udGFjdC5cbiAqL1xuZXhwb3J0IHZhciBDb2VmZmljaWVudENvbWJpbmVSdWxlO1xuKGZ1bmN0aW9uIChDb2VmZmljaWVudENvbWJpbmVSdWxlKSB7XG4gICAgQ29lZmZpY2llbnRDb21iaW5lUnVsZVtDb2VmZmljaWVudENvbWJpbmVSdWxlW1wiQXZlcmFnZVwiXSA9IDBdID0gXCJBdmVyYWdlXCI7XG4gICAgQ29lZmZpY2llbnRDb21iaW5lUnVsZVtDb2VmZmljaWVudENvbWJpbmVSdWxlW1wiTWluXCJdID0gMV0gPSBcIk1pblwiO1xuICAgIENvZWZmaWNpZW50Q29tYmluZVJ1bGVbQ29lZmZpY2llbnRDb21iaW5lUnVsZVtcIk11bHRpcGx5XCJdID0gMl0gPSBcIk11bHRpcGx5XCI7XG4gICAgQ29lZmZpY2llbnRDb21iaW5lUnVsZVtDb2VmZmljaWVudENvbWJpbmVSdWxlW1wiTWF4XCJdID0gM10gPSBcIk1heFwiO1xufSkoQ29lZmZpY2llbnRDb21iaW5lUnVsZSB8fCAoQ29lZmZpY2llbnRDb21iaW5lUnVsZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2VmZmljaWVudF9jb21iaW5lX3J1bGUuanMubWFwIiwiaW1wb3J0IHsgVmVjdG9yT3BzLCBSb3RhdGlvbk9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgeyBSYXdHZW5lcmljSm9pbnQsIFJhd0pvaW50QXhpcyB9IGZyb20gXCIuLi9yYXdcIjtcbi8qKlxuICogQW4gZW51bSBncm91cGluZyBhbGwgcG9zc2libGUgdHlwZXMgb2Ygam9pbnRzOlxuICpcbiAqIC0gYFJldm9sdXRlYDogQSByZXZvbHV0ZSBqb2ludCB0aGF0IHJlbW92ZXMgYWxsIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBhZmZlY3RlZFxuICogICAgICAgICAgICAgICBib2RpZXMgZXhjZXB0IGZvciB0aGUgcm90YXRpb24gYWxvbmcgb25lIGF4aXMuXG4gKiAtIGBGaXhlZGA6IEEgZml4ZWQgam9pbnQgdGhhdCByZW1vdmVzIGFsbCByZWxhdGl2ZSBkZWdyZWVzIG9mIGZyZWVkb20gYmV0d2VlbiB0aGUgYWZmZWN0ZWQgYm9kaWVzLlxuICogLSBgUHJpc21hdGljYDogQSBwcmlzbWF0aWMgam9pbnQgdGhhdCByZW1vdmVzIGFsbCBkZWdyZWVzIG9mIGZyZWVkb20gYmV0d2VlbiB0aGUgYWZmZWN0ZWRcbiAqICAgICAgICAgICAgICAgIGJvZGllcyBleGNlcHQgZm9yIHRoZSB0cmFuc2xhdGlvbiBhbG9uZyBvbmUgYXhpcy5cbiAqIC0gYFNwaGVyaWNhbGA6ICgzRCBvbmx5KSBBIHNwaGVyaWNhbCBqb2ludCB0aGF0IHJlbW92ZXMgYWxsIHJlbGF0aXZlIGxpbmVhciBkZWdyZWVzIG9mIGZyZWVkb20gYmV0d2VlbiB0aGUgYWZmZWN0ZWQgYm9kaWVzLlxuICovXG5leHBvcnQgdmFyIEpvaW50VHlwZTtcbihmdW5jdGlvbiAoSm9pbnRUeXBlKSB7XG4gICAgSm9pbnRUeXBlW0pvaW50VHlwZVtcIlJldm9sdXRlXCJdID0gMF0gPSBcIlJldm9sdXRlXCI7XG4gICAgSm9pbnRUeXBlW0pvaW50VHlwZVtcIkZpeGVkXCJdID0gMV0gPSBcIkZpeGVkXCI7XG4gICAgSm9pbnRUeXBlW0pvaW50VHlwZVtcIlByaXNtYXRpY1wiXSA9IDJdID0gXCJQcmlzbWF0aWNcIjtcbn0pKEpvaW50VHlwZSB8fCAoSm9pbnRUeXBlID0ge30pKTtcbmV4cG9ydCB2YXIgTW90b3JNb2RlbDtcbihmdW5jdGlvbiAoTW90b3JNb2RlbCkge1xuICAgIE1vdG9yTW9kZWxbTW90b3JNb2RlbFtcIkFjY2VsZXJhdGlvbkJhc2VkXCJdID0gMF0gPSBcIkFjY2VsZXJhdGlvbkJhc2VkXCI7XG4gICAgTW90b3JNb2RlbFtNb3Rvck1vZGVsW1wiRm9yY2VCYXNlZFwiXSA9IDFdID0gXCJGb3JjZUJhc2VkXCI7XG59KShNb3Rvck1vZGVsIHx8IChNb3Rvck1vZGVsID0ge30pKTtcbmV4cG9ydCBjbGFzcyBJbXB1bHNlSm9pbnQge1xuICAgIGNvbnN0cnVjdG9yKHJhd1NldCwgYm9keVNldCwgaGFuZGxlKSB7XG4gICAgICAgIHRoaXMucmF3U2V0ID0gcmF3U2V0O1xuICAgICAgICB0aGlzLmJvZHlTZXQgPSBib2R5U2V0O1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICB9XG4gICAgc3RhdGljIG5ld1R5cGVkKHJhd1NldCwgYm9keVNldCwgaGFuZGxlKSB7XG4gICAgICAgIHN3aXRjaCAocmF3U2V0LmpvaW50VHlwZShoYW5kbGUpKSB7XG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5SZXZvbHV0ZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJldm9sdXRlSW1wdWxzZUpvaW50KHJhd1NldCwgYm9keVNldCwgaGFuZGxlKTtcbiAgICAgICAgICAgIGNhc2UgSm9pbnRUeXBlLlByaXNtYXRpYzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByaXNtYXRpY0ltcHVsc2VKb2ludChyYXdTZXQsIGJvZHlTZXQsIGhhbmRsZSk7XG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5GaXhlZDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpeGVkSW1wdWxzZUpvaW50KHJhd1NldCwgYm9keVNldCwgaGFuZGxlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbXB1bHNlSm9pbnQocmF3U2V0LCBib2R5U2V0LCBoYW5kbGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBmaW5hbGl6ZURlc2VyaWFsaXphdGlvbihib2R5U2V0KSB7XG4gICAgICAgIHRoaXMuYm9keVNldCA9IGJvZHlTZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGlzIGpvaW50IGlzIHN0aWxsIHZhbGlkIChpLmUuIHRoYXQgaXQgaGFzXG4gICAgICogbm90IGJlZW4gZGVsZXRlZCBmcm9tIHRoZSBqb2ludCBzZXQgeWV0KS5cbiAgICAgKi9cbiAgICBpc1ZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQuY29udGFpbnModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZmlyc3QgcmlnaWQtYm9keSB0aGlzIGpvaW50IGl0IGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGJvZHkxKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5U2V0LmdldCh0aGlzLnJhd1NldC5qb2ludEJvZHlIYW5kbGUxKHRoaXMuaGFuZGxlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzZWNvbmQgcmlnaWQtYm9keSB0aGlzIGpvaW50IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGJvZHkyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5U2V0LmdldCh0aGlzLnJhd1NldC5qb2ludEJvZHlIYW5kbGUyKHRoaXMuaGFuZGxlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgam9pbnQgZ2l2ZW4gYXMgYSBzdHJpbmcuXG4gICAgICovXG4gICAgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LmpvaW50VHlwZSh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoaXMgam9pbnQuXG4gICAgICpcbiAgICAgKiBUaGUgZmlyc3QgYW5jaG9yIGdpdmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9pbnRzIGFwcGxpY2F0aW9uIHBvaW50IG9uIHRoZVxuICAgICAqIGxvY2FsIGZyYW1lIG9mIHRoZSBmaXJzdCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGFuY2hvcjEoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhd1NldC5qb2ludEFuY2hvcjEodGhpcy5oYW5kbGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoaXMgam9pbnQuXG4gICAgICpcbiAgICAgKiBUaGUgc2Vjb25kIGFuY2hvciBnaXZlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvaW50cyBhcHBsaWNhdGlvbiBwb2ludCBvbiB0aGVcbiAgICAgKiBsb2NhbCBmcmFtZSBvZiB0aGUgc2Vjb25kIHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgYW5jaG9yMigpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3U2V0LmpvaW50QW5jaG9yMih0aGlzLmhhbmRsZSkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbml0SW1wdWxzZUpvaW50IGV4dGVuZHMgSW1wdWxzZUpvaW50IHtcbiAgICAvKipcbiAgICAgKiBBcmUgdGhlIGxpbWl0cyBlbmFibGVkIGZvciB0aGlzIGpvaW50P1xuICAgICAqL1xuICAgIGxpbWl0c0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5qb2ludExpbWl0c0VuYWJsZWQodGhpcy5oYW5kbGUsIHRoaXMucmF3QXhpcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1pbiBsaW1pdCBvZiB0aGlzIGpvaW50LlxuICAgICAqL1xuICAgIGxpbWl0c01pbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LmpvaW50TGltaXRzTWluKHRoaXMuaGFuZGxlLCB0aGlzLnJhd0F4aXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbGltaXQgb2YgdGhpcyBqb2ludC5cbiAgICAgKi9cbiAgICBsaW1pdHNNYXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5qb2ludExpbWl0c01heCh0aGlzLmhhbmRsZSwgdGhpcy5yYXdBeGlzKCkpO1xuICAgIH1cbiAgICBjb25maWd1cmVNb3Rvck1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LmpvaW50Q29uZmlndXJlTW90b3JNb2RlbCh0aGlzLmhhbmRsZSwgdGhpcy5yYXdBeGlzKCksIG1vZGVsKTtcbiAgICB9XG4gICAgY29uZmlndXJlTW90b3JWZWxvY2l0eSh0YXJnZXRWZWwsIGZhY3Rvcikge1xuICAgICAgICB0aGlzLnJhd1NldC5qb2ludENvbmZpZ3VyZU1vdG9yVmVsb2NpdHkodGhpcy5oYW5kbGUsIHRoaXMucmF3QXhpcygpLCB0YXJnZXRWZWwsIGZhY3Rvcik7XG4gICAgfVxuICAgIGNvbmZpZ3VyZU1vdG9yUG9zaXRpb24odGFyZ2V0UG9zLCBzdGlmZm5lc3MsIGRhbXBpbmcpIHtcbiAgICAgICAgdGhpcy5yYXdTZXQuam9pbnRDb25maWd1cmVNb3RvclBvc2l0aW9uKHRoaXMuaGFuZGxlLCB0aGlzLnJhd0F4aXMoKSwgdGFyZ2V0UG9zLCBzdGlmZm5lc3MsIGRhbXBpbmcpO1xuICAgIH1cbiAgICBjb25maWd1cmVNb3Rvcih0YXJnZXRQb3MsIHRhcmdldFZlbCwgc3RpZmZuZXNzLCBkYW1waW5nKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LmpvaW50Q29uZmlndXJlTW90b3IodGhpcy5oYW5kbGUsIHRoaXMucmF3QXhpcygpLCB0YXJnZXRQb3MsIHRhcmdldFZlbCwgc3RpZmZuZXNzLCBkYW1waW5nKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRml4ZWRJbXB1bHNlSm9pbnQgZXh0ZW5kcyBJbXB1bHNlSm9pbnQge1xufVxuZXhwb3J0IGNsYXNzIFByaXNtYXRpY0ltcHVsc2VKb2ludCBleHRlbmRzIFVuaXRJbXB1bHNlSm9pbnQge1xuICAgIHJhd0F4aXMoKSB7XG4gICAgICAgIHJldHVybiBSYXdKb2ludEF4aXMuWDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmV2b2x1dGVJbXB1bHNlSm9pbnQgZXh0ZW5kcyBVbml0SW1wdWxzZUpvaW50IHtcbiAgICByYXdBeGlzKCkge1xuICAgICAgICByZXR1cm4gUmF3Sm9pbnRBeGlzLkFuZ1g7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEpvaW50RGF0YSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgam9pbnQgZGVzY3JpcHRvciB0aGF0IGJ1aWxkcyBhIEZpeGVkIGpvaW50LlxuICAgICAqXG4gICAgICogQSBmaXhlZCBqb2ludCByZW1vdmVzIGFsbCB0aGUgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGFmZmVjdGVkIGJvZGllcywgZW5zdXJpbmcgdGhlaXJcbiAgICAgKiBhbmNob3IgYW5kIGxvY2FsIGZyYW1lcyBjb2luY2lkZSBpbiB3b3JsZC1zcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmNob3IxIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBmaXJzdCByaWdpZC1ib2R5IGFmZmVjdGVkIGJ5IHRoaXMgam9pbnQuIEV4cHJlc3NlZCBpbiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSBmcmFtZTEgLSBUaGUgcmVmZXJlbmNlIG9yaWVudGF0aW9uIG9mIHRoZSBqb2ludCB3cnQuIHRoZSBmaXJzdCByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSBhbmNob3IyIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBhZmZlY3RlZCBieSB0aGlzIGpvaW50LiBFeHByZXNzZWQgaW4gdGhlXG4gICAgICogICAgICAgICAgICAgICAgICBsb2NhbC1zcGFjZSBvZiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gZnJhbWUyIC0gVGhlIHJlZmVyZW5jZSBvcmllbnRhdGlvbiBvZiB0aGUgam9pbnQgd3J0LiB0aGUgc2Vjb25kIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgc3RhdGljIGZpeGVkKGFuY2hvcjEsIGZyYW1lMSwgYW5jaG9yMiwgZnJhbWUyKSB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgSm9pbnREYXRhKCk7XG4gICAgICAgIHJlcy5hbmNob3IxID0gYW5jaG9yMTtcbiAgICAgICAgcmVzLmFuY2hvcjIgPSBhbmNob3IyO1xuICAgICAgICByZXMuZnJhbWUxID0gZnJhbWUxO1xuICAgICAgICByZXMuZnJhbWUyID0gZnJhbWUyO1xuICAgICAgICByZXMuam9pbnRUeXBlID0gSm9pbnRUeXBlLkZpeGVkO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvLyAjaWYgRElNMlxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBqb2ludCBkZXNjcmlwdG9yIHRoYXQgYnVpbGRzIHJldm9sdXRlIGpvaW50cy5cbiAgICAgKlxuICAgICAqIEEgcmV2b2x1dGUgam9pbnQgYWxsb3dzIHRocmVlIHJlbGF0aXZlIHJvdGF0aW9uYWwgZGVncmVlcyBvZiBmcmVlZG9tXG4gICAgICogYnkgcHJldmVudGluZyBhbnkgcmVsYXRpdmUgdHJhbnNsYXRpb24gYmV0d2VlbiB0aGUgYW5jaG9ycyBvZiB0aGVcbiAgICAgKiB0d28gYXR0YWNoZWQgcmlnaWQtYm9kaWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuY2hvcjEgLSBQb2ludCB3aGVyZSB0aGUgam9pbnQgaXMgYXR0YWNoZWQgb24gdGhlIGZpcnN0IHJpZ2lkLWJvZHkgYWZmZWN0ZWQgYnkgdGhpcyBqb2ludC4gRXhwcmVzc2VkIGluIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgbG9jYWwtc3BhY2Ugb2YgdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIGFuY2hvcjIgLSBQb2ludCB3aGVyZSB0aGUgam9pbnQgaXMgYXR0YWNoZWQgb24gdGhlIHNlY29uZCByaWdpZC1ib2R5IGFmZmVjdGVkIGJ5IHRoaXMgam9pbnQuIEV4cHJlc3NlZCBpbiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIHN0YXRpYyByZXZvbHV0ZShhbmNob3IxLCBhbmNob3IyKSB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgSm9pbnREYXRhKCk7XG4gICAgICAgIHJlcy5hbmNob3IxID0gYW5jaG9yMTtcbiAgICAgICAgcmVzLmFuY2hvcjIgPSBhbmNob3IyO1xuICAgICAgICByZXMuam9pbnRUeXBlID0gSm9pbnRUeXBlLlJldm9sdXRlO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGpvaW50IGRlc2NyaXB0b3IgdGhhdCBidWlsZHMgYSBQcmlzbWF0aWMgam9pbnQuXG4gICAgICpcbiAgICAgKiBBIHByaXNtYXRpYyBqb2ludCByZW1vdmVzIGFsbCB0aGUgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlXG4gICAgICogYWZmZWN0ZWQgYm9kaWVzLCBleGNlcHQgZm9yIHRoZSB0cmFuc2xhdGlvbiBhbG9uZyBvbmUgYXhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmNob3IxIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBmaXJzdCByaWdpZC1ib2R5IGFmZmVjdGVkIGJ5IHRoaXMgam9pbnQuIEV4cHJlc3NlZCBpbiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSBhbmNob3IyIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBhZmZlY3RlZCBieSB0aGlzIGpvaW50LiBFeHByZXNzZWQgaW4gdGhlXG4gICAgICogICAgICAgICAgICAgICAgICBsb2NhbC1zcGFjZSBvZiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gYXhpcyAtIEF4aXMgb2YgdGhlIGpvaW50LCBleHByZXNzZWQgaW4gdGhlIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2RpZXMgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgc3RhdGljIHByaXNtYXRpYyhhbmNob3IxLCBhbmNob3IyLCBheGlzKSB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgSm9pbnREYXRhKCk7XG4gICAgICAgIHJlcy5hbmNob3IxID0gYW5jaG9yMTtcbiAgICAgICAgcmVzLmFuY2hvcjIgPSBhbmNob3IyO1xuICAgICAgICByZXMuYXhpcyA9IGF4aXM7XG4gICAgICAgIHJlcy5qb2ludFR5cGUgPSBKb2ludFR5cGUuUHJpc21hdGljO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICBpbnRvUmF3KCkge1xuICAgICAgICBsZXQgcmF3QTEgPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmFuY2hvcjEpO1xuICAgICAgICBsZXQgcmF3QTIgPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmFuY2hvcjIpO1xuICAgICAgICBsZXQgcmF3QXg7XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGxldCBsaW1pdHNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBsaW1pdHNNaW4gPSAwLjA7XG4gICAgICAgIGxldCBsaW1pdHNNYXggPSAwLjA7XG4gICAgICAgIHN3aXRjaCAodGhpcy5qb2ludFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgSm9pbnRUeXBlLkZpeGVkOlxuICAgICAgICAgICAgICAgIGxldCByYXdGcmExID0gUm90YXRpb25PcHMuaW50b1Jhdyh0aGlzLmZyYW1lMSk7XG4gICAgICAgICAgICAgICAgbGV0IHJhd0ZyYTIgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHRoaXMuZnJhbWUyKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBSYXdHZW5lcmljSm9pbnQuZml4ZWQocmF3QTEsIHJhd0ZyYTEsIHJhd0EyLCByYXdGcmEyKTtcbiAgICAgICAgICAgICAgICByYXdGcmExLmZyZWUoKTtcbiAgICAgICAgICAgICAgICByYXdGcmEyLmZyZWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSm9pbnRUeXBlLlByaXNtYXRpYzpcbiAgICAgICAgICAgICAgICByYXdBeCA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYXhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5saW1pdHNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0c0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsaW1pdHNNaW4gPSB0aGlzLmxpbWl0c1swXTtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzTWF4ID0gdGhpcy5saW1pdHNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gUmF3R2VuZXJpY0pvaW50LnByaXNtYXRpYyhyYXdBMSwgcmF3QTIsIHJhd0F4LCBsaW1pdHNFbmFibGVkLCBsaW1pdHNNaW4sIGxpbWl0c01heCk7XG4gICAgICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICAgICAgcmF3QXguZnJlZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gI2lmIERJTTJcbiAgICAgICAgICAgIGNhc2UgSm9pbnRUeXBlLlJldm9sdXRlOlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFJhd0dlbmVyaWNKb2ludC5yZXZvbHV0ZShyYXdBMSwgcmF3QTIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIH1cbiAgICAgICAgcmF3QTEuZnJlZSgpO1xuICAgICAgICByYXdBMi5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1wdWxzZV9qb2ludC5qcy5tYXAiLCJpbXBvcnQgeyBSYXdJbXB1bHNlSm9pbnRTZXQgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBDb2FyZW5hIH0gZnJvbSBcIi4uL2NvYXJlbmFcIjtcbmltcG9ydCB7IEltcHVsc2VKb2ludCwgfSBmcm9tIFwiLi9pbXB1bHNlX2pvaW50XCI7XG4vKipcbiAqIEEgc2V0IG9mIGpvaW50cy5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgam9pbnRTZXQuZnJlZSgpYFxuICogb25jZSB5b3UgYXJlIGRvbmUgdXNpbmcgaXQgKGFuZCBhbGwgdGhlIGpvaW50cyBpdCBjcmVhdGVkKS5cbiAqL1xuZXhwb3J0IGNsYXNzIEltcHVsc2VKb2ludFNldCB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdJbXB1bHNlSm9pbnRTZXQoKTtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgQ29hcmVuYSgpO1xuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBtYXAgd2l0aCB0aGUgZXhpc3RpbmcgZWxlbWVudHMsIGlmIGFueS5cbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmF3LmZvckVhY2hKb2ludEhhbmRsZSgoaGFuZGxlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGhhbmRsZSwgSW1wdWxzZUpvaW50Lm5ld1R5cGVkKHJhdywgbnVsbCwgaGFuZGxlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIGpvaW50IHNldC5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1hcC5jbGVhcigpO1xuICAgICAgICB0aGlzLm1hcCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGJvZGllcykge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGpvaW50ID0+IGpvaW50LmZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGJvZGllcykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGpvaW50IGFuZCByZXR1cm4gaXRzIGludGVnZXIgaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJvZGllcyAtIFRoZSBzZXQgb2YgcmlnaWQtYm9kaWVzIGNvbnRhaW5pbmcgdGhlIGJvZGllcyB0aGUgam9pbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICogQHBhcmFtIGRlc2MgLSBUaGUgam9pbnQncyBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSBwYXJlbnQxIC0gVGhlIGhhbmRsZSBvZiB0aGUgZmlyc3QgcmlnaWQtYm9keSB0aGlzIGpvaW50IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqIEBwYXJhbSBwYXJlbnQyIC0gVGhlIGhhbmRsZSBvZiB0aGUgc2Vjb25kIHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gU2hvdWxkIHRoZSBhdHRhY2hlZCByaWdpZC1ib2RpZXMgYmUgYXdha2VuZWQ/XG4gICAgICovXG4gICAgY3JlYXRlSm9pbnQoYm9kaWVzLCBkZXNjLCBwYXJlbnQxLCBwYXJlbnQyLCB3YWtlVXApIHtcbiAgICAgICAgY29uc3QgcmF3UGFyYW1zID0gZGVzYy5pbnRvUmF3KCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IHRoaXMucmF3LmNyZWF0ZUpvaW50KHJhd1BhcmFtcywgcGFyZW50MSwgcGFyZW50Miwgd2FrZVVwKTtcbiAgICAgICAgcmF3UGFyYW1zLmZyZWUoKTtcbiAgICAgICAgbGV0IGpvaW50ID0gSW1wdWxzZUpvaW50Lm5ld1R5cGVkKHRoaXMucmF3LCBib2RpZXMsIGhhbmRsZSk7XG4gICAgICAgIHRoaXMubWFwLnNldChoYW5kbGUsIGpvaW50KTtcbiAgICAgICAgcmV0dXJuIGpvaW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBqb2ludCBmcm9tIHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgam9pbnQuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhlIHJpZ2lkLWJvZGllcyBhdHRhY2hlZCBieSB0aGUgcmVtb3ZlZCBqb2ludCB3aWxsIGJlIHdva2VuLXVwIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgcmVtb3ZlKGhhbmRsZSwgd2FrZVVwKSB7XG4gICAgICAgIHRoaXMucmF3LnJlbW92ZShoYW5kbGUsIHdha2VVcCk7XG4gICAgICAgIHRoaXMudW5tYXAoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGdpdmVuIGNsb3N1cmUgd2l0aCB0aGUgaW50ZWdlciBoYW5kbGUgb2YgZWFjaCBpbXB1bHNlIGpvaW50IGF0dGFjaGVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmIC0gVGhlIGNsb3N1cmUgY2FsbGVkIHdpdGggdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggaW1wdWxzZSBqb2ludCBhdHRhY2hlZCB0byB0aGUgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBmb3JFYWNoSm9pbnRIYW5kbGVBdHRhY2hlZFRvUmlnaWRCb2R5KGhhbmRsZSwgZikge1xuICAgICAgICB0aGlzLnJhdy5mb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5KGhhbmRsZSwgZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGZ1bmN0aW9uLCBkbyBub3QgY2FsbCBkaXJlY3RseS5cbiAgICAgKiBAcGFyYW0gaGFuZGxlXG4gICAgICovXG4gICAgdW5tYXAoaGFuZGxlKSB7XG4gICAgICAgIHRoaXMubWFwLmRlbGV0ZShoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGpvaW50cyBvbiB0aGlzIHNldC5cbiAgICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5sZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG9lcyB0aGlzIHNldCBjb250YWluIGEgam9pbnQgd2l0aCB0aGUgZ2l2ZW4gaGFuZGxlP1xuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBqb2ludCBoYW5kbGUgdG8gY2hlY2suXG4gICAgICovXG4gICAgY29udGFpbnMoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChoYW5kbGUpICE9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGpvaW50IHdpdGggdGhlIGdpdmVuIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYG51bGxgIGlmIG5vIGpvaW50IHdpdGggdGhlIHNwZWNpZmllZCBoYW5kbGUgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgam9pbnQgdG8gcmV0cmlldmUuXG4gICAgICovXG4gICAgZ2V0KGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gZWFjaCBqb2ludCBjb250YWluZWQgYnkgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIGZvckVhY2goZikge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBqb2ludHMgaW4gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBqb2ludCBsaXN0LlxuICAgICAqL1xuICAgIGdldEFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEFsbCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltcHVsc2Vfam9pbnRfc2V0LmpzLm1hcCIsImltcG9ydCB7IFJhd0ludGVncmF0aW9uUGFyYW1ldGVycyB9IGZyb20gXCIuLi9yYXdcIjtcbmV4cG9ydCBjbGFzcyBJbnRlZ3JhdGlvblBhcmFtZXRlcnMge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZyZWUgdGhlIFdBU00gbWVtb3J5IHVzZWQgYnkgdGhlc2UgaW50ZWdyYXRpb24gcGFyYW1ldGVycy5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdGltZXN0ZXAgbGVuZ3RoIChkZWZhdWx0OiBgMS4wIC8gNjAuMGApXG4gICAgICovXG4gICAgZ2V0IGR0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuZHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBFcnJvciBSZWR1Y3Rpb24gUGFyYW1ldGVyIGluIGBbMCwgMV1gIGlzIHRoZSBwcm9wb3J0aW9uIG9mXG4gICAgICogdGhlIHBvc2l0aW9uYWwgZXJyb3IgdG8gYmUgY29ycmVjdGVkIGF0IGVhY2ggdGltZSBzdGVwIChkZWZhdWx0OiBgMC4yYCkuXG4gICAgICovXG4gICAgZ2V0IGVycCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmVycDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW1vdW50IG9mIHBlbmV0cmF0aW9uIHRoZSBlbmdpbmUgd29udCBhdHRlbXB0IHRvIGNvcnJlY3QgKGRlZmF1bHQ6IGAwLjAwMW1gKS5cbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZExpbmVhckVycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuYWxsb3dlZExpbmVhckVycm9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW1hbCBkaXN0YW5jZSBzZXBhcmF0aW5nIHR3byBvYmplY3RzIHRoYXQgd2lsbCBnZW5lcmF0ZSBwcmVkaWN0aXZlIGNvbnRhY3RzIChkZWZhdWx0OiBgMC4wMDJgKS5cbiAgICAgKi9cbiAgICBnZXQgcHJlZGljdGlvbkRpc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcucHJlZGljdGlvbkRpc3RhbmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZCBieSB0aGUgdmVsb2NpdHkgY29uc3RyYWludHMgc29sdmVyIChkZWZhdWx0OiBgNGApLlxuICAgICAqL1xuICAgIGdldCBtYXhWZWxvY2l0eUl0ZXJhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5tYXhWZWxvY2l0eUl0ZXJhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1heGltdW0gbnVtYmVyIG9mIGZyaWN0aW9uIGl0ZXJhdGlvbnMgcGVyZm9ybWVkIGJ5IHRoZSBwb3NpdGlvbi1iYXNlZCBjb25zdHJhaW50cyBzb2x2ZXIgKGRlZmF1bHQ6IGAxYCkuXG4gICAgICovXG4gICAgZ2V0IG1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcubWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1heGltdW0gbnVtYmVyIG9mIHN0YWJpbGl6YXRpb24gaXRlcmF0aW9ucyBwZXJmb3JtZWQgYnkgdGhlIHBvc2l0aW9uLWJhc2VkIGNvbnN0cmFpbnRzIHNvbHZlciAoZGVmYXVsdDogYDFgKS5cbiAgICAgKi9cbiAgICBnZXQgbWF4U3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5tYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWluaW11bSBudW1iZXIgb2YgZHluYW1pYyBib2RpZXMgaW4gZWFjaCBhY3RpdmUgaXNsYW5kIChkZWZhdWx0OiBgMTI4YCkuXG4gICAgICovXG4gICAgZ2V0IG1pbklzbGFuZFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5taW5Jc2xhbmRTaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBzdWJzdGVwcyBwZXJmb3JtZWQgYnkgdGhlICBzb2x2ZXIgKGRlZmF1bHQ6IGAxYCkuXG4gICAgICovXG4gICAgZ2V0IG1heENjZFN1YnN0ZXBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcubWF4Q2NkU3Vic3RlcHM7XG4gICAgfVxuICAgIHNldCBkdCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5kdCA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgZXJwKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3LmVycCA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgYWxsb3dlZExpbmVhckVycm9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3LmFsbG93ZWRMaW5lYXJFcnJvciA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgcHJlZGljdGlvbkRpc3RhbmNlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3LnByZWRpY3Rpb25EaXN0YW5jZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3Lm1heFZlbG9jaXR5SXRlcmF0aW9ucyA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgbWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnModmFsdWUpIHtcbiAgICAgICAgdGhpcy5yYXcubWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnMgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IG1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3Lm1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBtaW5Jc2xhbmRTaXplKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3Lm1pbklzbGFuZFNpemUgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IG1heENjZFN1YnN0ZXBzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3Lm1heENjZFN1YnN0ZXBzID0gdmFsdWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZWdyYXRpb25fcGFyYW1ldGVycy5qcy5tYXAiLCJpbXBvcnQgeyBSYXdJc2xhbmRNYW5hZ2VyIH0gZnJvbSBcIi4uL3Jhd1wiO1xuLyoqXG4gKiBUaGUgQ0NEIHNvbHZlciByZXNwb25zaWJsZSBmb3IgcmVzb2x2aW5nIENvbnRpbnVvdXMgQ29sbGlzaW9uIERldGVjdGlvbi5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgY2NkU29sdmVyLmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0LlxuICovXG5leHBvcnQgY2xhc3MgSXNsYW5kTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdJc2xhbmRNYW5hZ2VyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgbmFycm93LXBoYXNlLlxuICAgICAqL1xuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMucmF3LmZyZWUoKTtcbiAgICAgICAgdGhpcy5yYXcgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gdGhlIGhhbmRsZSBvZiBlYWNoIGFjdGl2ZSByaWdpZC1ib2RpZXMgY29udGFpbmVkIGJ5IHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQSByaWdpZC1ib2R5IGlzIGFjdGl2ZSBpZiBpdCBpcyBub3Qgc2xlZXBpbmcsIGkuZS4sIGlmIGl0IG1vdmVkIHJlY2VudGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGYgLSBUaGUgY2xvc3VyZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBmb3JFYWNoQWN0aXZlUmlnaWRCb2R5SGFuZGxlKGYpIHtcbiAgICAgICAgdGhpcy5yYXcuZm9yRWFjaEFjdGl2ZVJpZ2lkQm9keUhhbmRsZShmKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc2xhbmRfbWFuYWdlci5qcy5tYXAiLCJpbXBvcnQgeyBSYXdKb2ludEF4aXMgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBKb2ludFR5cGUgfSBmcm9tIFwiLi9pbXB1bHNlX2pvaW50XCI7XG5leHBvcnQgY2xhc3MgTXVsdGlib2R5Sm9pbnQge1xuICAgIGNvbnN0cnVjdG9yKHJhd1NldCwgaGFuZGxlKSB7XG4gICAgICAgIHRoaXMucmF3U2V0ID0gcmF3U2V0O1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICB9XG4gICAgc3RhdGljIG5ld1R5cGVkKHJhd1NldCwgaGFuZGxlKSB7XG4gICAgICAgIHN3aXRjaCAocmF3U2V0LmpvaW50VHlwZShoYW5kbGUpKSB7XG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5SZXZvbHV0ZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJldm9sdXRlTXVsdGlib2R5Sm9pbnQocmF3U2V0LCBoYW5kbGUpO1xuICAgICAgICAgICAgY2FzZSBKb2ludFR5cGUuUHJpc21hdGljOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJpc21hdGljTXVsdGlib2R5Sm9pbnQocmF3U2V0LCBoYW5kbGUpO1xuICAgICAgICAgICAgY2FzZSBKb2ludFR5cGUuRml4ZWQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGaXhlZE11bHRpYm9keUpvaW50KHJhd1NldCwgaGFuZGxlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNdWx0aWJvZHlKb2ludChyYXdTZXQsIGhhbmRsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgam9pbnQgaXMgc3RpbGwgdmFsaWQgKGkuZS4gdGhhdCBpdCBoYXNcbiAgICAgKiBub3QgYmVlbiBkZWxldGVkIGZyb20gdGhlIGpvaW50IHNldCB5ZXQpLlxuICAgICAqL1xuICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5jb250YWlucyh0aGlzLmhhbmRsZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuaXRNdWx0aWJvZHlKb2ludCBleHRlbmRzIE11bHRpYm9keUpvaW50IHtcbn1cbmV4cG9ydCBjbGFzcyBGaXhlZE11bHRpYm9keUpvaW50IGV4dGVuZHMgTXVsdGlib2R5Sm9pbnQge1xufVxuZXhwb3J0IGNsYXNzIFByaXNtYXRpY011bHRpYm9keUpvaW50IGV4dGVuZHMgVW5pdE11bHRpYm9keUpvaW50IHtcbiAgICByYXdBeGlzKCkge1xuICAgICAgICByZXR1cm4gUmF3Sm9pbnRBeGlzLlg7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJldm9sdXRlTXVsdGlib2R5Sm9pbnQgZXh0ZW5kcyBVbml0TXVsdGlib2R5Sm9pbnQge1xuICAgIHJhd0F4aXMoKSB7XG4gICAgICAgIHJldHVybiBSYXdKb2ludEF4aXMuQW5nWDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdWx0aWJvZHlfam9pbnQuanMubWFwIiwiaW1wb3J0IHsgUmF3TXVsdGlib2R5Sm9pbnRTZXQgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBDb2FyZW5hIH0gZnJvbSBcIi4uL2NvYXJlbmFcIjtcbmltcG9ydCB7IE11bHRpYm9keUpvaW50LCB9IGZyb20gXCIuL211bHRpYm9keV9qb2ludFwiO1xuLyoqXG4gKiBBIHNldCBvZiBqb2ludHMuXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGpvaW50U2V0LmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0IChhbmQgYWxsIHRoZSBqb2ludHMgaXQgY3JlYXRlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNdWx0aWJvZHlKb2ludFNldCB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdNdWx0aWJvZHlKb2ludFNldCgpO1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBDb2FyZW5hKCk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG1hcCB3aXRoIHRoZSBleGlzdGluZyBlbGVtZW50cywgaWYgYW55LlxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByYXcuZm9yRWFjaEpvaW50SGFuZGxlKChoYW5kbGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXQoaGFuZGxlLCBNdWx0aWJvZHlKb2ludC5uZXdUeXBlZCh0aGlzLnJhdywgaGFuZGxlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIGpvaW50IHNldC5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1hcC5jbGVhcigpO1xuICAgICAgICB0aGlzLm1hcCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBqb2ludCBhbmQgcmV0dXJuIGl0cyBpbnRlZ2VyIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZXNjIC0gVGhlIGpvaW50J3MgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gcGFyZW50MSAtIFRoZSBoYW5kbGUgb2YgdGhlIGZpcnN0IHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKiBAcGFyYW0gcGFyZW50MiAtIFRoZSBoYW5kbGUgb2YgdGhlIHNlY29uZCByaWdpZC1ib2R5IHRoaXMgam9pbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICogQHBhcmFtIHdha2VVcCAtIFNob3VsZCB0aGUgYXR0YWNoZWQgcmlnaWQtYm9kaWVzIGJlIGF3YWtlbmVkP1xuICAgICAqL1xuICAgIGNyZWF0ZUpvaW50KGRlc2MsIHBhcmVudDEsIHBhcmVudDIsIHdha2VVcCkge1xuICAgICAgICBjb25zdCByYXdQYXJhbXMgPSBkZXNjLmludG9SYXcoKTtcbiAgICAgICAgY29uc3QgaGFuZGxlID0gdGhpcy5yYXcuY3JlYXRlSm9pbnQocmF3UGFyYW1zLCBwYXJlbnQxLCBwYXJlbnQyLCB3YWtlVXApO1xuICAgICAgICByYXdQYXJhbXMuZnJlZSgpO1xuICAgICAgICBsZXQgam9pbnQgPSBNdWx0aWJvZHlKb2ludC5uZXdUeXBlZCh0aGlzLnJhdywgaGFuZGxlKTtcbiAgICAgICAgdGhpcy5tYXAuc2V0KGhhbmRsZSwgam9pbnQpO1xuICAgICAgICByZXR1cm4gam9pbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGpvaW50IGZyb20gdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSBqb2ludC5cbiAgICAgKiBAcGFyYW0gd2FrZV91cCAtIElmIGB0cnVlYCwgdGhlIHJpZ2lkLWJvZGllcyBhdHRhY2hlZCBieSB0aGUgcmVtb3ZlZCBqb2ludCB3aWxsIGJlIHdva2VuLXVwIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgcmVtb3ZlKGhhbmRsZSwgd2FrZV91cCkge1xuICAgICAgICB0aGlzLnJhdy5yZW1vdmUoaGFuZGxlLCB3YWtlX3VwKTtcbiAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGZ1bmN0aW9uLCBkbyBub3QgY2FsbCBkaXJlY3RseS5cbiAgICAgKiBAcGFyYW0gaGFuZGxlXG4gICAgICovXG4gICAgdW5tYXAoaGFuZGxlKSB7XG4gICAgICAgIHRoaXMubWFwLmRlbGV0ZShoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGpvaW50cyBvbiB0aGlzIHNldC5cbiAgICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5sZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG9lcyB0aGlzIHNldCBjb250YWluIGEgam9pbnQgd2l0aCB0aGUgZ2l2ZW4gaGFuZGxlP1xuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBqb2ludCBoYW5kbGUgdG8gY2hlY2suXG4gICAgICovXG4gICAgY29udGFpbnMoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChoYW5kbGUpICE9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGpvaW50IHdpdGggdGhlIGdpdmVuIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYG51bGxgIGlmIG5vIGpvaW50IHdpdGggdGhlIHNwZWNpZmllZCBoYW5kbGUgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgam9pbnQgdG8gcmV0cmlldmUuXG4gICAgICovXG4gICAgZ2V0KGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gZWFjaCBqb2ludCBjb250YWluZWQgYnkgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIGZvckVhY2goZikge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2xvc3VyZSB3aXRoIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIG11bHRpYm9keSBqb2ludCBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIGNhbGxlZCB3aXRoIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIG11bHRpYm9keSBqb2ludCBhdHRhY2hlZCB0byB0aGUgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBmb3JFYWNoSm9pbnRIYW5kbGVBdHRhY2hlZFRvUmlnaWRCb2R5KGhhbmRsZSwgZikge1xuICAgICAgICB0aGlzLnJhdy5mb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5KGhhbmRsZSwgZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGpvaW50cyBpbiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGpvaW50IGxpc3QuXG4gICAgICovXG4gICAgZ2V0QWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0QWxsKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGlib2R5X2pvaW50X3NldC5qcy5tYXAiLCJpbXBvcnQgeyBSb3RhdGlvbk9wcywgVmVjdG9yT3BzIH0gZnJvbSAnLi4vbWF0aCc7XG4vKipcbiAqIFRoZSBzaW11bGF0aW9uIHN0YXR1cyBvZiBhIHJpZ2lkLWJvZHkuXG4gKi9cbi8vIFRPRE86IHJlbmFtZSB0aGlzIHRvIFJpZ2lkQm9keVR5cGVcbmV4cG9ydCB2YXIgUmlnaWRCb2R5VHlwZTtcbihmdW5jdGlvbiAoUmlnaWRCb2R5VHlwZSkge1xuICAgIC8qKlxuICAgICAqIEEgYFJpZ2lkQm9keVR5cGU6OkR5bmFtaWNgIGJvZHkgY2FuIGJlIGFmZmVjdGVkIGJ5IGFsbCBleHRlcm5hbCBmb3JjZXMuXG4gICAgICovXG4gICAgUmlnaWRCb2R5VHlwZVtSaWdpZEJvZHlUeXBlW1wiRHluYW1pY1wiXSA9IDBdID0gXCJEeW5hbWljXCI7XG4gICAgLyoqXG4gICAgICogQSBgUmlnaWRCb2R5VHlwZTo6Rml4ZWRgIGJvZHkgY2Fubm90IGJlIGFmZmVjdGVkIGJ5IGV4dGVybmFsIGZvcmNlcy5cbiAgICAgKi9cbiAgICBSaWdpZEJvZHlUeXBlW1JpZ2lkQm9keVR5cGVbXCJGaXhlZFwiXSA9IDFdID0gXCJGaXhlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgYFJpZ2lkQm9keVR5cGU6OktpbmVtYXRpY1Bvc2l0aW9uQmFzZWRgIGJvZHkgY2Fubm90IGJlIGFmZmVjdGVkIGJ5IGFueSBleHRlcm5hbCBmb3JjZXMgYnV0IGNhbiBiZSBjb250cm9sbGVkXG4gICAgICogYnkgdGhlIHVzZXIgYXQgdGhlIHBvc2l0aW9uIGxldmVsIHdoaWxlIGtlZXBpbmcgcmVhbGlzdGljIG9uZS13YXkgaW50ZXJhY3Rpb24gd2l0aCBkeW5hbWljIGJvZGllcy5cbiAgICAgKlxuICAgICAqIE9uZS13YXkgaW50ZXJhY3Rpb24gbWVhbnMgdGhhdCBhIGtpbmVtYXRpYyBib2R5IGNhbiBwdXNoIGEgZHluYW1pYyBib2R5LCBidXQgYSBraW5lbWF0aWMgYm9keVxuICAgICAqIGNhbm5vdCBiZSBwdXNoZWQgYnkgYW55dGhpbmcuIEluIG90aGVyIHdvcmRzLCB0aGUgdHJhamVjdG9yeSBvZiBhIGtpbmVtYXRpYyBib2R5IGNhbiBvbmx5IGJlXG4gICAgICogbW9kaWZpZWQgYnkgdGhlIHVzZXIgYW5kIGlzIGluZGVwZW5kZW50IGZyb20gYW55IGNvbnRhY3Qgb3Igam9pbnQgaXQgaXMgaW52b2x2ZWQgaW4uXG4gICAgICovXG4gICAgUmlnaWRCb2R5VHlwZVtSaWdpZEJvZHlUeXBlW1wiS2luZW1hdGljUG9zaXRpb25CYXNlZFwiXSA9IDJdID0gXCJLaW5lbWF0aWNQb3NpdGlvbkJhc2VkXCI7XG4gICAgLyoqXG4gICAgICogQSBgUmlnaWRCb2R5VHlwZTo6S2luZW1hdGljVmVsb2NpdHlCYXNlZGAgYm9keSBjYW5ub3QgYmUgYWZmZWN0ZWQgYnkgYW55IGV4dGVybmFsIGZvcmNlcyBidXQgY2FuIGJlIGNvbnRyb2xsZWRcbiAgICAgKiBieSB0aGUgdXNlciBhdCB0aGUgdmVsb2NpdHkgbGV2ZWwgd2hpbGUga2VlcGluZyByZWFsaXN0aWMgb25lLXdheSBpbnRlcmFjdGlvbiB3aXRoIGR5bmFtaWMgYm9kaWVzLlxuICAgICAqXG4gICAgICogT25lLXdheSBpbnRlcmFjdGlvbiBtZWFucyB0aGF0IGEga2luZW1hdGljIGJvZHkgY2FuIHB1c2ggYSBkeW5hbWljIGJvZHksIGJ1dCBhIGtpbmVtYXRpYyBib2R5XG4gICAgICogY2Fubm90IGJlIHB1c2hlZCBieSBhbnl0aGluZy4gSW4gb3RoZXIgd29yZHMsIHRoZSB0cmFqZWN0b3J5IG9mIGEga2luZW1hdGljIGJvZHkgY2FuIG9ubHkgYmVcbiAgICAgKiBtb2RpZmllZCBieSB0aGUgdXNlciBhbmQgaXMgaW5kZXBlbmRlbnQgZnJvbSBhbnkgY29udGFjdCBvciBqb2ludCBpdCBpcyBpbnZvbHZlZCBpbi5cbiAgICAgKi9cbiAgICBSaWdpZEJvZHlUeXBlW1JpZ2lkQm9keVR5cGVbXCJLaW5lbWF0aWNWZWxvY2l0eUJhc2VkXCJdID0gM10gPSBcIktpbmVtYXRpY1ZlbG9jaXR5QmFzZWRcIjtcbn0pKFJpZ2lkQm9keVR5cGUgfHwgKFJpZ2lkQm9keVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBIHJpZ2lkLWJvZHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBSaWdpZEJvZHkge1xuICAgIGNvbnN0cnVjdG9yKHJhd1NldCwgY29sbGlkZXJTZXQsIGhhbmRsZSkge1xuICAgICAgICB0aGlzLnJhd1NldCA9IHJhd1NldDtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldCA9IGNvbGxpZGVyU2V0O1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGNvbGxpZGVyU2V0KSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQgPSBjb2xsaWRlclNldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgcmlnaWQtYm9keSBpcyBzdGlsbCB2YWxpZCAoaS5lLiB0aGF0IGl0IGhhc1xuICAgICAqIG5vdCBiZWVuIGRlbGV0ZWQgZnJvbSB0aGUgcmlnaWQtYm9keSBzZXQgeWV0LlxuICAgICAqL1xuICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5jb250YWlucyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2tzIG9yIHVubG9ja3MgdGhlIGFiaWxpdHkgb2YgdGhpcyByaWdpZC1ib2R5IHRvIHRyYW5zbGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsb2NrZWQgLSBJZiBgdHJ1ZWAsIHRoaXMgcmlnaWQtYm9keSB3aWxsIG5vIGxvbmdlciB0cmFuc2xhdGUgZHVlIHRvIGZvcmNlcyBhbmQgaW1wdWxzZXMuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgYmUgYXV0b21hdGljYWxseSBhd2FrZW4gaWYgaXQgaXMgY3VycmVudGx5IGFzbGVlcC5cbiAgICAgKi9cbiAgICBsb2NrVHJhbnNsYXRpb25zKGxvY2tlZCwgd2FrZVVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYkxvY2tUcmFuc2xhdGlvbnModGhpcy5oYW5kbGUsIGxvY2tlZCwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ja3Mgb3IgdW5sb2NrcyB0aGUgYWJpbGl0eSBvZiB0aGlzIHJpZ2lkLWJvZHkgdG8gcm90YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2tlZCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgbm8gbG9uZ2VyIHJvdGF0ZSBkdWUgdG8gdG9ycXVlcyBhbmQgaW1wdWxzZXMuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgYmUgYXV0b21hdGljYWxseSBhd2FrZW4gaWYgaXQgaXMgY3VycmVudGx5IGFzbGVlcC5cbiAgICAgKi9cbiAgICBsb2NrUm90YXRpb25zKGxvY2tlZCwgd2FrZVVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYkxvY2tSb3RhdGlvbnModGhpcy5oYW5kbGUsIGxvY2tlZCwgd2FrZVVwKTtcbiAgICB9XG4gICAgLy8gI2lmIERJTTJcbiAgICAvKipcbiAgICAgKiBMb2NrcyBvciB1bmxvY2tzIHRoZSBhYmlsaXR5IG9mIHRoaXMgcmlnaWQtYm9keSB0byB0cmFuc2xhdGlvbiBhbG9uZyBpbmRpdmlkdWFsIGNvb3JkaW5hdGUgYXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbmFibGVYIC0gSWYgYGZhbHNlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgbm8gbG9uZ2VyIHJvdGF0ZSBkdWUgdG8gdG9ycXVlcyBhbmQgaW1wdWxzZXMsIGFsb25nIHRoZSBYIGNvb3JkaW5hdGUgYXhpcy5cbiAgICAgKiBAcGFyYW0gZW5hYmxlWSAtIElmIGBmYWxzZWAsIHRoaXMgcmlnaWQtYm9keSB3aWxsIG5vIGxvbmdlciByb3RhdGUgZHVlIHRvIHRvcnF1ZXMgYW5kIGltcHVsc2VzLCBhbG9uZyB0aGUgWSBjb29yZGluYXRlIGF4aXMuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgYmUgYXV0b21hdGljYWxseSBhd2FrZW4gaWYgaXQgaXMgY3VycmVudGx5IGFzbGVlcC5cbiAgICAgKi9cbiAgICByZXN0cmljdFRyYW5zbGF0aW9ucyhlbmFibGVYLCBlbmFibGVZLCB3YWtlVXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiUmVzdHJpY3RUcmFuc2xhdGlvbnModGhpcy5oYW5kbGUsIGVuYWJsZVgsIGVuYWJsZVksIHdha2VVcCk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFRoZSBkb21pbmFuY2UgZ3JvdXAsIGluIFstMTI3LCArMTI3XSB0aGlzIHJpZ2lkLWJvZHkgaXMgcGFydCBvZi5cbiAgICAgKi9cbiAgICBkb21pbmFuY2VHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiRG9taW5hbmNlR3JvdXAodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkb21pbmFuY2UgZ3JvdXAgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGdyb3VwIC0gVGhlIGRvbWluYW5jZSBncm91cCBvZiB0aGlzIHJpZ2lkLWJvZHkuIE11c3QgYmUgYSBzaWduZWQgaW50ZWdlciBpbiB0aGUgcmFuZ2UgWy0xMjcsICsxMjddLlxuICAgICAqL1xuICAgIHNldERvbWluYW5jZUdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0RG9taW5hbmNlR3JvdXAodGhpcy5oYW5kbGUsIGdyb3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIG9yIGRpc2FibGUgQ0NEIChDb250aW51b3VzIENvbGxpc2lvbiBEZXRlY3Rpb24pIGZvciB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5hYmxlZCAtIElmIGB0cnVlYCwgQ0NEIHdpbGwgYmUgZW5hYmxlZCBmb3IgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGVuYWJsZUNjZChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiRW5hYmxlQ2NkKHRoaXMuaGFuZGxlLCBlbmFibGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkLXNwYWNlIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICB0cmFuc2xhdGlvbigpIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucmF3U2V0LnJiVHJhbnNsYXRpb24odGhpcy5oYW5kbGUpO1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcocmVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkLXNwYWNlIG9yaWVudGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICByb3RhdGlvbigpIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucmF3U2V0LnJiUm90YXRpb24odGhpcy5oYW5kbGUpO1xuICAgICAgICByZXR1cm4gUm90YXRpb25PcHMuZnJvbVJhdyhyZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgd29ybGQtc3BhY2UgbmV4dCB0cmFuc2xhdGlvbiBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIHJpZ2lkLWJvZHkgaXMga2luZW1hdGljIHRoaXMgdmFsdWUgaXMgc2V0IGJ5IHRoZSBgc2V0TmV4dEtpbmVtYXRpY1RyYW5zbGF0aW9uYFxuICAgICAqIG1ldGhvZCBhbmQgaXMgdXNlZCBmb3IgZXN0aW1hdGluZyB0aGUga2luZW1hdGljIGJvZHkgdmVsb2NpdHkgYXQgdGhlIG5leHQgdGltZXN0ZXAuXG4gICAgICogRm9yIG5vbi1raW5lbWF0aWMgYm9kaWVzLCB0aGlzIHZhbHVlIGlzIGN1cnJlbnRseSB1bnNwZWNpZmllZC5cbiAgICAgKi9cbiAgICBuZXh0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIGxldCByZXMgPSB0aGlzLnJhd1NldC5yYk5leHRUcmFuc2xhdGlvbih0aGlzLmhhbmRsZSk7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyhyZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgd29ybGQtc3BhY2UgbmV4dCBvcmllbnRhdGlvbiBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIHJpZ2lkLWJvZHkgaXMga2luZW1hdGljIHRoaXMgdmFsdWUgaXMgc2V0IGJ5IHRoZSBgc2V0TmV4dEtpbmVtYXRpY1JvdGF0aW9uYFxuICAgICAqIG1ldGhvZCBhbmQgaXMgdXNlZCBmb3IgZXN0aW1hdGluZyB0aGUga2luZW1hdGljIGJvZHkgdmVsb2NpdHkgYXQgdGhlIG5leHQgdGltZXN0ZXAuXG4gICAgICogRm9yIG5vbi1raW5lbWF0aWMgYm9kaWVzLCB0aGlzIHZhbHVlIGlzIGN1cnJlbnRseSB1bnNwZWNpZmllZC5cbiAgICAgKi9cbiAgICBuZXh0Um90YXRpb24oKSB7XG4gICAgICAgIGxldCByZXMgPSB0aGlzLnJhd1NldC5yYk5leHRSb3RhdGlvbih0aGlzLmhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSb3RhdGlvbk9wcy5mcm9tUmF3KHJlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmEgLSBUaGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIEZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIHNvIGl0IGlzIHByb3Blcmx5IGFmZmVjdGVkIGJ5IGZvcmNlcyBpZiBpdFxuICAgICAqICAgICAgICAgICAgICAgICB3YXNuJ3QgbW92aW5nIGJlZm9yZSBtb2RpZnlpbmcgaXRzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIHNldFRyYW5zbGF0aW9uKHRyYSwgd2FrZVVwKSB7XG4gICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0VHJhbnNsYXRpb24odGhpcy5oYW5kbGUsIHRyYS54LCB0cmEueSwgd2FrZVVwKTtcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpbmVhciB2ZWxvY2l0eSBmbyB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVsIC0gVGhlIGxpbmVhciB2ZWxvY2l0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIEZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIGlmIGl0IHdhcyBhc2xlZXAuXG4gICAgICovXG4gICAgc2V0TGludmVsKHZlbCwgd2FrZVVwKSB7XG4gICAgICAgIGxldCByYXdWZWwgPSBWZWN0b3JPcHMuaW50b1Jhdyh2ZWwpO1xuICAgICAgICB0aGlzLnJhd1NldC5yYlNldExpbnZlbCh0aGlzLmhhbmRsZSwgcmF3VmVsLCB3YWtlVXApO1xuICAgICAgICByYXdWZWwuZnJlZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIGFwcGxpZWQgdG8gdGhlIGdyYXZpdHkgYWZmZWN0aW5nXG4gICAgICogdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGdyYXZpdHlTY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiR3Jhdml0eVNjYWxlKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc2NhbGUgZmFjdG9yIGFwcGxpZWQgdG8gdGhlIGdyYXZpdHkgYWZmZWN0aW5nXG4gICAgICogdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZhY3RvciAtIFRoZSBzY2FsZSBmYWN0b3IgdG8gc2V0LiBBIHZhbHVlIG9mIDAuMCBtZWFuc1xuICAgICAqICAgdGhhdCB0aGlzIHJpZ2lkLWJvZHkgd2lsbCBvbiBsb25nZXIgYmUgYWZmZWN0ZWQgYnkgZ3Jhdml0eS5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gRm9yY2VzIHRoZSByaWdpZC1ib2R5IHRvIHdha2UtdXAgaWYgaXQgd2FzIGFzbGVlcC5cbiAgICAgKi9cbiAgICBzZXRHcmF2aXR5U2NhbGUoZmFjdG9yLCB3YWtlVXApIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJTZXRHcmF2aXR5U2NhbGUodGhpcy5oYW5kbGUsIGZhY3Rvciwgd2FrZVVwKTtcbiAgICB9XG4gICAgLy8gI2lmIERJTTJcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByb3RhdGlvbiBhbmdsZSBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBUaGUgcm90YXRpb24gYW5nbGUsIGluIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIEZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIHNvIGl0IGlzIHByb3Blcmx5IGFmZmVjdGVkIGJ5IGZvcmNlcyBpZiBpdFxuICAgICAqIHdhc24ndCBtb3ZpbmcgYmVmb3JlIG1vZGlmeWluZyBpdHMgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2V0Um90YXRpb24oYW5nbGUsIHdha2VVcCkge1xuICAgICAgICB0aGlzLnJhd1NldC5yYlNldFJvdGF0aW9uKHRoaXMuaGFuZGxlLCBhbmdsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYW5ndWxhciB2ZWxvY2l0eSBmbyB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVsIC0gVGhlIGFuZ3VsYXIgdmVsb2NpdHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBGb3JjZXMgdGhlIHJpZ2lkLWJvZHkgdG8gd2FrZS11cCBpZiBpdCB3YXMgYXNsZWVwLlxuICAgICAqL1xuICAgIHNldEFuZ3ZlbCh2ZWwsIHdha2VVcCkge1xuICAgICAgICB0aGlzLnJhd1NldC5yYlNldEFuZ3ZlbCh0aGlzLmhhbmRsZSwgdmVsLCB3YWtlVXApO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLCBzZXRzIGl0cyBmdXR1cmUgdHJhbnNsYXRpb24gYWZ0ZXIgdGhlIG5leHQgdGltZXN0ZXAgaW50ZWdyYXRpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYHJpZ2lkQm9keS5zZXRUcmFuc2xhdGlvbmAgdG8gbWFrZSB0aGUgZHluYW1pYyBvYmplY3RcbiAgICAgKiBpbnRlcmFjdGluZyB3aXRoIHRoaXMga2luZW1hdGljIGJvZHkgYmVoYXZlIGFzIGV4cGVjdGVkLiBJbnRlcm5hbGx5LCBSYXBpZXIgd2lsbCBjb21wdXRlXG4gICAgICogYW4gYXJ0aWZpY2lhbCB2ZWxvY2l0eSBmb3IgdGhpcyByaWdpZC1ib2R5IGZyb20gaXRzIGN1cnJlbnQgcG9zaXRpb24gYW5kIGl0cyBuZXh0IGtpbmVtYXRpY1xuICAgICAqIHBvc2l0aW9uLiBUaGlzIHZlbG9jaXR5IHdpbGwgYmUgdXNlZCB0byBjb21wdXRlIGZvcmNlcyBvbiBkeW5hbWljIGJvZGllcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICogdGhpcyBib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHQgLSBUaGUga2luZW1hdGljIHRyYW5zbGF0aW9uIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXROZXh0S2luZW1hdGljVHJhbnNsYXRpb24odCkge1xuICAgICAgICAvLyAjaWYgRElNMlxuICAgICAgICB0aGlzLnJhd1NldC5yYlNldE5leHRLaW5lbWF0aWNUcmFuc2xhdGlvbih0aGlzLmhhbmRsZSwgdC54LCB0LnkpO1xuICAgICAgICAvLyAjZW5kaWZcbiAgICB9XG4gICAgLy8gI2lmIERJTTJcbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLCBzZXRzIGl0cyBmdXR1cmUgcm90YXRpb24gYWZ0ZXIgdGhlIG5leHQgdGltZXN0ZXAgaW50ZWdyYXRpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYHJpZ2lkQm9keS5zZXRSb3RhdGlvbmAgdG8gbWFrZSB0aGUgZHluYW1pYyBvYmplY3RcbiAgICAgKiBpbnRlcmFjdGluZyB3aXRoIHRoaXMga2luZW1hdGljIGJvZHkgYmVoYXZlIGFzIGV4cGVjdGVkLiBJbnRlcm5hbGx5LCBSYXBpZXIgd2lsbCBjb21wdXRlXG4gICAgICogYW4gYXJ0aWZpY2lhbCB2ZWxvY2l0eSBmb3IgdGhpcyByaWdpZC1ib2R5IGZyb20gaXRzIGN1cnJlbnQgcG9zaXRpb24gYW5kIGl0cyBuZXh0IGtpbmVtYXRpY1xuICAgICAqIHBvc2l0aW9uLiBUaGlzIHZlbG9jaXR5IHdpbGwgYmUgdXNlZCB0byBjb21wdXRlIGZvcmNlcyBvbiBkeW5hbWljIGJvZGllcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICogdGhpcyBib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gVGhlIGtpbmVtYXRpYyByb3RhdGlvbiBhbmdsZSwgaW4gcmFkaWFucy5cbiAgICAgKi9cbiAgICBzZXROZXh0S2luZW1hdGljUm90YXRpb24oYW5nbGUpIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJTZXROZXh0S2luZW1hdGljUm90YXRpb24odGhpcy5oYW5kbGUsIGFuZ2xlKTtcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgLyoqXG4gICAgICogVGhlIGxpbmVhciB2ZWxvY2l0eSBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgbGludmVsKCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcodGhpcy5yYXdTZXQucmJMaW52ZWwodGhpcy5oYW5kbGUpKTtcbiAgICB9XG4gICAgLy8gI2lmIERJTTJcbiAgICAvKipcbiAgICAgKiBUaGUgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgYW5ndmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJBbmd2ZWwodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvKipcbiAgICAgKiBUaGUgbWFzcyBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgbWFzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiTWFzcyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1dCB0aGlzIHJpZ2lkIGJvZHkgdG8gc2xlZXAuXG4gICAgICpcbiAgICAgKiBBIHNsZWVwaW5nIGJvZHkgbm8gbG9uZ2VyIG1vdmVzIGFuZCBpcyBubyBsb25nZXIgc2ltdWxhdGVkIGJ5IHRoZSBwaHlzaWNzIGVuZ2luZSB1bmxlc3NcbiAgICAgKiBpdCBpcyB3YWtlbiB1cC4gSXQgY2FuIGJlIHdva2VuIG1hbnVhbGx5IHdpdGggYHRoaXMud2FrZVVwKClgIG9yIGF1dG9tYXRpY2FsbHkgZHVlIHRvXG4gICAgICogZXh0ZXJuYWwgZm9yY2VzIGxpa2UgY29udGFjdHMuXG4gICAgICovXG4gICAgc2xlZXAoKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2xlZXAodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXYWtlcyB0aGlzIHJpZ2lkLWJvZHkgdXAuXG4gICAgICpcbiAgICAgKiBBIGR5bmFtaWMgcmlnaWQtYm9keSB0aGF0IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNldmVyYWwgY29uc2VjdXRpdmUgZnJhbWVzIHdpbGxcbiAgICAgKiBiZSBwdXQgdG8gc2xlZXAgYnkgdGhlIHBoeXNpY3MgZW5naW5lLCBpLmUuLCBpdCB3aWxsIHN0b3AgYmVpbmcgc2ltdWxhdGVkIGluIG9yZGVyXG4gICAgICogdG8gYXZvaWQgdXNlbGVzcyBjb21wdXRhdGlvbnMuXG4gICAgICogVGhpcyBtZXRob2RzIGZvcmNlcyBhIHNsZWVwaW5nIHJpZ2lkLWJvZHkgdG8gd2FrZS11cC4gVGhpcyBpcyB1c2VmdWwsIGUuZy4sIGJlZm9yZSBtb2RpZnlpbmdcbiAgICAgKiB0aGUgcG9zaXRpb24gb2YgYSBkeW5hbWljIGJvZHkgc28gdGhhdCBpdCBpcyBwcm9wZXJseSBzaW11bGF0ZWQgYWZ0ZXJ3YXJkcy5cbiAgICAgKi9cbiAgICB3YWtlVXAoKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiV2FrZVVwKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgQ0NEIGVuYWJsZWQgZm9yIHRoaXMgcmlnaWQtYm9keT9cbiAgICAgKi9cbiAgICBpc0NjZEVuYWJsZWQoKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiSXNDY2RFbmFibGVkKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBjb2xsaWRlcnMgYXR0YWNoZWQgdG8gdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIG51bUNvbGxpZGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiTnVtQ29sbGlkZXJzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBgaS10aGAgY29sbGlkZXIgYXR0YWNoZWQgdG8gdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGkgLSBUaGUgaW5kZXggb2YgdGhlIGNvbGxpZGVyIHRvIHJldHJpZXZlLiBNdXN0IGJlIGEgbnVtYmVyIGluIGBbMCwgdGhpcy5udW1Db2xsaWRlcnMoKVtgLlxuICAgICAqICAgICAgICAgVGhpcyBpbmRleCBpcyAqKm5vdCoqIHRoZSBzYW1lIGFzIHRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgY29sbGlkZXIuXG4gICAgICovXG4gICAgY29sbGlkZXIoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5nZXQodGhpcy5yYXdTZXQucmJDb2xsaWRlcih0aGlzLmhhbmRsZSwgaSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoaXMgcmlnaWQtYm9keTogc3RhdGljLCBkeW5hbWljLCBvciBraW5lbWF0aWMuXG4gICAgICovXG4gICAgYm9keVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYkJvZHlUeXBlKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgbmV3IHN0YXR1cyBmb3IgdGhpcyByaWdpZC1ib2R5OiBzdGF0aWMsIGR5bmFtaWMsIG9yIGtpbmVtYXRpYy5cbiAgICAgKi9cbiAgICBzZXRCb2R5VHlwZSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYlNldEJvZHlUeXBlKHRoaXMuaGFuZGxlLCB0eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyByaWdpZC1ib2R5IHNsZWVwaW5nP1xuICAgICAqL1xuICAgIGlzU2xlZXBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYklzU2xlZXBpbmcodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGUgdmVsb2NpdHkgb2YgdGhpcyByaWdpZC1ib2R5IG5vdCB6ZXJvP1xuICAgICAqL1xuICAgIGlzTW92aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJJc01vdmluZyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoaXMgcmlnaWQtYm9keSBzdGF0aWM/XG4gICAgICovXG4gICAgaXNGaXhlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiSXNGaXhlZCh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoaXMgcmlnaWQtYm9keSBraW5lbWF0aWM/XG4gICAgICovXG4gICAgaXNLaW5lbWF0aWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYklzS2luZW1hdGljKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyByaWdpZC1ib2R5IGR5bmFtaWM/XG4gICAgICovXG4gICAgaXNEeW5hbWljKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJJc0R5bmFtaWModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZWFyIGRhbXBpbmcgY29lZmZpY2llbnQgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGxpbmVhckRhbXBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYkxpbmVhckRhbXBpbmcodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYW5ndWxhciBkYW1waW5nIGNvZWZmaWNpZW50IG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBhbmd1bGFyRGFtcGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiQW5ndWxhckRhbXBpbmcodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaW5lYXIgZGFtcGluZyBmYWN0b3IgYXBwbGllZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmFjdG9yIC0gVGhlIGRhbXBpbmcgZmFjdG9yIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXRMaW5lYXJEYW1waW5nKGZhY3Rvcikge1xuICAgICAgICB0aGlzLnJhd1NldC5yYlNldExpbmVhckRhbXBpbmcodGhpcy5oYW5kbGUsIGZhY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpbmVhciBkYW1waW5nIGZhY3RvciBhcHBsaWVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWN0b3IgLSBUaGUgZGFtcGluZyBmYWN0b3IgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldEFuZ3VsYXJEYW1waW5nKGZhY3Rvcikge1xuICAgICAgICB0aGlzLnJhd1NldC5yYlNldEFuZ3VsYXJEYW1waW5nKHRoaXMuaGFuZGxlLCBmYWN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdG8gemVybyB0aGUgdXNlciBmb3JjZXMgKGJ1dCBub3QgdG9ycXVlcykgYXBwbGllZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgICovXG4gICAgcmVzZXRGb3JjZXMod2FrZVVwKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiUmVzZXRGb3JjZXModGhpcy5oYW5kbGUsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0byB6ZXJvIHRoZSB1c2VyIHRvcnF1ZXMgYXBwbGllZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgICovXG4gICAgcmVzZXRUb3JxdWVzKHdha2VVcCkge1xuICAgICAgICB0aGlzLnJhd1NldC5yYlJlc2V0VG9ycXVlcyh0aGlzLmhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZvcmNlIGF0IHRoZSBjZW50ZXItb2YtbWFzcyBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm9yY2UgLSB0aGUgd29ybGQtc3BhY2UgZm9yY2UgdG8gYWRkIHRvIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAgKi9cbiAgICBhZGRGb3JjZShmb3JjZSwgd2FrZVVwKSB7XG4gICAgICAgIGNvbnN0IHJhd0ZvcmNlID0gVmVjdG9yT3BzLmludG9SYXcoZm9yY2UpO1xuICAgICAgICB0aGlzLnJhd1NldC5yYkFkZEZvcmNlKHRoaXMuaGFuZGxlLCByYXdGb3JjZSwgd2FrZVVwKTtcbiAgICAgICAgcmF3Rm9yY2UuZnJlZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGFuIGltcHVsc2UgYXQgdGhlIGNlbnRlci1vZi1tYXNzIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbXB1bHNlIC0gdGhlIHdvcmxkLXNwYWNlIGltcHVsc2UgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIHNob3VsZCB0aGUgcmlnaWQtYm9keSBiZSBhdXRvbWF0aWNhbGx5IHdva2VuLXVwP1xuICAgICAqL1xuICAgIGFwcGx5SW1wdWxzZShpbXB1bHNlLCB3YWtlVXApIHtcbiAgICAgICAgY29uc3QgcmF3SW1wdWxzZSA9IFZlY3Rvck9wcy5pbnRvUmF3KGltcHVsc2UpO1xuICAgICAgICB0aGlzLnJhd1NldC5yYkFwcGx5SW1wdWxzZSh0aGlzLmhhbmRsZSwgcmF3SW1wdWxzZSwgd2FrZVVwKTtcbiAgICAgICAgcmF3SW1wdWxzZS5mcmVlKCk7XG4gICAgfVxuICAgIC8vICNpZiBESU0yXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHRvcnF1ZSBhdCB0aGUgY2VudGVyLW9mLW1hc3Mgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvcnF1ZSAtIHRoZSB0b3JxdWUgdG8gYWRkIHRvIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAgKi9cbiAgICBhZGRUb3JxdWUodG9ycXVlLCB3YWtlVXApIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJBZGRUb3JxdWUodGhpcy5oYW5kbGUsIHRvcnF1ZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgLy8gI2lmIERJTTJcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGFuIGltcHVsc2l2ZSB0b3JxdWUgYXQgdGhlIGNlbnRlci1vZi1tYXNzIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0b3JxdWVJbXB1bHNlIC0gdGhlIHRvcnF1ZSBpbXB1bHNlIHRvIGFwcGx5IG9uIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAgKi9cbiAgICBhcHBseVRvcnF1ZUltcHVsc2UodG9ycXVlSW1wdWxzZSwgd2FrZVVwKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiQXBwbHlUb3JxdWVJbXB1bHNlKHRoaXMuaGFuZGxlLCB0b3JxdWVJbXB1bHNlLCB3YWtlVXApO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZm9yY2UgYXQgdGhlIGdpdmVuIHdvcmxkLXNwYWNlIHBvaW50IG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb3JjZSAtIHRoZSB3b3JsZC1zcGFjZSBmb3JjZSB0byBhZGQgdG8gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHBvaW50IC0gdGhlIHdvcmxkLXNwYWNlIHBvaW50IHdoZXJlIHRoZSBpbXB1bHNlIGlzIHRvIGJlIGFwcGxpZWQgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIHNob3VsZCB0aGUgcmlnaWQtYm9keSBiZSBhdXRvbWF0aWNhbGx5IHdva2VuLXVwP1xuICAgICAqL1xuICAgIGFkZEZvcmNlQXRQb2ludChmb3JjZSwgcG9pbnQsIHdha2VVcCkge1xuICAgICAgICBjb25zdCByYXdGb3JjZSA9IFZlY3Rvck9wcy5pbnRvUmF3KGZvcmNlKTtcbiAgICAgICAgY29uc3QgcmF3UG9pbnQgPSBWZWN0b3JPcHMuaW50b1Jhdyhwb2ludCk7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiQWRkRm9yY2VBdFBvaW50KHRoaXMuaGFuZGxlLCByYXdGb3JjZSwgcmF3UG9pbnQsIHdha2VVcCk7XG4gICAgICAgIHJhd0ZvcmNlLmZyZWUoKTtcbiAgICAgICAgcmF3UG9pbnQuZnJlZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGFuIGltcHVsc2UgYXQgdGhlIGdpdmVuIHdvcmxkLXNwYWNlIHBvaW50IG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbXB1bHNlIC0gdGhlIHdvcmxkLXNwYWNlIGltcHVsc2UgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHBvaW50IC0gdGhlIHdvcmxkLXNwYWNlIHBvaW50IHdoZXJlIHRoZSBpbXB1bHNlIGlzIHRvIGJlIGFwcGxpZWQgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIHNob3VsZCB0aGUgcmlnaWQtYm9keSBiZSBhdXRvbWF0aWNhbGx5IHdva2VuLXVwP1xuICAgICAqL1xuICAgIGFwcGx5SW1wdWxzZUF0UG9pbnQoaW1wdWxzZSwgcG9pbnQsIHdha2VVcCkge1xuICAgICAgICBjb25zdCByYXdJbXB1bHNlID0gVmVjdG9yT3BzLmludG9SYXcoaW1wdWxzZSk7XG4gICAgICAgIGNvbnN0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICB0aGlzLnJhd1NldC5yYkFwcGx5SW1wdWxzZUF0UG9pbnQodGhpcy5oYW5kbGUsIHJhd0ltcHVsc2UsIHJhd1BvaW50LCB3YWtlVXApO1xuICAgICAgICByYXdJbXB1bHNlLmZyZWUoKTtcbiAgICAgICAgcmF3UG9pbnQuZnJlZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSaWdpZEJvZHlEZXNjIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSBWZWN0b3JPcHMuemVyb3MoKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IFJvdGF0aW9uT3BzLmlkZW50aXR5KCk7XG4gICAgICAgIHRoaXMuZ3Jhdml0eVNjYWxlID0gMS4wO1xuICAgICAgICB0aGlzLmxpbnZlbCA9IFZlY3Rvck9wcy56ZXJvcygpO1xuICAgICAgICB0aGlzLm1hc3MgPSAwLjA7XG4gICAgICAgIHRoaXMuY2VudGVyT2ZNYXNzID0gVmVjdG9yT3BzLnplcm9zKCk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb25zRW5hYmxlZFggPSB0cnVlO1xuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uc0VuYWJsZWRZID0gdHJ1ZTtcbiAgICAgICAgLy8gI2lmIERJTTJcbiAgICAgICAgdGhpcy5hbmd2ZWwgPSAwLjA7XG4gICAgICAgIHRoaXMucHJpbmNpcGFsQW5ndWxhckluZXJ0aWEgPSAwLjA7XG4gICAgICAgIHRoaXMucm90YXRpb25zRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIC8vICNlbmRpZlxuICAgICAgICB0aGlzLmxpbmVhckRhbXBpbmcgPSAwLjA7XG4gICAgICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSAwLjA7XG4gICAgICAgIHRoaXMuY2FuU2xlZXAgPSB0cnVlO1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2NkRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbWluYW5jZUdyb3VwID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByaWdpZC1ib2R5IGRlc2NyaXB0b3IgdXNlZCB0byBidWlsZCBhIGR5bmFtaWMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZHluYW1pYygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuRHluYW1pYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSBwb3NpdGlvbi1iYXNlZCBraW5lbWF0aWMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMga2luZW1hdGljUG9zaXRpb25CYXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuS2luZW1hdGljUG9zaXRpb25CYXNlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSB2ZWxvY2l0eS1iYXNlZCBraW5lbWF0aWMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMga2luZW1hdGljVmVsb2NpdHlCYXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuS2luZW1hdGljVmVsb2NpdHlCYXNlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSBmaXhlZCByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIHN0YXRpYyBmaXhlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuRml4ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJpZ2lkLWJvZHkgZGVzY3JpcHRvciB1c2VkIHRvIGJ1aWxkIGEgZHluYW1pYyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIG1ldGhvZCBoYXMgYmVlbiByZW5hbWVkIHRvIGAuZHluYW1pYygpYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RHluYW1pYygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuRHluYW1pYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSBwb3NpdGlvbi1iYXNlZCBraW5lbWF0aWMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBtZXRob2QgaGFzIGJlZW4gcmVuYW1lZCB0byBgLmtpbmVtYXRpY1Bvc2l0aW9uQmFzZWQoKWAuXG4gICAgICovXG4gICAgc3RhdGljIG5ld0tpbmVtYXRpY1Bvc2l0aW9uQmFzZWQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmlnaWRCb2R5RGVzYyhSaWdpZEJvZHlUeXBlLktpbmVtYXRpY1Bvc2l0aW9uQmFzZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJpZ2lkLWJvZHkgZGVzY3JpcHRvciB1c2VkIHRvIGJ1aWxkIGEgdmVsb2NpdHktYmFzZWQga2luZW1hdGljIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gYC5raW5lbWF0aWNWZWxvY2l0eUJhc2VkKClgLlxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdLaW5lbWF0aWNWZWxvY2l0eUJhc2VkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJpZ2lkQm9keURlc2MoUmlnaWRCb2R5VHlwZS5LaW5lbWF0aWNWZWxvY2l0eUJhc2VkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByaWdpZC1ib2R5IGRlc2NyaXB0b3IgdXNlZCB0byBidWlsZCBhIGZpeGVkIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gYC5maXhlZCgpYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3U3RhdGljKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJpZ2lkQm9keURlc2MoUmlnaWRCb2R5VHlwZS5GaXhlZCk7XG4gICAgfVxuICAgIHNldERvbWluYW5jZUdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHRoaXMuZG9taW5hbmNlR3JvdXAgPSBncm91cDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vICNpZiBESU0yXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5pdGlhbCB0cmFuc2xhdGlvbiBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICovXG4gICAgc2V0VHJhbnNsYXRpb24oeCwgeSkge1xuICAgICAgICBpZiAodHlwZW9mIHggIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeSAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVGhlIHRyYW5zbGF0aW9uIGNvbXBvbmVudHMgbXVzdCBiZSBudW1iZXJzLlwiKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IHsgeDogeCwgeTogeSB9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5pdGlhbCByb3RhdGlvbiBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm90IC0gVGhlIHJvdGF0aW9uIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbihyb3QpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNjYWxlIGZhY3RvciBhcHBsaWVkIHRvIHRoZSBncmF2aXR5IGFmZmVjdGluZ1xuICAgICAqIHRoZSByaWdpZC1ib2R5IGJlaW5nIGJ1aWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHNjYWxlIC0gVGhlIHNjYWxlIGZhY3Rvci4gU2V0IHRoaXMgdG8gYDAuMGAgaWYgdGhlIHJpZ2lkLWJvZHlcbiAgICAgKiAgIG5lZWRzIHRvIGlnbm9yZSBncmF2aXR5LlxuICAgICAqL1xuICAgIHNldEdyYXZpdHlTY2FsZShzY2FsZSkge1xuICAgICAgICB0aGlzLmdyYXZpdHlTY2FsZSA9IHNjYWxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5pdGlhbCBtYXNzIG9mIHRoZSByaWdpZC1ib2R5IGJlaW5nIGJ1aWx0LCBiZWZvcmUgYWRkaW5nIGNvbGxpZGVycycgY29udHJpYnV0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtYXNzIOKIkiBUaGUgaW5pdGlhbCBtYXNzIG9mIHRoZSByaWdpZC1ib2R5IHRvIGNyZWF0ZS5cbiAgICAgKi9cbiAgICBzZXRBZGRpdGlvbmFsTWFzcyhtYXNzKSB7XG4gICAgICAgIHRoaXMubWFzcyA9IG1hc3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyAjaWYgRElNMlxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGluaXRpYWwgbGluZWFyIHZlbG9jaXR5IG9mIHRoZSByaWdpZC1ib2R5IHRvIGNyZWF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IC0gVGhlIGxpbmVhciB2ZWxvY2l0eSB0byBzZXQgYWxvbmcgdGhlIGB4YCBheGlzLlxuICAgICAqIEBwYXJhbSB5IC0gVGhlIGxpbmVhciB2ZWxvY2l0eSB0byBzZXQgYWxvbmcgdGhlIGB5YCBheGlzLlxuICAgICAqL1xuICAgIHNldExpbnZlbCh4LCB5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiB5ICE9IFwibnVtYmVyXCIpXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJUaGUgbGludmVsIGNvbXBvbmVudHMgbXVzdCBiZSBudW1iZXJzLlwiKTtcbiAgICAgICAgdGhpcy5saW52ZWwgPSB7IHg6IHgsIHk6IHkgfTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGluaXRpYWwgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVsIC0gVGhlIGFuZ3VsYXIgdmVsb2NpdHkgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldEFuZ3ZlbCh2ZWwpIHtcbiAgICAgICAgdGhpcy5hbmd2ZWwgPSB2ZWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXNzIHByb3BlcnRpZXMgb2YgdGhlIHJpZ2lkLWJvZHkgYmVpbmcgYnVpbHQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIGZpbmFsIG1hc3MgcHJvcGVydGllcyBvZiB0aGUgcmlnaWQtYm9kaWVzIGRlcGVuZHNcbiAgICAgKiBvbiB0aGUgaW5pdGlhbCBtYXNzLXByb3BlcnRpZXMgb2YgdGhlIHJpZ2lkLWJvZHkgKHNldCBieSB0aGlzIG1ldGhvZClcbiAgICAgKiB0byB3aGljaCBpcyBhZGRlZCB0aGUgY29udHJpYnV0aW9ucyBvZiBhbGwgdGhlIGNvbGxpZGVycyB3aXRoIG5vbi16ZXJvIGRlbnNpdHlcbiAgICAgKiBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBUaGVyZWZvcmUsIGlmIHlvdSB3YW50IHlvdXIgcHJvdmlkZWQgbWFzcyBwcm9wZXJ0aWVzIHRvIGJlIHRoZSBmaW5hbFxuICAgICAqIG1hc3MgcHJvcGVydGllcyBvZiB5b3VyIHJpZ2lkLWJvZHksIGRvbid0IGF0dGFjaCBjb2xsaWRlcnMgdG8gaXQsIG9yXG4gICAgICogb25seSBhdHRhY2ggY29sbGlkZXJzIHdpdGggZGVuc2l0aWVzIGVxdWFsIHRvIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWFzcyDiiJIgVGhlIGluaXRpYWwgbWFzcyBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICogQHBhcmFtIGNlbnRlck9mTWFzcyDiiJIgVGhlIGluaXRpYWwgY2VudGVyLW9mLW1hc3Mgb2YgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlLlxuICAgICAqIEBwYXJhbSBwcmluY2lwYWxBbmd1bGFySW5lcnRpYSDiiJIgVGhlIGluaXRpYWwgcHJpbmNpcGFsIGFuZ3VsYXIgaW5lcnRpYSBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICovXG4gICAgc2V0QWRkaXRpb25hbE1hc3NQcm9wZXJ0aWVzKG1hc3MsIGNlbnRlck9mTWFzcywgcHJpbmNpcGFsQW5ndWxhckluZXJ0aWEpIHtcbiAgICAgICAgdGhpcy5tYXNzID0gbWFzcztcbiAgICAgICAgdGhpcy5jZW50ZXJPZk1hc3MgPSBjZW50ZXJPZk1hc3M7XG4gICAgICAgIHRoaXMucHJpbmNpcGFsQW5ndWxhckluZXJ0aWEgPSBwcmluY2lwYWxBbmd1bGFySW5lcnRpYTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hc3MgcHJvcGVydGllcyBvZiB0aGUgcmlnaWQtYm9keSBiZWluZyBidWlsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmluY2lwYWxBbmd1bGFySW5lcnRpYSDiiJIgVGhlIGluaXRpYWwgcHJpbmNpcGFsIGFuZ3VsYXIgaW5lcnRpYSBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICovXG4gICAgc2V0QWRkaXRpb25hbFByaW5jaXBhbEFuZ3VsYXJJbmVydGlhKHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhKSB7XG4gICAgICAgIHRoaXMucHJpbmNpcGFsQW5ndWxhckluZXJ0aWEgPSBwcmluY2lwYWxBbmd1bGFySW5lcnRpYTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93IHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keSBvbmx5IGFsb25nIHNwZWNpZmljIGF4ZXMuXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uc0VuYWJsZWRYIC0gQXJlIHRyYW5zbGF0aW9ucyBhbG9uZyB0aGUgWCBheGlzIGVuYWJsZWQ/XG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uc0VuYWJsZWRZIC0gQXJlIHRyYW5zbGF0aW9ucyBhbG9uZyB0aGUgeSBheGlzIGVuYWJsZWQ/XG4gICAgICovXG4gICAgcmVzdHJpY3RUcmFuc2xhdGlvbnModHJhbnNsYXRpb25zRW5hYmxlZFgsIHRyYW5zbGF0aW9uc0VuYWJsZWRZKSB7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb25zRW5hYmxlZFggPSB0cmFuc2xhdGlvbnNFbmFibGVkWDtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnNFbmFibGVkWSA9IHRyYW5zbGF0aW9uc0VuYWJsZWRZO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ja3MgYWxsIHRyYW5zbGF0aW9ucyB0aGF0IHdvdWxkIGhhdmUgcmVzdWx0ZWQgZnJvbSBmb3JjZXMgb25cbiAgICAgKiB0aGUgY3JlYXRlZCByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGxvY2tUcmFuc2xhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3RyaWN0VHJhbnNsYXRpb25zKGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2tzIGFsbCByb3RhdGlvbnMgdGhhdCB3b3VsZCBoYXZlIHJlc3VsdGVkIGZyb20gZm9yY2VzIG9uXG4gICAgICogdGhlIGNyZWF0ZWQgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBsb2NrUm90YXRpb25zKCkge1xuICAgICAgICB0aGlzLnJvdGF0aW9uc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpbmVhciBkYW1waW5nIG9mIHRoZSByaWdpZC1ib2R5IHRvIGNyZWF0ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCBwcm9ncmVzc2l2ZWx5IHNsb3dkb3duIHRoZSB0cmFuc2xhdGlvbmFsIG1vdmVtZW50IG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhbXBpbmcgLSBUaGUgYW5ndWxhciBkYW1waW5nIGNvZWZmaWNpZW50LiBTaG91bGQgYmUgPj0gMC4gVGhlIGhpZ2hlciB0aGlzXG4gICAgICogICAgICAgICAgICAgICAgICB2YWx1ZSBpcywgdGhlIHN0cm9uZ2VyIHRoZSB0cmFuc2xhdGlvbmFsIHNsb3dkb3duIHdpbGwgYmUuXG4gICAgICovXG4gICAgc2V0TGluZWFyRGFtcGluZyhkYW1waW5nKSB7XG4gICAgICAgIHRoaXMubGluZWFyRGFtcGluZyA9IGRhbXBpbmc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbmd1bGFyIGRhbXBpbmcgb2YgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlLlxuICAgICAqXG4gICAgICogVGhpcyB3aWxsIHByb2dyZXNzaXZlbHkgc2xvd2Rvd24gdGhlIHJvdGF0aW9uYWwgbW92ZW1lbnQgb2YgdGhlIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGFtcGluZyAtIFRoZSBhbmd1bGFyIGRhbXBpbmcgY29lZmZpY2llbnQuIFNob3VsZCBiZSA+PSAwLiBUaGUgaGlnaGVyIHRoaXNcbiAgICAgKiAgICAgICAgICAgICAgICAgIHZhbHVlIGlzLCB0aGUgc3Ryb25nZXIgdGhlIHJvdGF0aW9uYWwgc2xvd2Rvd24gd2lsbCBiZS5cbiAgICAgKi9cbiAgICBzZXRBbmd1bGFyRGFtcGluZyhkYW1waW5nKSB7XG4gICAgICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSBkYW1waW5nO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIG9yIG5vdCB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUgY2FuIHNsZWVwLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbiAtIHRydWUgaWYgdGhlIHJpZ2lkLWJvZHkgY2FuIHNsZWVwLCBmYWxzZSBpZiBpdCBjYW4ndC5cbiAgICAgKi9cbiAgICBzZXRDYW5TbGVlcChjYW4pIHtcbiAgICAgICAgdGhpcy5jYW5TbGVlcCA9IGNhbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciBvciBub3QgdGhlIHJpZ2lkLWJvZHkgaXMgdG8gYmUgY3JlYXRlZCBhc2xlZXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FuIC0gdHJ1ZSBpZiB0aGUgcmlnaWQtYm9keSBzaG91bGQgYmUgaW4gc2xlZXAsIGRlZmF1bHQgZmFsc2UuXG4gICAgICovXG4gICAgc2V0U2xlZXBpbmcoc2xlZXBpbmcpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IHNsZWVwaW5nO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIENvbnRpbnVvdXMgQ29sbGlzaW9uIERldGVjdGlvbiAoQ0NEKSBpcyBlbmFibGVkIGZvciB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5hYmxlZCAtIHRydWUgaWYgdGhlIHJpZ2lkLWJvZHkgaGFzIENDRCBlbmFibGVkLlxuICAgICAqL1xuICAgIHNldENjZEVuYWJsZWQoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmNjZEVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdXNlci1kZWZpbmVkIG9iamVjdCBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXNlckRhdGEgLSBUaGUgdXNlci1kZWZpbmVkIG9iamVjdCB0byBzZXQuXG4gICAgICovXG4gICAgc2V0VXNlckRhdGEoZGF0YSkge1xuICAgICAgICB0aGlzLnVzZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmlnaWRfYm9keS5qcy5tYXAiLCJpbXBvcnQgeyBSYXdSaWdpZEJvZHlTZXQgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBDb2FyZW5hIH0gZnJvbSBcIi4uL2NvYXJlbmFcIjtcbmltcG9ydCB7IFZlY3Rvck9wcywgUm90YXRpb25PcHMgfSBmcm9tICcuLi9tYXRoJztcbmltcG9ydCB7IFJpZ2lkQm9keSB9IGZyb20gJy4vcmlnaWRfYm9keSc7XG4vKipcbiAqIEEgc2V0IG9mIHJpZ2lkIGJvZGllcyB0aGF0IGNhbiBiZSBoYW5kbGVkIGJ5IGEgcGh5c2ljcyBwaXBlbGluZS5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgcmlnaWRCb2R5U2V0LmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0IChhbmQgYWxsIHRoZSByaWdpZC1ib2RpZXMgaXQgY3JlYXRlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBSaWdpZEJvZHlTZXQge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3UmlnaWRCb2R5U2V0KCk7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IENvYXJlbmEoKTtcbiAgICAgICAgLy8gZGVzZXJpYWxpemVcbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmF3LmZvckVhY2hSaWdpZEJvZHlIYW5kbGUoKGhhbmRsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldChoYW5kbGUsIG5ldyBSaWdpZEJvZHkocmF3LCBudWxsLCBoYW5kbGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgcmlnaWQtYm9keSBzZXQuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tYXAgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIG1ldGhvZCwgZG8gbm90IGNhbGwgdGhpcyBleHBsaWNpdGx5LlxuICAgICAqL1xuICAgIGZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGNvbGxpZGVyU2V0KSB7XG4gICAgICAgIHRoaXMubWFwLmZvckVhY2gocmIgPT4gcmIuZmluYWxpemVEZXNlcmlhbGl6YXRpb24oY29sbGlkZXJTZXQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZC1ib2R5IGFuZCByZXR1cm4gaXRzIGludGVnZXIgaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlc2MgLSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlLlxuICAgICAqL1xuICAgIGNyZWF0ZVJpZ2lkQm9keShjb2xsaWRlclNldCwgZGVzYykge1xuICAgICAgICBsZXQgcmF3VHJhID0gVmVjdG9yT3BzLmludG9SYXcoZGVzYy50cmFuc2xhdGlvbik7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KGRlc2Mucm90YXRpb24pO1xuICAgICAgICBsZXQgcmF3THYgPSBWZWN0b3JPcHMuaW50b1JhdyhkZXNjLmxpbnZlbCk7XG4gICAgICAgIGxldCByYXdDb20gPSBWZWN0b3JPcHMuaW50b1JhdyhkZXNjLmNlbnRlck9mTWFzcyk7XG4gICAgICAgIGxldCBoYW5kbGUgPSB0aGlzLnJhdy5jcmVhdGVSaWdpZEJvZHkocmF3VHJhLCByYXdSb3QsIGRlc2MuZ3Jhdml0eVNjYWxlLCBkZXNjLm1hc3MsIHJhd0NvbSwgcmF3THYsIFxuICAgICAgICAvLyAjaWYgRElNMlxuICAgICAgICBkZXNjLmFuZ3ZlbCwgZGVzYy5wcmluY2lwYWxBbmd1bGFySW5lcnRpYSwgZGVzYy50cmFuc2xhdGlvbnNFbmFibGVkWCwgZGVzYy50cmFuc2xhdGlvbnNFbmFibGVkWSwgZGVzYy5yb3RhdGlvbnNFbmFibGVkLCBcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIGRlc2MubGluZWFyRGFtcGluZywgZGVzYy5hbmd1bGFyRGFtcGluZywgZGVzYy5zdGF0dXMsIGRlc2MuY2FuU2xlZXAsIGRlc2Muc2xlZXBpbmcsIGRlc2MuY2NkRW5hYmxlZCwgZGVzYy5kb21pbmFuY2VHcm91cCk7XG4gICAgICAgIHJhd1RyYS5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd0x2LmZyZWUoKTtcbiAgICAgICAgcmF3Q29tLmZyZWUoKTtcbiAgICAgICAgY29uc3QgYm9keSA9IG5ldyBSaWdpZEJvZHkodGhpcy5yYXcsIGNvbGxpZGVyU2V0LCBoYW5kbGUpO1xuICAgICAgICBib2R5LnVzZXJEYXRhID0gZGVzYy51c2VyRGF0YTtcbiAgICAgICAgdGhpcy5tYXAuc2V0KGhhbmRsZSwgYm9keSk7XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgcmlnaWQtYm9keSBmcm9tIHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogVGhpcyB3aWxsIGFsc28gcmVtb3ZlIGFsbCB0aGUgY29sbGlkZXJzIGFuZCBqb2ludHMgYXR0YWNoZWQgdG8gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSByaWdpZC1ib2R5IHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0gY29sbGlkZXJzIC0gVGhlIHNldCBvZiBjb2xsaWRlcnMgdGhhdCBtYXkgY29udGFpbiBjb2xsaWRlcnMgYXR0YWNoZWQgdG8gdGhlIHJlbW92ZWQgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gaW1wdWxzZUpvaW50cyAtIFRoZSBzZXQgb2YgaW1wdWxzZSBqb2ludHMgdGhhdCBtYXkgY29udGFpbiBqb2ludHMgYXR0YWNoZWQgdG8gdGhlIHJlbW92ZWQgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gbXVsdGlib2R5Sm9pbnRzIC0gVGhlIHNldCBvZiBtdWx0aWJvZHkgam9pbnRzIHRoYXQgbWF5IGNvbnRhaW4gam9pbnRzIGF0dGFjaGVkIHRvIHRoZSByZW1vdmVkIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgcmVtb3ZlKGhhbmRsZSwgaXNsYW5kcywgY29sbGlkZXJzLCBpbXB1bHNlSm9pbnRzLCBtdWx0aWJvZHlKb2ludHMpIHtcbiAgICAgICAgLy8gVW5tYXAgdGhlIGVudGl0aWVzIHRoYXQgd2lsbCBiZSByZW1vdmVkIGF1dG9tYXRpY2FsbHkgYmVjYXVzZSBvZiB0aGUgcmlnaWQtYm9keSByZW1vdmFscy5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJhdy5yYk51bUNvbGxpZGVycyhoYW5kbGUpOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbGxpZGVycy51bm1hcCh0aGlzLnJhdy5yYkNvbGxpZGVyKGhhbmRsZSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIGltcHVsc2VKb2ludHMuZm9yRWFjaEpvaW50SGFuZGxlQXR0YWNoZWRUb1JpZ2lkQm9keShoYW5kbGUsIChoYW5kbGUpID0+IGltcHVsc2VKb2ludHMudW5tYXAoaGFuZGxlKSk7XG4gICAgICAgIG11bHRpYm9keUpvaW50cy5mb3JFYWNoSm9pbnRIYW5kbGVBdHRhY2hlZFRvUmlnaWRCb2R5KGhhbmRsZSwgKGhhbmRsZSkgPT4gbXVsdGlib2R5Sm9pbnRzLnVubWFwKGhhbmRsZSkpO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIHJpZ2lkLWJvZHkuXG4gICAgICAgIHRoaXMucmF3LnJlbW92ZShoYW5kbGUsIGlzbGFuZHMucmF3LCBjb2xsaWRlcnMucmF3LCBpbXB1bHNlSm9pbnRzLnJhdywgbXVsdGlib2R5Sm9pbnRzLnJhdyk7XG4gICAgICAgIHRoaXMubWFwLmRlbGV0ZShoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJpZ2lkLWJvZGllcyBvbiB0aGlzIHNldC5cbiAgICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5sZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG9lcyB0aGlzIHNldCBjb250YWluIGEgcmlnaWQtYm9keSB3aXRoIHRoZSBnaXZlbiBoYW5kbGU/XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIHJpZ2lkLWJvZHkgaGFuZGxlIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIGNvbnRhaW5zKGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoaGFuZGxlKSAhPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByaWdpZC1ib2R5IHdpdGggdGhlIGdpdmVuIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYW5kbGUgLSBUaGUgaGFuZGxlIG9mIHRoZSByaWdpZC1ib2R5IHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIGdldChoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmdldChoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBjbG9zdXJlIHRvIGVhY2ggcmlnaWQtYm9keSBjb250YWluZWQgYnkgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIGZvckVhY2goZikge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBjbG9zdXJlIHRvIGVhY2ggYWN0aXZlIHJpZ2lkLWJvZGllcyBjb250YWluZWQgYnkgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBBIHJpZ2lkLWJvZHkgaXMgYWN0aXZlIGlmIGl0IGlzIG5vdCBzbGVlcGluZywgaS5lLiwgaWYgaXQgbW92ZWQgcmVjZW50bHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIGZvckVhY2hBY3RpdmVSaWdpZEJvZHkoaXNsYW5kcywgZikge1xuICAgICAgICBpc2xhbmRzLmZvckVhY2hBY3RpdmVSaWdpZEJvZHlIYW5kbGUoKGhhbmRsZSkgPT4ge1xuICAgICAgICAgICAgZih0aGlzLmdldChoYW5kbGUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIHJpZ2lkLWJvZGllcyBpbiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHJpZ2lkLWJvZGllcyBsaXN0LlxuICAgICAqL1xuICAgIGdldEFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEFsbCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJpZ2lkX2JvZHlfc2V0LmpzLm1hcCIsImltcG9ydCB7IHZlcnNpb24gYXMgdmVycyB9IGZyb20gXCIuL3Jhd1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHZlcnNpb24oKSB7XG4gICAgcmV0dXJuIHZlcnMoKTtcbn1cbmV4cG9ydCAqIGZyb20gJy4vbWF0aCc7XG5leHBvcnQgKiBmcm9tICcuL2R5bmFtaWNzJztcbmV4cG9ydCAqIGZyb20gJy4vZ2VvbWV0cnknO1xuZXhwb3J0ICogZnJvbSAnLi9waXBlbGluZSc7XG5leHBvcnQgKiBmcm9tICcuL2luaXQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhwb3J0cy5qcy5tYXAiLCJpbXBvcnQgeyBSYXdCcm9hZFBoYXNlIH0gZnJvbSBcIi4uL3Jhd1wiO1xuLyoqXG4gKiBUaGUgYnJvYWQtcGhhc2UgdXNlZCBmb3IgY29hcnNlIGNvbGxpc2lvbi1kZXRlY3Rpb24uXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGJyb2FkUGhhc2UuZnJlZSgpYFxuICogb25jZSB5b3UgYXJlIGRvbmUgdXNpbmcgaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBCcm9hZFBoYXNlIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd0Jyb2FkUGhhc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV0FTTSBtZW1vcnkgb2NjdXBpZWQgYnkgdGhpcyBicm9hZC1waGFzZS5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb2FkX3BoYXNlLmpzLm1hcCIsImltcG9ydCB7IFJvdGF0aW9uT3BzLCBWZWN0b3JPcHMgfSBmcm9tICcuLi9tYXRoJztcbmltcG9ydCB7IENvZWZmaWNpZW50Q29tYmluZVJ1bGUgfSBmcm9tICcuLi9keW5hbWljcyc7XG5pbXBvcnQgeyBTaGFwZSwgQ3Vib2lkLCBCYWxsLCBDYXBzdWxlLCBUcmlNZXNoLCBQb2x5bGluZSwgSGVpZ2h0ZmllbGQsIFNlZ21lbnQsIFRyaWFuZ2xlLCBSb3VuZFRyaWFuZ2xlLCBSb3VuZEN1Ym9pZCwgXG4vLyAjaWYgRElNMlxuQ29udmV4UG9seWdvbiwgUm91bmRDb252ZXhQb2x5Z29uLFxuLy8gI2VuZGlmXG4gfSBmcm9tICcuL3NoYXBlJztcbmltcG9ydCB7IFJheUludGVyc2VjdGlvbiB9IGZyb20gXCIuL3JheVwiO1xuaW1wb3J0IHsgUG9pbnRQcm9qZWN0aW9uIH0gZnJvbSBcIi4vcG9pbnRcIjtcbmltcG9ydCB7IFNoYXBlQ29sbGlkZXJUT0ksIFNoYXBlVE9JIH0gZnJvbSBcIi4vdG9pXCI7XG5pbXBvcnQgeyBTaGFwZUNvbnRhY3QgfSBmcm9tIFwiLi9jb250YWN0XCI7XG4vLy8gRmxhZ3MgYWZmZWN0aW5nIHdoZXRoZXIgb3Igbm90IGNvbGxpc2lvbi1kZXRlY3Rpb24gaGFwcGVucyBiZXR3ZWVuIHR3byBjb2xsaWRlcnNcbi8vLyBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgcmlnaWQtYm9kaWVzIHRoZXkgYXJlIGF0dGFjaGVkIHRvLlxuZXhwb3J0IHZhciBBY3RpdmVDb2xsaXNpb25UeXBlcztcbihmdW5jdGlvbiAoQWN0aXZlQ29sbGlzaW9uVHlwZXMpIHtcbiAgICAvLy8gRW5hYmxlIGNvbGxpc2lvbi1kZXRlY3Rpb24gYmV0d2VlbiBhIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEgZHluYW1pYyBib2R5XG4gICAgLy8vIGFuZCBhbm90aGVyIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEgZHluYW1pYyBib2R5LlxuICAgIEFjdGl2ZUNvbGxpc2lvblR5cGVzW0FjdGl2ZUNvbGxpc2lvblR5cGVzW1wiRFlOQU1JQ19EWU5BTUlDXCJdID0gMV0gPSBcIkRZTkFNSUNfRFlOQU1JQ1wiO1xuICAgIC8vLyBFbmFibGUgY29sbGlzaW9uLWRldGVjdGlvbiBiZXR3ZWVuIGEgY29sbGlkZXIgYXR0YWNoZWQgdG8gYSBkeW5hbWljIGJvZHlcbiAgICAvLy8gYW5kIGFub3RoZXIgY29sbGlkZXIgYXR0YWNoZWQgdG8gYSBraW5lbWF0aWMgYm9keS5cbiAgICBBY3RpdmVDb2xsaXNpb25UeXBlc1tBY3RpdmVDb2xsaXNpb25UeXBlc1tcIkRZTkFNSUNfS0lORU1BVElDXCJdID0gMTJdID0gXCJEWU5BTUlDX0tJTkVNQVRJQ1wiO1xuICAgIC8vLyBFbmFibGUgY29sbGlzaW9uLWRldGVjdGlvbiBiZXR3ZWVuIGEgY29sbGlkZXIgYXR0YWNoZWQgdG8gYSBkeW5hbWljIGJvZHlcbiAgICAvLy8gYW5kIGFub3RoZXIgY29sbGlkZXIgYXR0YWNoZWQgdG8gYSBmaXhlZCBib2R5IChvciBub3QgYXR0YWNoZWQgdG8gYW55IGJvZHkpLlxuICAgIEFjdGl2ZUNvbGxpc2lvblR5cGVzW0FjdGl2ZUNvbGxpc2lvblR5cGVzW1wiRFlOQU1JQ19GSVhFRFwiXSA9IDJdID0gXCJEWU5BTUlDX0ZJWEVEXCI7XG4gICAgLy8vIEVuYWJsZSBjb2xsaXNpb24tZGV0ZWN0aW9uIGJldHdlZW4gYSBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGtpbmVtYXRpYyBib2R5XG4gICAgLy8vIGFuZCBhbm90aGVyIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEga2luZW1hdGljIGJvZHkuXG4gICAgQWN0aXZlQ29sbGlzaW9uVHlwZXNbQWN0aXZlQ29sbGlzaW9uVHlwZXNbXCJLSU5FTUFUSUNfS0lORU1BVElDXCJdID0gNTIyMjRdID0gXCJLSU5FTUFUSUNfS0lORU1BVElDXCI7XG4gICAgLy8vIEVuYWJsZSBjb2xsaXNpb24tZGV0ZWN0aW9uIGJldHdlZW4gYSBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGtpbmVtYXRpYyBib2R5XG4gICAgLy8vIGFuZCBhbm90aGVyIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEgZml4ZWQgYm9keSAob3Igbm90IGF0dGFjaGVkIHRvIGFueSBib2R5KS5cbiAgICBBY3RpdmVDb2xsaXNpb25UeXBlc1tBY3RpdmVDb2xsaXNpb25UeXBlc1tcIktJTkVNQVRJQ19GSVhFRFwiXSA9IDg3MDRdID0gXCJLSU5FTUFUSUNfRklYRURcIjtcbiAgICAvLy8gRW5hYmxlIGNvbGxpc2lvbi1kZXRlY3Rpb24gYmV0d2VlbiBhIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEgZml4ZWQgYm9keSAob3JcbiAgICAvLy8gbm90IGF0dGFjaGVkIHRvIGFueSBib2R5KSBhbmQgYW5vdGhlciBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGZpeGVkIGJvZHkgKG9yXG4gICAgLy8vIG5vdCBhdHRhY2hlZCB0byBhbnkgYm9keSkuXG4gICAgQWN0aXZlQ29sbGlzaW9uVHlwZXNbQWN0aXZlQ29sbGlzaW9uVHlwZXNbXCJGSVhFRF9GSVhFRFwiXSA9IDMyXSA9IFwiRklYRURfRklYRURcIjtcbiAgICAvLy8gVGhlIGRlZmF1bHQgYWN0aXZlIGNvbGxpc2lvbiB0eXBlcywgZW5hYmxpbmcgY29sbGlzaW9ucyBiZXR3ZWVuIGEgZHluYW1pYyBib2R5XG4gICAgLy8vIGFuZCBhbm90aGVyIGJvZHkgb2YgYW55IHR5cGUsIGJ1dCBub3QgZW5hYmxpbmcgY29sbGlzaW9ucyBiZXR3ZWVuIHR3byBub24tZHluYW1pYyBib2RpZXMuXG4gICAgQWN0aXZlQ29sbGlzaW9uVHlwZXNbQWN0aXZlQ29sbGlzaW9uVHlwZXNbXCJERUZBVUxUXCJdID0gMTVdID0gXCJERUZBVUxUXCI7XG4gICAgLy8vIEVuYWJsZSBjb2xsaXNpb25zIGJldHdlZW4gYW55IGtpbmQgb2YgcmlnaWQtYm9kaWVzIChpbmNsdWRpbmcgYmV0d2VlbiB0d28gbm9uLWR5bmFtaWMgYm9kaWVzKS5cbiAgICBBY3RpdmVDb2xsaXNpb25UeXBlc1tBY3RpdmVDb2xsaXNpb25UeXBlc1tcIkFMTFwiXSA9IDYwOTQzXSA9IFwiQUxMXCI7XG59KShBY3RpdmVDb2xsaXNpb25UeXBlcyB8fCAoQWN0aXZlQ29sbGlzaW9uVHlwZXMgPSB7fSkpO1xuLyoqXG4gKiBBIGdlb21ldHJpYyBlbnRpdHkgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYSBib2R5IHNvIGl0IGNhbiBiZSBhZmZlY3RlZFxuICogYnkgY29udGFjdHMgYW5kIHByb3hpbWl0eSBxdWVyaWVzLlxuICovXG5leHBvcnQgY2xhc3MgQ29sbGlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbGxpZGVyU2V0LCBoYW5kbGUsIHBhcmVudCwgc2hhcGUpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldCA9IGNvbGxpZGVyU2V0O1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLl9zaGFwZSA9IHNoYXBlO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZmluYWxpemVEZXNlcmlhbGl6YXRpb24oYm9kaWVzKSB7XG4gICAgICAgIGlmICh0aGlzLmhhbmRsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSBib2RpZXMuZ2V0KHRoaXMuY29sbGlkZXJTZXQucmF3LmNvUGFyZW50KHRoaXMuaGFuZGxlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5zdXJlU2hhcGVJc0NhY2hlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zaGFwZSlcbiAgICAgICAgICAgIHRoaXMuX3NoYXBlID0gU2hhcGUuZnJvbVJhdyh0aGlzLmNvbGxpZGVyU2V0LnJhdywgdGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlU2hhcGVJc0NhY2hlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2hhcGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGlzIGNvbGxpZGVyIGlzIHN0aWxsIHZhbGlkIChpLmUuIHRoYXQgaXQgaGFzXG4gICAgICogbm90IGJlZW4gZGVsZXRlZCBmcm9tIHRoZSBjb2xsaWRlciBzZXQgeWV0KS5cbiAgICAgKi9cbiAgICBpc1ZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29udGFpbnModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgd29ybGQtc3BhY2UgdHJhbnNsYXRpb24gb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIHRyYW5zbGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcuY29UcmFuc2xhdGlvbih0aGlzLmhhbmRsZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgd29ybGQtc3BhY2Ugb3JpZW50YXRpb24gb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIHJvdGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gUm90YXRpb25PcHMuZnJvbVJhdyh0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1JvdGF0aW9uKHRoaXMuaGFuZGxlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoaXMgY29sbGlkZXIgYSBzZW5zb3I/XG4gICAgICovXG4gICAgaXNTZW5zb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0lzU2Vuc29yKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIG9yIG5vdCB0aGlzIGNvbGxpZGVyIGlzIGEgc2Vuc29yLlxuICAgICAqIEBwYXJhbSBpc1NlbnNvciAtIElmIGB0cnVlYCwgdGhlIGNvbGxpZGVyIHdpbGwgYmUgYSBzZW5zb3IuXG4gICAgICovXG4gICAgc2V0U2Vuc29yKGlzU2Vuc29yKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0U2Vuc29yKHRoaXMuaGFuZGxlLCBpc1NlbnNvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldyBzaGFwZSBvZiB0aGUgY29sbGlkZXIuXG4gICAgICogQHBhcmFtIHNoYXBlIC0gVGhlIGNvbGxpZGVy4oCZcyBuZXcgc2hhcGUuXG4gICAgICovXG4gICAgc2V0U2hhcGUoc2hhcGUpIHtcbiAgICAgICAgbGV0IHJhd1NoYXBlID0gc2hhcGUuaW50b1JhdygpO1xuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldFNoYXBlKHRoaXMuaGFuZGxlLCByYXdTaGFwZSk7XG4gICAgICAgIHJhd1NoYXBlLmZyZWUoKTtcbiAgICAgICAgdGhpcy5fc2hhcGUgPSBzaGFwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnQgb2YgdGhlIGNvbGxpZGVyIHRvIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzdGl0dXRpb24gLSBUaGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnQgaW4gYFswLCAxXWAuIEEgdmFsdWUgb2YgMCAodGhlIGRlZmF1bHQpIG1lYW5zIG5vIGJvdW5jaW5nIGJlaGF2aW9yXG4gICAgICogICAgICAgICAgICAgICAgICAgd2hpbGUgMSBtZWFucyBwZXJmZWN0IGJvdW5jaW5nICh0aG91Z2ggZW5lcmd5IG1heSBzdGlsbCBiZSBsb3N0IGR1ZSB0byBudW1lcmljYWwgZXJyb3JzIG9mIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzIHNvbHZlcikuXG4gICAgICovXG4gICAgc2V0UmVzdGl0dXRpb24ocmVzdGl0dXRpb24pIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRSZXN0aXR1dGlvbih0aGlzLmhhbmRsZSwgcmVzdGl0dXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmcmljdGlvbiBjb2VmZmljaWVudCBvZiB0aGUgY29sbGlkZXIgdG8gYmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmcmljdGlvbiAtIFRoZSBmcmljdGlvbiBjb2VmZmljaWVudC4gTXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuIFRoaXMgaXMgZ2VuZXJhbGx5IHNtYWxsZXIgdGhhbiAxLiBUaGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICBoaWdoZXIgdGhlIGNvZWZmaWNpZW50LCB0aGUgc3Ryb25nZXIgZnJpY3Rpb24gZm9yY2VzIHdpbGwgYmUgZm9yIGNvbnRhY3RzIHdpdGggdGhlIGNvbGxpZGVyXG4gICAgICogICAgICAgICAgICAgICAgICAgYmVpbmcgYnVpbHQuXG4gICAgICovXG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRGcmljdGlvbih0aGlzLmhhbmRsZSwgZnJpY3Rpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBydWxlIHVzZWQgdG8gY29tYmluZSB0aGUgZnJpY3Rpb24gY29lZmZpY2llbnRzIG9mIHR3byBjb2xsaWRlcnNcbiAgICAgKiBjb2xsaWRlcnMgaW52b2x2ZWQgaW4gYSBjb250YWN0LlxuICAgICAqL1xuICAgIGZyaWN0aW9uQ29tYmluZVJ1bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0ZyaWN0aW9uQ29tYmluZVJ1bGUodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBydWxlIHVzZWQgdG8gY29tYmluZSB0aGUgZnJpY3Rpb24gY29lZmZpY2llbnRzIG9mIHR3byBjb2xsaWRlcnNcbiAgICAgKiBjb2xsaWRlcnMgaW52b2x2ZWQgaW4gYSBjb250YWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHJ1bGUg4oiSIFRoZSBjb21iaW5lIHJ1bGUgdG8gYXBwbHkuXG4gICAgICovXG4gICAgc2V0RnJpY3Rpb25Db21iaW5lUnVsZShydWxlKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0RnJpY3Rpb25Db21iaW5lUnVsZSh0aGlzLmhhbmRsZSwgcnVsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJ1bGUgdXNlZCB0byBjb21iaW5lIHRoZSByZXN0aXR1dGlvbiBjb2VmZmljaWVudHMgb2YgdHdvIGNvbGxpZGVyc1xuICAgICAqIGNvbGxpZGVycyBpbnZvbHZlZCBpbiBhIGNvbnRhY3QuXG4gICAgICovXG4gICAgcmVzdGl0dXRpb25Db21iaW5lUnVsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvUmVzdGl0dXRpb25Db21iaW5lUnVsZSh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJ1bGUgdXNlZCB0byBjb21iaW5lIHRoZSByZXN0aXR1dGlvbiBjb2VmZmljaWVudHMgb2YgdHdvIGNvbGxpZGVyc1xuICAgICAqIGNvbGxpZGVycyBpbnZvbHZlZCBpbiBhIGNvbnRhY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcnVsZSDiiJIgVGhlIGNvbWJpbmUgcnVsZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBzZXRSZXN0aXR1dGlvbkNvbWJpbmVSdWxlKHJ1bGUpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRSZXN0aXR1dGlvbkNvbWJpbmVSdWxlKHRoaXMuaGFuZGxlLCBydWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY29sbGlzaW9uIGdyb3VwcyB1c2VkIGJ5IHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBUd28gY29sbGlkZXJzIHdpbGwgaW50ZXJhY3QgaWZmLiB0aGVpciBjb2xsaXNpb24gZ3JvdXBzIGFyZSBjb21wYXRpYmxlLlxuICAgICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiBgSW50ZXJhY3Rpb25Hcm91cHNgIGZvciBkZXRhaWxzIG9uIHRlaCB1c2VkIGJpdCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBjb2xsaXNpb24gZ3JvdXBzIHVzZWQgZm9yIHRoZSBjb2xsaWRlciBiZWluZyBidWlsdC5cbiAgICAgKi9cbiAgICBzZXRDb2xsaXNpb25Hcm91cHMoZ3JvdXBzKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0Q29sbGlzaW9uR3JvdXBzKHRoaXMuaGFuZGxlLCBncm91cHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzb2x2ZXIgZ3JvdXBzIHVzZWQgYnkgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEZvcmNlcyBiZXR3ZWVuIHR3byBjb2xsaWRlcnMgaW4gY29udGFjdCB3aWxsIGJlIGNvbXB1dGVkIGlmZiB0aGVpciBzb2x2ZXJcbiAgICAgKiBncm91cHMgYXJlIGNvbXBhdGlibGUuXG4gICAgICogU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mIGBJbnRlcmFjdGlvbkdyb3Vwc2AgZm9yIGRldGFpbHMgb24gdGhlIHVzZWQgYml0IHBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVGhlIHNvbHZlciBncm91cHMgdXNlZCBmb3IgdGhlIGNvbGxpZGVyIGJlaW5nIGJ1aWx0LlxuICAgICAqL1xuICAgIHNldFNvbHZlckdyb3Vwcyhncm91cHMpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRTb2x2ZXJHcm91cHModGhpcy5oYW5kbGUsIGdyb3Vwcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGh5c2ljcyBob29rcyBhY3RpdmUgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgYWN0aXZlSG9va3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0FjdGl2ZUhvb2tzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwaHlzaWNzIGhvb2tzIGFjdGl2ZSBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIHRvIGVuYWJsZSBjdXN0b20gZmlsdGVyaW5nIHJ1bGVzIGZvciBjb250YWN0L2ludGVyc2Vjc3Rpb24gcGFpcnMgaW52b2x2aW5nIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aXZlSG9va3MgLSBUaGUgaG9va3MgYWN0aXZlIGZvciBjb250YWN0L2ludGVyc2VjdGlvbiBwYWlycyBpbnZvbHZpbmcgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBzZXRBY3RpdmVIb29rcyhhY3RpdmVIb29rcykge1xuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldEFjdGl2ZUhvb2tzKHRoaXMuaGFuZGxlLCBhY3RpdmVIb29rcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBldmVudHMgYWN0aXZlIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIGFjdGl2ZUV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvQWN0aXZlRXZlbnRzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBldmVudHMgYWN0aXZlIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgdG8gZW5hYmxlIGNvbnRhY3QgYW5kL29yIGludGVyc2VjdGlvbiBldmVudCByZXBvcnRpbmcgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aXZlRXZlbnRzIC0gVGhlIGV2ZW50cyBhY3RpdmUgZm9yIGNvbnRhY3QvaW50ZXJzZWN0aW9uIHBhaXJzIGludm9sdmluZyB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHNldEFjdGl2ZUV2ZW50cyhhY3RpdmVFdmVudHMpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRBY3RpdmVFdmVudHModGhpcy5oYW5kbGUsIGFjdGl2ZUV2ZW50cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNvbGxpc2lvbiB0eXBlcyBhY3RpdmUgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgYWN0aXZlQ29sbGlzaW9uVHlwZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0FjdGl2ZUNvbGxpc2lvblR5cGVzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb2xsaXNpb24gdHlwZXMgYWN0aXZlIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGl2ZUNvbGxpc2lvblR5cGVzIC0gVGhlIGhvb2tzIGFjdGl2ZSBmb3IgY29udGFjdC9pbnRlcnNlY3Rpb24gcGFpcnMgaW52b2x2aW5nIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgc2V0QWN0aXZlQ29sbGlzaW9uVHlwZXMoYWN0aXZlQ29sbGlzaW9uVHlwZXMpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRBY3RpdmVDb2xsaXNpb25UeXBlcyh0aGlzLmhhbmRsZSwgYWN0aXZlQ29sbGlzaW9uVHlwZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2xhdGlvbiBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYSAtIFRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiB0aGUgY29sbGlkZXIuXG4gICAgICovXG4gICAgc2V0VHJhbnNsYXRpb24odHJhKSB7XG4gICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0VHJhbnNsYXRpb24odGhpcy5oYW5kbGUsIHRyYS54LCB0cmEueSk7XG4gICAgICAgIC8vICNlbmRpZlxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2xhdGlvbiBvZiB0aGlzIGNvbGxpZGVyIHJlbGF0aXZlIHRvIGl0cyBwYXJlbnQgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIERvZXMgbm90aGluZyBpZiB0aGlzIGNvbGxpZGVyIGlzbid0IGF0dGFjaGVkIHRvIGEgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmEgLSBUaGUgbmV3IHRyYW5zbGF0aW9uIG9mIHRoZSBjb2xsaWRlciByZWxhdGl2ZSB0byBpdHMgcGFyZW50LlxuICAgICAqL1xuICAgIHNldFRyYW5zbGF0aW9uV3J0UGFyZW50KHRyYSkge1xuICAgICAgICAvLyAjaWYgRElNMlxuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldFRyYW5zbGF0aW9uV3J0UGFyZW50KHRoaXMuaGFuZGxlLCB0cmEueCwgdHJhLnkpO1xuICAgICAgICAvLyAjZW5kaWZcbiAgICB9XG4gICAgLy8gI2lmIERJTTJcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByb3RhdGlvbiBhbmdsZSBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gVGhlIHJvdGF0aW9uIGFuZ2xlLCBpbiByYWRpYW5zLlxuICAgICAqL1xuICAgIHNldFJvdGF0aW9uKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0Um90YXRpb24odGhpcy5oYW5kbGUsIGFuZ2xlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcm90YXRpb24gYW5nbGUgb2YgdGhpcyBjb2xsaWRlciByZWxhdGl2ZSB0byBpdHMgcGFyZW50IHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBEb2VzIG5vdGhpbmcgaWYgdGhpcyBjb2xsaWRlciBpc24ndCBhdHRhY2hlZCB0byBhIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBUaGUgcm90YXRpb24gYW5nbGUsIGluIHJhZGlhbnMuXG4gICAgICovXG4gICAgc2V0Um90YXRpb25XcnRQYXJlbnQoYW5nbGUpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRSb3RhdGlvbldydFBhcmVudCh0aGlzLmhhbmRsZSwgYW5nbGUpO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzaGFwZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NoYXBlVHlwZSh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoYWxmLWV4dGVudHMgb2YgdGhpcyBjb2xsaWRlciBpZiBpdCBpcyBhIGN1Ym9pZCBzaGFwZS5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBoYWxmRXh0ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMuY29sbGlkZXJTZXQucmF3LmNvSGFsZkV4dGVudHModGhpcy5oYW5kbGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHJhZGl1cyBvZiB0aGlzIGNvbGxpZGVyIGlmIGl0IGlzIGEgYmFsbCwgY3lsaW5kZXIsIGNhcHN1bGUsIG9yIGNvbmUgc2hhcGUuXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgcGxlYXNlIGFjY2VzcyB0aGlzIGZpZWxkIG9uIGBzaGFwZWAgbWVtYmVyIGluc3RlYWQuXG4gICAgICovXG4gICAgcmFkaXVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29SYWRpdXModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmFkaXVzIG9mIHRoZSByb3VuZCBlZGdlcyBvZiB0aGlzIGNvbGxpZGVyIGlmIGl0IGlzIGEgcm91bmQgY3lsaW5kZXIuXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgcGxlYXNlIGFjY2VzcyB0aGlzIGZpZWxkIG9uIGBzaGFwZWAgbWVtYmVyIGluc3RlYWQuXG4gICAgICovXG4gICAgcm91bmRSYWRpdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1JvdW5kUmFkaXVzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGhhbGYgaGVpZ2h0IG9mIHRoaXMgY29sbGlkZXIgaWYgaXQgaXMgYSBjeWxpbmRlciwgY2Fwc3VsZSwgb3IgY29uZSBzaGFwZS5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBoYWxmSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29IYWxmSGVpZ2h0KHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhpcyBjb2xsaWRlciBoYXMgYSB0cmlhbmdsZSBtZXNoLCBwb2x5bGluZSwgY29udmV4IHBvbHlnb24sIG9yIGNvbnZleCBwb2x5aGVkcm9uIHNoYXBlLFxuICAgICAqIHRoaXMgcmV0dXJucyB0aGUgdmVydGV4IGJ1ZmZlciBvZiBzYWlkIHNoYXBlLlxuICAgICAqIEBkZXByZWNhdGVkIHRoaXMgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHBsZWFzZSBhY2Nlc3MgdGhpcyBmaWVsZCBvbiBgc2hhcGVgIG1lbWJlciBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHZlcnRpY2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29WZXJ0aWNlcyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgY29sbGlkZXIgaGFzIGEgdHJpYW5nbGUgbWVzaCwgcG9seWxpbmUsIG9yIGNvbnZleCBwb2x5aGVkcm9uIHNoYXBlLFxuICAgICAqIHRoaXMgcmV0dXJucyB0aGUgaW5kZXggYnVmZmVyIG9mIHNhaWQgc2hhcGUuXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgcGxlYXNlIGFjY2VzcyB0aGlzIGZpZWxkIG9uIGBzaGFwZWAgbWVtYmVyIGluc3RlYWQuXG4gICAgICovXG4gICAgaW5kaWNlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvSW5kaWNlcyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgY29sbGlkZXIgaGFzIGEgaGVpZ2h0ZmllbGQgc2hhcGUsIHRoaXMgcmV0dXJucyB0aGUgaGVpZ2h0cyBidWZmZXIgb2ZcbiAgICAgKiB0aGUgaGVpZ2h0ZmllbGQuXG4gICAgICogSW4gM0QsIHRoZSByZXR1cm5lZCBoZWlnaHQgbWF0cml4IGlzIHByb3ZpZGVkIGluIGNvbHVtbi1tYWpvciBvcmRlci5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBoZWlnaHRmaWVsZEhlaWdodHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0hlaWdodGZpZWxkSGVpZ2h0cyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgY29sbGlkZXIgaGFzIGEgaGVpZ2h0ZmllbGQgc2hhcGUsIHRoaXMgcmV0dXJucyB0aGUgc2NhbGVcbiAgICAgKiBhcHBsaWVkIHRvIGl0LlxuICAgICAqIEBkZXByZWNhdGVkIHRoaXMgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHBsZWFzZSBhY2Nlc3MgdGhpcyBmaWVsZCBvbiBgc2hhcGVgIG1lbWJlciBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGhlaWdodGZpZWxkU2NhbGUoKSB7XG4gICAgICAgIGxldCBzY2FsZSA9IHRoaXMuY29sbGlkZXJTZXQucmF3LmNvSGVpZ2h0ZmllbGRTY2FsZSh0aGlzLmhhbmRsZSk7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyhzY2FsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSByaWdpZC1ib2R5IHRoaXMgY29sbGlkZXIgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZnJpY3Rpb24gY29lZmZpY2llbnQgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBmcmljdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvRnJpY3Rpb24odGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnQgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICByZXN0aXR1dGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvUmVzdGl0dXRpb24odGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGVuc2l0eSBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIGRlbnNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0RlbnNpdHkodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGlzaW9uIGdyb3VwcyBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIGNvbGxpc2lvbkdyb3VwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvQ29sbGlzaW9uR3JvdXBzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNvbHZlciBncm91cHMgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBzb2x2ZXJHcm91cHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NvbHZlckdyb3Vwcyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIHRoaXMgY29sbGlkZXIgY29udGFpbnMgYSBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byB0ZXN0LlxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgbGV0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb2xsaWRlclNldC5yYXcuY29Db250YWluc1BvaW50KHRoaXMuaGFuZGxlLCByYXdQb2ludCk7XG4gICAgICAgIHJhd1BvaW50LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgcHJvamVjdGlvbiBvZiBhIHBvaW50IG9uIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gcHJvamVjdC5cbiAgICAgKiBAcGFyYW0gc29saWQgLSBJZiB0aGlzIGlzIHNldCB0byBgdHJ1ZWAgdGhlbiB0aGUgY29sbGlkZXIgc2hhcGVzIGFyZSBjb25zaWRlcmVkIHRvXG4gICAgICogICBiZSBwbGFpbiAoaWYgdGhlIHBvaW50IGlzIGxvY2F0ZWQgaW5zaWRlIG9mIGEgcGxhaW4gc2hhcGUsIGl0cyBwcm9qZWN0aW9uIGlzIHRoZSBwb2ludFxuICAgICAqICAgaXRzZWxmKS4gSWYgaXQgaXMgc2V0IHRvIGBmYWxzZWAgdGhlIGNvbGxpZGVyIHNoYXBlcyBhcmUgY29uc2lkZXJlZCB0byBiZSBob2xsb3dcbiAgICAgKiAgIChpZiB0aGUgcG9pbnQgaXMgbG9jYXRlZCBpbnNpZGUgb2YgYW4gaG9sbG93IHNoYXBlLCBpdCBpcyBwcm9qZWN0ZWQgb24gdGhlIHNoYXBlJ3NcbiAgICAgKiAgIGJvdW5kYXJ5KS5cbiAgICAgKi9cbiAgICBwcm9qZWN0UG9pbnQocG9pbnQsIHNvbGlkKSB7XG4gICAgICAgIGxldCByYXdQb2ludCA9IFZlY3Rvck9wcy5pbnRvUmF3KHBvaW50KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBvaW50UHJvamVjdGlvbi5mcm9tUmF3KHRoaXMuY29sbGlkZXJTZXQucmF3LmNvUHJvamVjdFBvaW50KHRoaXMuaGFuZGxlLCByYXdQb2ludCwgc29saWQpKTtcbiAgICAgICAgcmF3UG9pbnQuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiB0aGlzIGNvbGxpZGVyIGludGVyc2VjdHMgdGhlIGdpdmVuIHJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByYXkgLSBUaGUgcmF5IHRvIGNhc3QuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUtb2YtaW1wYWN0IHRoYXQgY2FuIGJlIHJlcG9ydGVkIGJ5IHRoaXMgY2FzdC4gVGhpcyBlZmZlY3RpdmVseVxuICAgICAqICAgbGltaXRzIHRoZSBsZW5ndGggb2YgdGhlIHJheSB0byBgcmF5LmRpci5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqL1xuICAgIGludGVyc2VjdHNSYXkocmF5LCBtYXhUb2kpIHtcbiAgICAgICAgbGV0IHJhd09yaWcgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkub3JpZ2luKTtcbiAgICAgICAgbGV0IHJhd0RpciA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5kaXIpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb2xsaWRlclNldC5yYXcuY29JbnRlcnNlY3RzUmF5KHRoaXMuaGFuZGxlLCByYXdPcmlnLCByYXdEaXIsIG1heFRvaSk7XG4gICAgICAgIHJhd09yaWcuZnJlZSgpO1xuICAgICAgICByYXdEaXIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKlxuICAgICAqIENvbXB1dGVzIHRoZSBzbWFsbGVzdCB0aW1lIGJldHdlZW4gdGhpcyBhbmQgdGhlIGdpdmVuIHNoYXBlIHVuZGVyIHRyYW5zbGF0aW9uYWwgbW92ZW1lbnQgYXJlIHNlcGFyYXRlZCBieSBhIGRpc3RhbmNlIHNtYWxsZXIgb3IgZXF1YWwgdG8gZGlzdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXIxVmVsIC0gVGhlIGNvbnN0YW50IHZlbG9jaXR5IG9mIHRoZSBjdXJyZW50IHNoYXBlIHRvIGNhc3QgKGkuZS4gdGhlIGNhc3QgZGlyZWN0aW9uKS5cbiAgICAgKiBAcGFyYW0gc2hhcGUyIC0gVGhlIHNoYXBlIHRvIGNhc3QgYWdhaW5zdC5cbiAgICAgKiBAcGFyYW0gc2hhcGUyUG9zIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMlJvdCAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZTJWZWwgLSBUaGUgY29uc3RhbnQgdmVsb2NpdHkgb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGRpc3RhbmNlIHRyYXZlbGVkIGJ5IHRoZSBzaGFwZSB0byBgY29sbGlkZXIxVmVsLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICovXG4gICAgY2FzdFNoYXBlKGNvbGxpZGVyMVZlbCwgc2hhcGUyLCBzaGFwZTJQb3MsIHNoYXBlMlJvdCwgc2hhcGUyVmVsLCBtYXhUb2kpIHtcbiAgICAgICAgbGV0IHJhd0NvbGxpZGVyMVZlbCA9IFZlY3Rvck9wcy5pbnRvUmF3KGNvbGxpZGVyMVZlbCk7XG4gICAgICAgIGxldCByYXdTaGFwZTJQb3MgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZTJQb3MpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyUm90ID0gUm90YXRpb25PcHMuaW50b1JhdyhzaGFwZTJSb3QpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyVmVsID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGUyVmVsKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMiA9IHNoYXBlMi5pbnRvUmF3KCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBTaGFwZVRPSS5mcm9tUmF3KHRoaXMuY29sbGlkZXJTZXQsIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvQ2FzdFNoYXBlKHRoaXMuaGFuZGxlLCByYXdDb2xsaWRlcjFWZWwsIHJhd1NoYXBlMiwgcmF3U2hhcGUyUG9zLCByYXdTaGFwZTJSb3QsIHJhd1NoYXBlMlZlbCwgbWF4VG9pKSk7XG4gICAgICAgIHJhd0NvbGxpZGVyMVZlbC5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMlBvcy5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMlJvdC5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMlZlbC5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMi5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qXG4gICAgICogQ29tcHV0ZXMgdGhlIHNtYWxsZXN0IHRpbWUgYmV0d2VlbiB0aGlzIGFuZCB0aGUgZ2l2ZW4gY29sbGlkZXIgdW5kZXIgdHJhbnNsYXRpb25hbCBtb3ZlbWVudCBhcmUgc2VwYXJhdGVkIGJ5IGEgZGlzdGFuY2Ugc21hbGxlciBvciBlcXVhbCB0byBkaXN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjFWZWwgLSBUaGUgY29uc3RhbnQgdmVsb2NpdHkgb2YgdGhlIGN1cnJlbnQgY29sbGlkZXIgdG8gY2FzdCAoaS5lLiB0aGUgY2FzdCBkaXJlY3Rpb24pLlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjIgLSBUaGUgY29sbGlkZXIgdG8gY2FzdCBhZ2FpbnN0LlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjJWZWwgLSBUaGUgY29uc3RhbnQgdmVsb2NpdHkgb2YgdGhlIHNlY29uZCBjb2xsaWRlci5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGRpc3RhbmNlIHRyYXZlbGVkIGJ5IHRoZSBzaGFwZSB0byBgc2hhcGVWZWwubm9ybSgpICogbWF4VG9pYC5cbiAgICAgKi9cbiAgICBjYXN0Q29sbGlkZXIoY29sbGlkZXIxVmVsLCBjb2xsaWRlcjIsIGNvbGxpZGVyMlZlbCwgbWF4VG9pKSB7XG4gICAgICAgIGxldCByYXdDb2xsaWRlcjFWZWwgPSBWZWN0b3JPcHMuaW50b1Jhdyhjb2xsaWRlcjFWZWwpO1xuICAgICAgICBsZXQgcmF3Q29sbGlkZXIyVmVsID0gVmVjdG9yT3BzLmludG9SYXcoY29sbGlkZXIyVmVsKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlQ29sbGlkZXJUT0kuZnJvbVJhdyh0aGlzLmNvbGxpZGVyU2V0LCB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0Nhc3RDb2xsaWRlcih0aGlzLmhhbmRsZSwgcmF3Q29sbGlkZXIxVmVsLCBjb2xsaWRlcjIuaGFuZGxlLCByYXdDb2xsaWRlcjJWZWwsIG1heFRvaSkpO1xuICAgICAgICByYXdDb2xsaWRlcjFWZWwuZnJlZSgpO1xuICAgICAgICByYXdDb2xsaWRlcjJWZWwuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpbnRlcnNlY3RzU2hhcGUoc2hhcGUyLCBzaGFwZVBvczIsIHNoYXBlUm90Mikge1xuICAgICAgICBsZXQgcmF3UG9zMiA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zMik7XG4gICAgICAgIGxldCByYXdSb3QyID0gUm90YXRpb25PcHMuaW50b1JhdyhzaGFwZVJvdDIpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY29sbGlkZXJTZXQucmF3LmNvSW50ZXJzZWN0c1NoYXBlKHRoaXMuaGFuZGxlLCByYXdTaGFwZTIsIHJhd1BvczIsIHJhd1JvdDIpO1xuICAgICAgICByYXdQb3MyLmZyZWUoKTtcbiAgICAgICAgcmF3Um90Mi5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMi5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIG9uZSBwYWlyIG9mIGNvbnRhY3QgcG9pbnRzIGJldHdlZW4gdGhlIHNoYXBlIG93bmVkIGJ5IHRoaXMgY29sbGlkZXIgYW5kIHRoZSBnaXZlbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZTIgLSBUaGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZTJQb3MgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZTJSb3QgLSBUaGUgcm90YXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gcHJlZGljdGlvbiAtIFRoZSBwcmVkaWN0aW9uIHZhbHVlLCBpZiB0aGUgc2hhcGVzIGFyZSBzZXBhcmF0ZWQgYnkgYSBkaXN0YW5jZSBncmVhdGVyIHRoYW4gdGhpcyB2YWx1ZSwgdGVzdCB3aWxsIGZhaWwuXG4gICAgICogQHJldHVybnMgYG51bGxgIGlmIHRoZSBzaGFwZXMgYXJlIHNlcGFyYXRlZCBieSBhIGRpc3RhbmNlIGdyZWF0ZXIgdGhhbiBwcmVkaWN0aW9uLCBvdGhlcndpc2UgY29udGFjdCBkZXRhaWxzLiBUaGUgcmVzdWx0IGlzIGdpdmVuIGluIHdvcmxkLXNwYWNlLlxuICAgICAqL1xuICAgIGNvbnRhY3RTaGFwZShzaGFwZTIsIHNoYXBlMlBvcywgc2hhcGUyUm90LCBwcmVkaWN0aW9uKSB7XG4gICAgICAgIGxldCByYXdQb3MyID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGUyUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdDIgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlMlJvdCk7XG4gICAgICAgIGxldCByYXdTaGFwZTIgPSBzaGFwZTIuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gU2hhcGVDb250YWN0LmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcuY29Db250YWN0U2hhcGUodGhpcy5oYW5kbGUsIHJhd1NoYXBlMiwgcmF3UG9zMiwgcmF3Um90MiwgcHJlZGljdGlvbikpO1xuICAgICAgICByYXdQb3MyLmZyZWUoKTtcbiAgICAgICAgcmF3Um90Mi5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMi5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIG9uZSBwYWlyIG9mIGNvbnRhY3QgcG9pbnRzIGJldHdlZW4gdGhlIGNvbGxpZGVyIGFuZCB0aGUgZ2l2ZW4gY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXIyIC0gVGhlIHNlY29uZCBjb2xsaWRlci5cbiAgICAgKiBAcGFyYW0gcHJlZGljdGlvbiAtIFRoZSBwcmVkaWN0aW9uIHZhbHVlLCBpZiB0aGUgc2hhcGVzIGFyZSBzZXBhcmF0ZWQgYnkgYSBkaXN0YW5jZSBncmVhdGVyIHRoYW4gdGhpcyB2YWx1ZSwgdGVzdCB3aWxsIGZhaWwuXG4gICAgICogQHJldHVybnMgYG51bGxgIGlmIHRoZSBzaGFwZXMgYXJlIHNlcGFyYXRlZCBieSBhIGRpc3RhbmNlIGdyZWF0ZXIgdGhhbiBwcmVkaWN0aW9uLCBvdGhlcndpc2UgY29udGFjdCBkZXRhaWxzLiBUaGUgcmVzdWx0IGlzIGdpdmVuIGluIHdvcmxkLXNwYWNlLlxuICAgICAqL1xuICAgIGNvbnRhY3RDb2xsaWRlcihjb2xsaWRlcjIsIHByZWRpY3Rpb24pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlQ29udGFjdC5mcm9tUmF3KHRoaXMuY29sbGlkZXJTZXQucmF3LmNvQ29udGFjdENvbGxpZGVyKHRoaXMuaGFuZGxlLCBjb2xsaWRlcjIuaGFuZGxlLCBwcmVkaWN0aW9uKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qXG4gICAgICogRmluZCB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIFRoaXMgYWxzbyBjb21wdXRlcyB0aGUgbm9ybWFsIGF0IHRoZSBoaXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICogQHJldHVybnMgVGhlIHRpbWUtb2YtaW1wYWN0IGJldHdlZW4gdGhpcyBjb2xsaWRlciBhbmQgdGhlIHJheSwgb3IgYC0xYCBpZiB0aGVyZSBpcyBubyBpbnRlcnNlY3Rpb24uXG4gICAgICovXG4gICAgY2FzdFJheShyYXksIG1heFRvaSwgc29saWQpIHtcbiAgICAgICAgbGV0IHJhd09yaWcgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkub3JpZ2luKTtcbiAgICAgICAgbGV0IHJhd0RpciA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5kaXIpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb2xsaWRlclNldC5yYXcuY29DYXN0UmF5KHRoaXMuaGFuZGxlLCByYXdPcmlnLCByYXdEaXIsIG1heFRvaSwgc29saWQpO1xuICAgICAgICByYXdPcmlnLmZyZWUoKTtcbiAgICAgICAgcmF3RGlyLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIFRoaXMgYWxzbyBjb21wdXRlcyB0aGUgbm9ybWFsIGF0IHRoZSBoaXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICovXG4gICAgY2FzdFJheUFuZEdldE5vcm1hbChyYXksIG1heFRvaSwgc29saWQpIHtcbiAgICAgICAgbGV0IHJhd09yaWcgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkub3JpZ2luKTtcbiAgICAgICAgbGV0IHJhd0RpciA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5kaXIpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUmF5SW50ZXJzZWN0aW9uLmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcuY29DYXN0UmF5QW5kR2V0Tm9ybWFsKHRoaXMuaGFuZGxlLCByYXdPcmlnLCByYXdEaXIsIG1heFRvaSwgc29saWQpKTtcbiAgICAgICAgcmF3T3JpZy5mcmVlKCk7XG4gICAgICAgIHJhd0Rpci5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbGxpZGVyRGVzYyB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBjb2xsaWRlciBkZXNjcmlwdG9yIGZyb20gdGhlIGNvbGxpc2lvbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZSAtIFRoZSBzaGFwZSBvZiB0aGUgY29sbGlkZXIgYmVpbmcgYnVpbHQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2hhcGUpIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgICAgICB0aGlzLnVzZU1hc3NQcm9wcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbnNpdHkgPSAxLjA7XG4gICAgICAgIHRoaXMuZnJpY3Rpb24gPSAwLjU7XG4gICAgICAgIHRoaXMucmVzdGl0dXRpb24gPSAwLjA7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBSb3RhdGlvbk9wcy5pZGVudGl0eSgpO1xuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uID0gVmVjdG9yT3BzLnplcm9zKCk7XG4gICAgICAgIHRoaXMuaXNTZW5zb3IgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25Hcm91cHMgPSA0Mjk0OTY3Mjk1O1xuICAgICAgICB0aGlzLnNvbHZlckdyb3VwcyA9IDQyOTQ5NjcyOTU7XG4gICAgICAgIHRoaXMuZnJpY3Rpb25Db21iaW5lUnVsZSA9IENvZWZmaWNpZW50Q29tYmluZVJ1bGUuQXZlcmFnZTtcbiAgICAgICAgdGhpcy5yZXN0aXR1dGlvbkNvbWJpbmVSdWxlID0gQ29lZmZpY2llbnRDb21iaW5lUnVsZS5BdmVyYWdlO1xuICAgICAgICB0aGlzLmFjdGl2ZUNvbGxpc2lvblR5cGVzID0gQWN0aXZlQ29sbGlzaW9uVHlwZXMuREVGQVVMVDtcbiAgICAgICAgdGhpcy5hY3RpdmVFdmVudHMgPSAwO1xuICAgICAgICB0aGlzLmFjdGl2ZUhvb2tzID0gMDtcbiAgICAgICAgdGhpcy5tYXNzID0gMC4wO1xuICAgICAgICB0aGlzLmNlbnRlck9mTWFzcyA9IFZlY3Rvck9wcy56ZXJvcygpO1xuICAgICAgICAvLyAjaWYgRElNMlxuICAgICAgICB0aGlzLnByaW5jaXBhbEFuZ3VsYXJJbmVydGlhID0gMC4wO1xuICAgICAgICB0aGlzLnJvdGF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAvLyAjZW5kaWZcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3Igd2l0aCBhIGJhbGwgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYmFsbC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYmFsbChyYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgQmFsbChyYWRpdXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBjYXBzdWxlIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbGZIZWlnaHQgLSBUaGUgaGFsZi1oZWlnaHQgb2YgdGhlIGNhcHN1bGUsIGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2Fwc3VsZSBiYXNpcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY2Fwc3VsZShoYWxmSGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgQ2Fwc3VsZShoYWxmSGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc2VnbWVudCBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSBzZWdtZW50LlxuICAgICAqIEBwYXJhbSBiIC0gVGhlIHNlY29uZCBwb2ludCBvZiB0aGUgc2VnbWVudC5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2VnbWVudChhLCBiKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFNlZ21lbnQoYSwgYik7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0cmlhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYiAtIFRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBjIC0gVGhlIHRoaXJkIHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgdHJpYW5nbGUoYSwgYiwgYykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBUcmlhbmdsZShhLCBiLCBjKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRyaWFuZ2xlIHNoYXBlIHdpdGggcm91bmQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYiAtIFRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBjIC0gVGhlIHRoaXJkIHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIHRyaWFuZ2xlLiBJbiAzRCxcbiAgICAgKiAgIHRoaXMgaXMgYWxzbyBlcXVhbCB0byBoYWxmIHRoZSB0aGlja25lc3Mgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZFRyaWFuZ2xlKGEsIGIsIGMsIGJvcmRlclJhZGl1cykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBSb3VuZFRyaWFuZ2xlKGEsIGIsIGMsIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBwb2x5bGluZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9seWxpbmUncyB2ZXJ0aWNlcy5cbiAgICAgKiBAcGFyYW0gaW5kaWNlcyAtIFRoZSBpbmRpY2VzIG9mIHRoZSBwb2x5bGluZSdzIHNlZ21lbnRzLiBJZiB0aGlzIGlzIGB1bmRlZmluZWRgIG9yIGBudWxsYCxcbiAgICAgKiAgICB0aGUgdmVydGljZXMgYXJlIGFzc3VtZWQgdG8gZGVzY3JpYmUgYSBsaW5lIHN0cmlwLlxuICAgICAqL1xuICAgIHN0YXRpYyBwb2x5bGluZSh2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBQb2x5bGluZSh2ZXJ0aWNlcywgaW5kaWNlcyk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSB0cmlhbmdsZSBtZXNoIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0cmlhbmdsZSBtZXNoJ3MgdmVydGljZXMuXG4gICAgICogQHBhcmFtIGluZGljZXMgLSBUaGUgaW5kaWNlcyBvZiB0aGUgdHJpYW5nbGUgbWVzaCdzIHRyaWFuZ2xlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgdHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBUcmlNZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvLyAjaWYgRElNMlxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sbGlkZXIgZGVzY3JpcHRvciB3aXRoIGEgcmVjdGFuZ3VsYXIgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaHggLSBUaGUgaGFsZi13aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIGFsb25nIGl0cyBsb2NhbCBgeGAgYXhpcy5cbiAgICAgKiBAcGFyYW0gaHkgLSBUaGUgaGFsZi13aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIGFsb25nIGl0cyBsb2NhbCBgeWAgYXhpcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3Vib2lkKGh4LCBoeSkge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBDdWJvaWQoaHgsIGh5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3Igd2l0aCBhIHJlY3Rhbmd1bGFyIHNoYXBlIHdpdGggcm91bmQgYm9yZGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoeCAtIFRoZSBoYWxmLXdpZHRoIG9mIHRoZSByZWN0YW5nbGUgYWxvbmcgaXRzIGxvY2FsIGB4YCBheGlzLlxuICAgICAqIEBwYXJhbSBoeSAtIFRoZSBoYWxmLXdpZHRoIG9mIHRoZSByZWN0YW5nbGUgYWxvbmcgaXRzIGxvY2FsIGB5YCBheGlzLlxuICAgICAqIEBwYXJhbSBib3JkZXJSYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjdWJvaWQncyBib3JkZXJzLlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZEN1Ym9pZChoeCwgaHksIGJvcmRlclJhZGl1cykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBSb3VuZEN1Ym9pZChoeCwgaHksIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBoZWlnaHRmaWVsZCBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoZWlnaHRzIC0gVGhlIGhlaWdodHMgb2YgdGhlIGhlaWdodGZpZWxkLCBhbG9uZyBpdHMgbG9jYWwgYHlgIGF4aXMuXG4gICAgICogQHBhcmFtIHNjYWxlIC0gVGhlIHNjYWxlIGZhY3RvciBhcHBsaWVkIHRvIHRoZSBoZWlnaHRmaWVsZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgaGVpZ2h0ZmllbGQoaGVpZ2h0cywgc2NhbGUpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgSGVpZ2h0ZmllbGQoaGVpZ2h0cywgc2NhbGUpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBjb252ZXgtaHVsbCBvZiB0aGUgZ2l2ZW4gcG9pbnRzIGFuZCB1c2UgdGhlIHJlc3VsdGluZ1xuICAgICAqIGNvbnZleCBwb2x5Z29uIGFzIHRoZSBzaGFwZSBmb3IgdGhpcyBuZXcgY29sbGlkZXIgZGVzY3JpcHRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb2ludHMgLSBUaGUgcG9pbnQgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgY29udmV4LWh1bGwuXG4gICAgICovXG4gICAgc3RhdGljIGNvbnZleEh1bGwocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IENvbnZleFBvbHlnb24ocG9pbnRzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHRoYXQgdXNlcyB0aGUgZ2l2ZW4gc2V0IG9mIHBvaW50cyBhc3N1bWVkXG4gICAgICogdG8gZm9ybSBhIGNvbnZleCBwb2x5bGluZSAobm8gY29udmV4LWh1bGwgY29tcHV0YXRpb24gd2lsbCBiZSBkb25lKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0aWNlcyBvZiB0aGUgY29udmV4IHBvbHlsaW5lLlxuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXhQb2x5bGluZSh2ZXJ0aWNlcykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBDb252ZXhQb2x5Z29uKHZlcnRpY2VzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgY29udmV4LWh1bGwgb2YgdGhlIGdpdmVuIHBvaW50cyBhbmQgdXNlIHRoZSByZXN1bHRpbmdcbiAgICAgKiBjb252ZXggcG9seWdvbiBhcyB0aGUgc2hhcGUgZm9yIHRoaXMgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3IuIEFcbiAgICAgKiBib3JkZXIgaXMgYWRkZWQgdG8gdGhhdCBjb252ZXggcG9seWdvbiB0byBnaXZlIGl0IHJvdW5kIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9pbnRzIC0gVGhlIHBvaW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbXB1dGUgdGhlIGNvbnZleC1odWxsLlxuICAgICAqIEBwYXJhbSBib3JkZXJSYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSByb3VuZCBib3JkZXIgYWRkZWQgdG8gdGhlIGNvbnZleCBwb2x5Z29uLlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZENvbnZleEh1bGwocG9pbnRzLCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgUm91bmRDb252ZXhQb2x5Z29uKHBvaW50cywgYm9yZGVyUmFkaXVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHRoYXQgdXNlcyB0aGUgZ2l2ZW4gc2V0IG9mIHBvaW50cyBhc3N1bWVkXG4gICAgICogdG8gZm9ybSBhIHJvdW5kIGNvbnZleCBwb2x5bGluZSAobm8gY29udmV4LWh1bGwgY29tcHV0YXRpb24gd2lsbCBiZSBkb25lKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0aWNlcyBvZiB0aGUgY29udmV4IHBvbHlsaW5lLlxuICAgICAqIEBwYXJhbSBib3JkZXJSYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSByb3VuZCBib3JkZXIgYWRkZWQgdG8gdGhlIGNvbnZleCBwb2x5bGluZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgcm91bmRDb252ZXhQb2x5bGluZSh2ZXJ0aWNlcywgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFJvdW5kQ29udmV4UG9seWdvbih2ZXJ0aWNlcywgYm9yZGVyUmFkaXVzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvLyAjaWYgRElNMlxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBjb2xsaWRlciB0byBiZSBjcmVhdGVkIHJlbGF0aXZlIHRvIHRoZSByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIHNldFRyYW5zbGF0aW9uKHgsIHkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkgIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIlRoZSB0cmFuc2xhdGlvbiBjb21wb25lbnRzIG11c3QgYmUgbnVtYmVycy5cIik7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSB7IHg6IHgsIHk6IHkgfTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJvdGF0aW9uIG9mIHRoZSBjb2xsaWRlciB0byBiZSBjcmVhdGVkIHJlbGF0aXZlIHRvIHRoZSByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJvdCAtIFRoZSByb3RhdGlvbiBvZiB0aGUgY29sbGlkZXIgdG8gYmUgY3JlYXRlZCByZWxhdGl2ZSB0byB0aGUgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbihyb3QpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciBvciBub3QgdGhlIGNvbGxpZGVyIGJlaW5nIGNyZWF0ZWQgaXMgYSBzZW5zb3IuXG4gICAgICpcbiAgICAgKiBBIHNlbnNvciBjb2xsaWRlciBkb2VzIG5vdCB0YWtlIHBhcnQgb2YgdGhlIHBoeXNpY3Mgc2ltdWxhdGlvbiwgYnV0IGdlbmVyYXRlc1xuICAgICAqIHByb3hpbWl0eSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXMgLSBTZXQgdG8gYHRydWVgIG9mIHRoZSBjb2xsaWRlciBidWlsdCBpcyB0byBiZSBhIHNlbnNvci5cbiAgICAgKi9cbiAgICBzZXRTZW5zb3IoaXMpIHtcbiAgICAgICAgdGhpcy5pc1NlbnNvciA9IGlzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGVuc2l0eSBvZiB0aGUgY29sbGlkZXIgYmVpbmcgYnVpbHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVuc2l0eSAtIFRoZSBkZW5zaXR5IHRvIHNldCwgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuIEEgZGVuc2l0eSBvZiAwIG1lYW5zIHRoYXQgdGhpcyBjb2xsaWRlclxuICAgICAqICAgICAgICAgICAgICAgICAgd2lsbCBub3QgYWZmZWN0IHRoZSBtYXNzIG9yIGFuZ3VsYXIgaW5lcnRpYSBvZiB0aGUgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBzZXREZW5zaXR5KGRlbnNpdHkpIHtcbiAgICAgICAgdGhpcy51c2VNYXNzUHJvcHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZW5zaXR5ID0gZGVuc2l0eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vICNpZiBESU0yXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFzcyBwcm9wZXJ0aWVzIG9mIHRoZSBjb2xsaWRlciBiZWluZyBidWlsdC5cbiAgICAgKlxuICAgICAqIFRoaXMgcmVwbGFjZXMgdGhlIG1hc3MtcHJvcGVydGllcyBhdXRvbWF0aWNhbGx5IGNvbXB1dGVkIGZyb20gdGhlIGNvbGxpZGVyJ3MgZGVuc2l0eSBhbmQgc2hhcGUuXG4gICAgICogVGhlc2UgbWFzcy1wcm9wZXJ0aWVzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIG1hc3MtcHJvcGVydGllcyBvZiB0aGUgcmlnaWQtYm9keSB0aGlzIGNvbGxpZGVyIHdpbGwgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWFzcyDiiJIgVGhlIG1hc3Mgb2YgdGhlIGNvbGxpZGVyIHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0gY2VudGVyT2ZNYXNzIOKIkiBUaGUgY2VudGVyLW9mLW1hc3Mgb2YgdGhlIGNvbGxpZGVyIHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0gcHJpbmNpcGFsQW5ndWxhckluZXJ0aWEg4oiSIFRoZSBwcmluY2lwYWwgYW5ndWxhciBpbmVydGlhIG9mIHRoZSBjb2xsaWRlciB0byBjcmVhdGUuXG4gICAgICovXG4gICAgc2V0TWFzc1Byb3BlcnRpZXMobWFzcywgY2VudGVyT2ZNYXNzLCBwcmluY2lwYWxBbmd1bGFySW5lcnRpYSkge1xuICAgICAgICB0aGlzLnVzZU1hc3NQcm9wcyA9IHRydWU7XG4gICAgICAgIHRoaXMubWFzcyA9IG1hc3M7XG4gICAgICAgIHRoaXMuY2VudGVyT2ZNYXNzID0gY2VudGVyT2ZNYXNzO1xuICAgICAgICB0aGlzLnByaW5jaXBhbEFuZ3VsYXJJbmVydGlhID0gcHJpbmNpcGFsQW5ndWxhckluZXJ0aWE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXN0aXR1dGlvbiBjb2VmZmljaWVudCBvZiB0aGUgY29sbGlkZXIgdG8gYmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXN0aXR1dGlvbiAtIFRoZSByZXN0aXR1dGlvbiBjb2VmZmljaWVudCBpbiBgWzAsIDFdYC4gQSB2YWx1ZSBvZiAwICh0aGUgZGVmYXVsdCkgbWVhbnMgbm8gYm91bmNpbmcgYmVoYXZpb3JcbiAgICAgKiAgICAgICAgICAgICAgICAgICB3aGlsZSAxIG1lYW5zIHBlcmZlY3QgYm91bmNpbmcgKHRob3VnaCBlbmVyZ3kgbWF5IHN0aWxsIGJlIGxvc3QgZHVlIHRvIG51bWVyaWNhbCBlcnJvcnMgb2YgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgY29uc3RyYWludHMgc29sdmVyKS5cbiAgICAgKi9cbiAgICBzZXRSZXN0aXR1dGlvbihyZXN0aXR1dGlvbikge1xuICAgICAgICB0aGlzLnJlc3RpdHV0aW9uID0gcmVzdGl0dXRpb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmcmljdGlvbiBjb2VmZmljaWVudCBvZiB0aGUgY29sbGlkZXIgdG8gYmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmcmljdGlvbiAtIFRoZSBmcmljdGlvbiBjb2VmZmljaWVudC4gTXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuIFRoaXMgaXMgZ2VuZXJhbGx5IHNtYWxsZXIgdGhhbiAxLiBUaGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICBoaWdoZXIgdGhlIGNvZWZmaWNpZW50LCB0aGUgc3Ryb25nZXIgZnJpY3Rpb24gZm9yY2VzIHdpbGwgYmUgZm9yIGNvbnRhY3RzIHdpdGggdGhlIGNvbGxpZGVyXG4gICAgICogICAgICAgICAgICAgICAgICAgYmVpbmcgYnVpbHQuXG4gICAgICovXG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcnVsZSB1c2VkIHRvIGNvbWJpbmUgdGhlIGZyaWN0aW9uIGNvZWZmaWNpZW50cyBvZiB0d28gY29sbGlkZXJzXG4gICAgICogY29sbGlkZXJzIGludm9sdmVkIGluIGEgY29udGFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBydWxlIOKIkiBUaGUgY29tYmluZSBydWxlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIHNldEZyaWN0aW9uQ29tYmluZVJ1bGUocnVsZSkge1xuICAgICAgICB0aGlzLmZyaWN0aW9uQ29tYmluZVJ1bGUgPSBydWxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcnVsZSB1c2VkIHRvIGNvbWJpbmUgdGhlIHJlc3RpdHV0aW9uIGNvZWZmaWNpZW50cyBvZiB0d28gY29sbGlkZXJzXG4gICAgICogY29sbGlkZXJzIGludm9sdmVkIGluIGEgY29udGFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBydWxlIOKIkiBUaGUgY29tYmluZSBydWxlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIHNldFJlc3RpdHV0aW9uQ29tYmluZVJ1bGUocnVsZSkge1xuICAgICAgICB0aGlzLnJlc3RpdHV0aW9uQ29tYmluZVJ1bGUgPSBydWxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY29sbGlzaW9uIGdyb3VwcyB1c2VkIGJ5IHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBUd28gY29sbGlkZXJzIHdpbGwgaW50ZXJhY3QgaWZmLiB0aGVpciBjb2xsaXNpb24gZ3JvdXBzIGFyZSBjb21wYXRpYmxlLlxuICAgICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiBgSW50ZXJhY3Rpb25Hcm91cHNgIGZvciBkZXRhaWxzIG9uIHRlaCB1c2VkIGJpdCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBjb2xsaXNpb24gZ3JvdXBzIHVzZWQgZm9yIHRoZSBjb2xsaWRlciBiZWluZyBidWlsdC5cbiAgICAgKi9cbiAgICBzZXRDb2xsaXNpb25Hcm91cHMoZ3JvdXBzKSB7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uR3JvdXBzID0gZ3JvdXBzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc29sdmVyIGdyb3VwcyB1c2VkIGJ5IHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBGb3JjZXMgYmV0d2VlbiB0d28gY29sbGlkZXJzIGluIGNvbnRhY3Qgd2lsbCBiZSBjb21wdXRlZCBpZmYgdGhlaXIgc29sdmVyXG4gICAgICogZ3JvdXBzIGFyZSBjb21wYXRpYmxlLlxuICAgICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiBgSW50ZXJhY3Rpb25Hcm91cHNgIGZvciBkZXRhaWxzIG9uIHRoZSB1c2VkIGJpdCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBzb2x2ZXIgZ3JvdXBzIHVzZWQgZm9yIHRoZSBjb2xsaWRlciBiZWluZyBidWlsdC5cbiAgICAgKi9cbiAgICBzZXRTb2x2ZXJHcm91cHMoZ3JvdXBzKSB7XG4gICAgICAgIHRoaXMuc29sdmVyR3JvdXBzID0gZ3JvdXBzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwaHlzaWNzIGhvb2tzIGFjdGl2ZSBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIHRvIGVuYWJsZSBjdXN0b20gZmlsdGVyaW5nIHJ1bGVzIGZvciBjb250YWN0L2ludGVyc2Vjc3Rpb24gcGFpcnMgaW52b2x2aW5nIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aXZlSG9va3MgLSBUaGUgaG9va3MgYWN0aXZlIGZvciBjb250YWN0L2ludGVyc2VjdGlvbiBwYWlycyBpbnZvbHZpbmcgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBzZXRBY3RpdmVIb29rcyhhY3RpdmVIb29rcykge1xuICAgICAgICB0aGlzLmFjdGl2ZUhvb2tzID0gYWN0aXZlSG9va3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGV2ZW50cyBhY3RpdmUgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyB0byBlbmFibGUgY29udGFjdCBhbmQvb3IgaW50ZXJzZWN0aW9uIGV2ZW50IHJlcG9ydGluZyBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhY3RpdmVFdmVudHMgLSBUaGUgZXZlbnRzIGFjdGl2ZSBmb3IgY29udGFjdC9pbnRlcnNlY3Rpb24gcGFpcnMgaW52b2x2aW5nIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgc2V0QWN0aXZlRXZlbnRzKGFjdGl2ZUV2ZW50cykge1xuICAgICAgICB0aGlzLmFjdGl2ZUV2ZW50cyA9IGFjdGl2ZUV2ZW50cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29sbGlzaW9uIHR5cGVzIGFjdGl2ZSBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhY3RpdmVDb2xsaXNpb25UeXBlcyAtIFRoZSBob29rcyBhY3RpdmUgZm9yIGNvbnRhY3QvaW50ZXJzZWN0aW9uIHBhaXJzIGludm9sdmluZyB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHNldEFjdGl2ZUNvbGxpc2lvblR5cGVzKGFjdGl2ZUNvbGxpc2lvblR5cGVzKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQ29sbGlzaW9uVHlwZXMgPSBhY3RpdmVDb2xsaXNpb25UeXBlcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGlkZXIuanMubWFwIiwiaW1wb3J0IHsgUmF3Q29sbGlkZXJTZXQgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBDb2FyZW5hIH0gZnJvbSBcIi4uL2NvYXJlbmFcIjtcbmltcG9ydCB7IFJvdGF0aW9uT3BzLCBWZWN0b3JPcHMgfSBmcm9tICcuLi9tYXRoJztcbmltcG9ydCB7IENvbGxpZGVyIH0gZnJvbSAnLi9jb2xsaWRlcic7XG4vKipcbiAqIEEgc2V0IG9mIHJpZ2lkIGJvZGllcyB0aGF0IGNhbiBiZSBoYW5kbGVkIGJ5IGEgcGh5c2ljcyBwaXBlbGluZS5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgY29sbGlkZXJTZXQuZnJlZSgpYFxuICogb25jZSB5b3UgYXJlIGRvbmUgdXNpbmcgaXQgKGFuZCBhbGwgdGhlIHJpZ2lkLWJvZGllcyBpdCBjcmVhdGVkKS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbGxpZGVyU2V0IHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd0NvbGxpZGVyU2V0KCk7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IENvYXJlbmEoKTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbWFwIHdpdGggdGhlIGV4aXN0aW5nIGVsZW1lbnRzLCBpZiBhbnkuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJhdy5mb3JFYWNoQ29sbGlkZXJIYW5kbGUoKGhhbmRsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldChoYW5kbGUsIG5ldyBDb2xsaWRlcih0aGlzLCBoYW5kbGUsIG51bGwpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgY29sbGlkZXIgc2V0LlxuICAgICAqL1xuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMucmF3LmZyZWUoKTtcbiAgICAgICAgdGhpcy5yYXcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMubWFwID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZmluYWxpemVEZXNlcmlhbGl6YXRpb24oYm9kaWVzKSB7XG4gICAgICAgIHRoaXMubWFwLmZvckVhY2goY29sbGlkZXIgPT4gY29sbGlkZXIuZmluYWxpemVEZXNlcmlhbGl6YXRpb24oYm9kaWVzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sbGlkZXIgYW5kIHJldHVybiBpdHMgaW50ZWdlciBoYW5kbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYm9kaWVzIC0gVGhlIHNldCBvZiBib2RpZXMgd2hlcmUgdGhlIGNvbGxpZGVyJ3MgcGFyZW50IGNhbiBiZSBmb3VuZC5cbiAgICAgKiBAcGFyYW0gZGVzYyAtIFRoZSBjb2xsaWRlcidzIGRlc2NyaXB0aW9uLlxuICAgICAqIEBwYXJhbSBwYXJlbnRIYW5kbGUgLSBUaGUgaW50ZWdlciBoYW5kbGUgb2YgdGhlIHJpZ2lkLWJvZHkgdGhpcyBjb2xsaWRlciBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBjcmVhdGVDb2xsaWRlcihib2RpZXMsIGRlc2MsIHBhcmVudEhhbmRsZSkge1xuICAgICAgICBsZXQgaGFzUGFyZW50ID0gcGFyZW50SGFuZGxlICE9IHVuZGVmaW5lZCAmJiBwYXJlbnRIYW5kbGUgIT0gbnVsbDtcbiAgICAgICAgaWYgKGhhc1BhcmVudCAmJiBpc05hTihwYXJlbnRIYW5kbGUpKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgY29sbGlkZXIgd2l0aCBhIHBhcmVudCByaWdpZC1ib2R5IGhhbmRsZSB0aGF0IGlzIG5vdCBhIG51bWJlci5cIik7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IGRlc2Muc2hhcGUuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmF3VHJhID0gVmVjdG9yT3BzLmludG9SYXcoZGVzYy50cmFuc2xhdGlvbik7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KGRlc2Mucm90YXRpb24pO1xuICAgICAgICBsZXQgcmF3Q29tID0gVmVjdG9yT3BzLmludG9SYXcoZGVzYy5jZW50ZXJPZk1hc3MpO1xuICAgICAgICBsZXQgaGFuZGxlID0gdGhpcy5yYXcuY3JlYXRlQ29sbGlkZXIocmF3U2hhcGUsIHJhd1RyYSwgcmF3Um90LCBkZXNjLnVzZU1hc3NQcm9wcywgZGVzYy5tYXNzLCByYXdDb20sIFxuICAgICAgICAvLyAjaWYgRElNMlxuICAgICAgICBkZXNjLnByaW5jaXBhbEFuZ3VsYXJJbmVydGlhLCBcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIGRlc2MuZGVuc2l0eSwgZGVzYy5mcmljdGlvbiwgZGVzYy5yZXN0aXR1dGlvbiwgZGVzYy5mcmljdGlvbkNvbWJpbmVSdWxlLCBkZXNjLnJlc3RpdHV0aW9uQ29tYmluZVJ1bGUsIGRlc2MuaXNTZW5zb3IsIGRlc2MuY29sbGlzaW9uR3JvdXBzLCBkZXNjLnNvbHZlckdyb3VwcywgZGVzYy5hY3RpdmVDb2xsaXNpb25UeXBlcywgZGVzYy5hY3RpdmVIb29rcywgZGVzYy5hY3RpdmVFdmVudHMsIGhhc1BhcmVudCwgaGFzUGFyZW50ID8gcGFyZW50SGFuZGxlIDogMCwgYm9kaWVzLnJhdyk7XG4gICAgICAgIHJhd1NoYXBlLmZyZWUoKTtcbiAgICAgICAgcmF3VHJhLmZyZWUoKTtcbiAgICAgICAgcmF3Um90LmZyZWUoKTtcbiAgICAgICAgcmF3Q29tLmZyZWUoKTtcbiAgICAgICAgbGV0IHBhcmVudCA9IGhhc1BhcmVudCA/IGJvZGllcy5nZXQocGFyZW50SGFuZGxlKSA6IG51bGw7XG4gICAgICAgIGxldCBjb2xsaWRlciA9IG5ldyBDb2xsaWRlcih0aGlzLCBoYW5kbGUsIHBhcmVudCwgZGVzYy5zaGFwZSk7XG4gICAgICAgIHRoaXMubWFwLnNldChoYW5kbGUsIGNvbGxpZGVyKTtcbiAgICAgICAgcmV0dXJuIGNvbGxpZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjb2xsaWRlciBmcm9tIHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgY29sbGlkZXIgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSBib2RpZXMgLSBUaGUgc2V0IG9mIHJpZ2lkLWJvZHkgY29udGFpbmluZyB0aGUgcmlnaWQtYm9keSB0aGUgY29sbGlkZXIgaXMgYXR0YWNoZWQgdG8uXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhlIHJpZ2lkLWJvZHkgdGhlIHJlbW92ZWQgY29sbGlkZXIgaXMgYXR0YWNoZWQgdG8gd2lsbCBiZSB3b2tlbi11cCBhdXRvbWF0aWNhbGx5LlxuICAgICAqL1xuICAgIHJlbW92ZShoYW5kbGUsIGlzbGFuZHMsIGJvZGllcywgd2FrZVVwKSB7XG4gICAgICAgIHRoaXMucmF3LnJlbW92ZShoYW5kbGUsIGlzbGFuZHMucmF3LCBib2RpZXMucmF3LCB3YWtlVXApO1xuICAgICAgICB0aGlzLnVubWFwKGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGZ1bmN0aW9uLCBkbyBub3QgY2FsbCBkaXJlY3RseS5cbiAgICAgKiBAcGFyYW0gaGFuZGxlXG4gICAgICovXG4gICAgdW5tYXAoaGFuZGxlKSB7XG4gICAgICAgIHRoaXMubWFwLmRlbGV0ZShoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByaWdpZC1ib2R5IHdpdGggdGhlIGdpdmVuIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYW5kbGUgLSBUaGUgaGFuZGxlIG9mIHRoZSByaWdpZC1ib2R5IHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIGdldChoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmdldChoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGNvbGxpZGVycyBvbiB0aGlzIHNldC5cbiAgICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5sZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG9lcyB0aGlzIHNldCBjb250YWluIGEgY29sbGlkZXIgd2l0aCB0aGUgZ2l2ZW4gaGFuZGxlP1xuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBjb2xsaWRlciBoYW5kbGUgdG8gY2hlY2suXG4gICAgICovXG4gICAgY29udGFpbnMoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChoYW5kbGUpICE9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gZWFjaCBjb2xsaWRlciBjb250YWluZWQgYnkgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIGZvckVhY2goZikge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBjb2xsaWRlcnMgaW4gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBjb2xsaWRlciBsaXN0LlxuICAgICAqL1xuICAgIGdldEFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmdldEFsbCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbGxpZGVyX3NldC5qcy5tYXAiLCJpbXBvcnQgeyBWZWN0b3JPcHMgfSBmcm9tIFwiLi4vbWF0aFwiO1xuLyoqXG4gKiBUaGUgY29udGFjdCBpbmZvIGJldHdlZW4gdHdvIHNoYXBlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNoYXBlQ29udGFjdCB7XG4gICAgY29uc3RydWN0b3IoZGlzdCwgcG9pbnQxLCBwb2ludDIsIG5vcm1hbDEsIG5vcm1hbDIpIHtcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IGRpc3Q7XG4gICAgICAgIHRoaXMucG9pbnQxID0gcG9pbnQxO1xuICAgICAgICB0aGlzLnBvaW50MiA9IHBvaW50MjtcbiAgICAgICAgdGhpcy5ub3JtYWwxID0gbm9ybWFsMTtcbiAgICAgICAgdGhpcy5ub3JtYWwyID0gbm9ybWFsMjtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcocmF3KSB7XG4gICAgICAgIGlmICghcmF3KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTaGFwZUNvbnRhY3QocmF3LmRpc3RhbmNlKCksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy5wb2ludDEoKSksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy5wb2ludDIoKSksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy5ub3JtYWwxKCkpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsMigpKSk7XG4gICAgICAgIHJhdy5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGFjdC5qcy5tYXAiLCIvLyAjaWYgRElNMlxuZXhwb3J0IHZhciBGZWF0dXJlVHlwZTtcbihmdW5jdGlvbiAoRmVhdHVyZVR5cGUpIHtcbiAgICBGZWF0dXJlVHlwZVtGZWF0dXJlVHlwZVtcIlZlcnRleFwiXSA9IDBdID0gXCJWZXJ0ZXhcIjtcbiAgICBGZWF0dXJlVHlwZVtGZWF0dXJlVHlwZVtcIkZhY2VcIl0gPSAxXSA9IFwiRmFjZVwiO1xuICAgIEZlYXR1cmVUeXBlW0ZlYXR1cmVUeXBlW1wiVW5rbm93blwiXSA9IDJdID0gXCJVbmtub3duXCI7XG59KShGZWF0dXJlVHlwZSB8fCAoRmVhdHVyZVR5cGUgPSB7fSkpO1xuLy8gI2VuZGlmXG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZWF0dXJlLmpzLm1hcCIsImltcG9ydCB7IFJhd05hcnJvd1BoYXNlIH0gZnJvbSBcIi4uL3Jhd1wiO1xuaW1wb3J0IHsgVmVjdG9yT3BzIH0gZnJvbSBcIi4uL21hdGhcIjtcbi8qKlxuICogVGhlIG5hcnJvdy1waGFzZSB1c2VkIGZvciBwcmVjaXNlIGNvbGxpc2lvbi1kZXRlY3Rpb24uXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYG5hcnJvd1BoYXNlLmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0LlxuICovXG5leHBvcnQgY2xhc3MgTmFycm93UGhhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3TmFycm93UGhhc2UoKTtcbiAgICAgICAgdGhpcy50ZW1wTWFuaWZvbGQgPSBuZXcgVGVtcENvbnRhY3RNYW5pZm9sZChudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV0FTTSBtZW1vcnkgb2NjdXBpZWQgYnkgdGhpcyBuYXJyb3ctcGhhc2UuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW51bWVyYXRlcyBhbGwgdGhlIGNvbGxpZGVycyBwb3RlbnRpYWxseSBpbiBjb250YWN0IHdpdGggdGhlIGdpdmVuIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMSAtIFRoZSBzZWNvbmQgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGNvbnRhY3QuXG4gICAgICogQHBhcmFtIGYgLSBDbG9zdXJlIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBjb2xsaWRlciB0aGF0IGlzIGluIGNvbnRhY3Qgd2l0aCBgY29sbGlkZXIxYC5cbiAgICAgKi9cbiAgICBjb250YWN0c1dpdGgoY29sbGlkZXIxLCBmKSB7XG4gICAgICAgIHRoaXMucmF3LmNvbnRhY3RzX3dpdGgoY29sbGlkZXIxLCBmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW51bWVyYXRlcyBhbGwgdGhlIGNvbGxpZGVycyBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIGNvbGxpZGVycywgYXNzdW1pbmcgb25lIG9mIHRoZW1cbiAgICAgKiBpcyBhIHNlbnNvci5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25zV2l0aChjb2xsaWRlcjEsIGYpIHtcbiAgICAgICAgdGhpcy5yYXcuaW50ZXJzZWN0aW9uc193aXRoKGNvbGxpZGVyMSwgZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIHRoZSBjb250YWN0IG1hbmlmb2xkcyBiZXR3ZWVuIHRoZSBnaXZlbiBwYWlyIG9mIGNvbGxpZGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjEgLSBUaGUgZmlyc3QgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGNvbnRhY3QuXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMiAtIFRoZSBzZWNvbmQgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGNvbnRhY3QuXG4gICAgICogQHBhcmFtIGYgLSBDbG9zdXJlIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBjb250YWN0IG1hbmlmb2xkIGJldHdlZW4gdGhlIHR3byBjb2xsaWRlcnMuIElmIHRoZSBzZWNvbmQgYXJndW1lbnRcbiAgICAgKiAgICAgICAgICAgIHBhc3NlZCB0byB0aGlzIGNsb3N1cmUgaXMgYHRydWVgLCB0aGVuIHRoZSBjb250YWN0IG1hbmlmb2xkIGRhdGEgaXMgZmxpcHBlZCwgaS5lLiwgbWV0aG9kcyBsaWtlIGBsb2NhbE5vcm1hbDFgXG4gICAgICogICAgICAgICAgICBhY3R1YWxseSBhcHBseSB0byB0aGUgYGNvbGxpZGVyMmAgYW5kIGZpZWxkcyBsaWtlIGBsb2NhbE5vcm1hbDJgIGFwcGx5IHRvIHRoZSBgY29sbGlkZXIxYC5cbiAgICAgKi9cbiAgICBjb250YWN0UGFpcihjb2xsaWRlcjEsIGNvbGxpZGVyMiwgZikge1xuICAgICAgICBjb25zdCByYXdQYWlyID0gdGhpcy5yYXcuY29udGFjdF9wYWlyKGNvbGxpZGVyMSwgY29sbGlkZXIyKTtcbiAgICAgICAgaWYgKCEhcmF3UGFpcikge1xuICAgICAgICAgICAgY29uc3QgZmxpcHBlZCA9IHJhd1BhaXIuY29sbGlkZXIxKCkgIT0gY29sbGlkZXIxO1xuICAgICAgICAgICAgbGV0IGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmF3UGFpci5udW1Db250YWN0TWFuaWZvbGRzKCk7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGVtcE1hbmlmb2xkLnJhdyA9IHJhd1BhaXIuY29udGFjdE1hbmlmb2xkKGkpO1xuICAgICAgICAgICAgICAgIGlmICghIXRoaXMudGVtcE1hbmlmb2xkLnJhdykge1xuICAgICAgICAgICAgICAgICAgICBmKHRoaXMudGVtcE1hbmlmb2xkLCBmbGlwcGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU0FGRVRZOiBUaGUgUmF3Q29udGFjdE1hbmlmb2xkIHN0b3JlcyBhIHJhdyBwb2ludGVyIHRoYXQgd2lsbCBiZSBpbnZhbGlkYXRlZFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgYXQgdGhlIG5leHQgdGltZXN0ZXAuIFNvIHdlIG11c3QgYmUgc3VyZSB0byBmcmVlIHRoZSBwYWlyIGhlcmVcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRvIGF2b2lkIHVuc291bmRuZXNzIGluIHRoZSBSdXN0IGNvZGUuXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wTWFuaWZvbGQuZnJlZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmF3UGFpci5mcmVlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYGNvbGxpZGVyMWAgYW5kIGBjb2xsaWRlcjJgIGludGVyc2VjdCBhbmQgYXQgbGVhc3Qgb25lIG9mIHRoZW0gaXMgYSBzZW5zb3IuXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMSDiiJIgVGhlIGZpcnN0IGNvbGxpZGVyIGludm9sdmVkIGluIHRoZSBpbnRlcnNlY3Rpb24uXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMiDiiJIgVGhlIHNlY29uZCBjb2xsaWRlciBpbnZvbHZlZCBpbiB0aGUgaW50ZXJzZWN0aW9uLlxuICAgICAqL1xuICAgIGludGVyc2VjdGlvblBhaXIoY29sbGlkZXIxLCBjb2xsaWRlcjIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmludGVyc2VjdGlvbl9wYWlyKGNvbGxpZGVyMSwgY29sbGlkZXIyKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVGVtcENvbnRhY3RNYW5pZm9sZCB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3O1xuICAgIH1cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBub3JtYWwoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhdy5ub3JtYWwoKSk7XG4gICAgfVxuICAgIGxvY2FsTm9ybWFsMSgpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3LmxvY2FsX24xKCkpO1xuICAgIH1cbiAgICBsb2NhbE5vcm1hbDIoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhdy5sb2NhbF9uMigpKTtcbiAgICB9XG4gICAgc3Vic2hhcGUxKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuc3Vic2hhcGUxKCk7XG4gICAgfVxuICAgIHN1YnNoYXBlMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnN1YnNoYXBlMigpO1xuICAgIH1cbiAgICBudW1Db250YWN0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3Lm51bV9jb250YWN0cygpO1xuICAgIH1cbiAgICBsb2NhbENvbnRhY3RQb2ludDEoaSkge1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcodGhpcy5yYXcuY29udGFjdF9sb2NhbF9wMShpKSk7XG4gICAgfVxuICAgIGxvY2FsQ29udGFjdFBvaW50MihpKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhdy5jb250YWN0X2xvY2FsX3AyKGkpKTtcbiAgICB9XG4gICAgY29udGFjdERpc3QoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuY29udGFjdF9kaXN0KGkpO1xuICAgIH1cbiAgICBjb250YWN0RmlkMShpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5jb250YWN0X2ZpZDEoaSk7XG4gICAgfVxuICAgIGNvbnRhY3RGaWQyKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmNvbnRhY3RfZmlkMihpKTtcbiAgICB9XG4gICAgY29udGFjdEltcHVsc2UoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuY29udGFjdF9pbXB1bHNlKGkpO1xuICAgIH1cbiAgICAvLyAjaWYgRElNMlxuICAgIGNvbnRhY3RUYW5nZW50SW1wdWxzZShpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5jb250YWN0X3RhbmdlbnRfaW1wdWxzZShpKTtcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgbnVtU29sdmVyQ29udGFjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5udW1fc29sdmVyX2NvbnRhY3RzKCk7XG4gICAgfVxuICAgIHNvbHZlckNvbnRhY3RQb2ludChpKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhdy5zb2x2ZXJfY29udGFjdF9wb2ludChpKSk7XG4gICAgfVxuICAgIHNvbHZlckNvbnRhY3REaXN0KGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnNvbHZlcl9jb250YWN0X2Rpc3QoaSk7XG4gICAgfVxuICAgIHNvbHZlckNvbnRhY3RGcmljdGlvbihpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5zb2x2ZXJfY29udGFjdF9mcmljdGlvbihpKTtcbiAgICB9XG4gICAgc29sdmVyQ29udGFjdFJlc3RpdHV0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnNvbHZlcl9jb250YWN0X3Jlc3RpdHV0aW9uKGkpO1xuICAgIH1cbiAgICBzb2x2ZXJDb250YWN0VGFuZ2VudFZlbG9jaXR5KGkpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3LnNvbHZlcl9jb250YWN0X3RhbmdlbnRfdmVsb2NpdHkoaSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hcnJvd19waGFzZS5qcy5tYXAiLCJpbXBvcnQgeyBWZWN0b3JPcHMgfSBmcm9tIFwiLi4vbWF0aFwiO1xuaW1wb3J0IHsgRmVhdHVyZVR5cGUgfSBmcm9tIFwiLi9mZWF0dXJlXCI7XG4vKipcbiAqIFRoZSBwcm9qZWN0aW9uIG9mIGEgcG9pbnQgb24gYSBjb2xsaWRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvaW50UHJvamVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocG9pbnQsIGlzSW5zaWRlKSB7XG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5pc0luc2lkZSA9IGlzSW5zaWRlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVJhdyhyYXcpIHtcbiAgICAgICAgaWYgKCFyYXcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFBvaW50UHJvamVjdGlvbihWZWN0b3JPcHMuZnJvbVJhdyhyYXcucG9pbnQoKSksIHJhdy5pc0luc2lkZSgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBwcm9qZWN0aW9uIG9mIGEgcG9pbnQgb24gYSBjb2xsaWRlciAoaW5jbHVkZXMgdGhlIGNvbGxpZGVyIGhhbmRsZSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2ludENvbGxpZGVyUHJvamVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoY29sbGlkZXIsIHBvaW50LCBpc0luc2lkZSwgZmVhdHVyZVR5cGUsIGZlYXR1cmVJZCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIGdlb21ldHJpYyBmZWF0dXJlIHRoZSBwb2ludCB3YXMgcHJvamVjdGVkIG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZWF0dXJlVHlwZSA9IEZlYXR1cmVUeXBlLlVua25vd247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWQgb2YgdGhlIGdlb21ldHJpYyBmZWF0dXJlIHRoZSBwb2ludCB3YXMgcHJvamVjdGVkIG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZWF0dXJlSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29sbGlkZXIgPSBjb2xsaWRlcjtcbiAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLmlzSW5zaWRlID0gaXNJbnNpZGU7XG4gICAgICAgIGlmIChmZWF0dXJlSWQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUlkID0gZmVhdHVyZUlkO1xuICAgICAgICBpZiAoZmVhdHVyZVR5cGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBmZWF0dXJlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgUG9pbnRDb2xsaWRlclByb2plY3Rpb24oY29sbGlkZXJTZXQuZ2V0KHJhdy5jb2xsaWRlckhhbmRsZSgpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LnBvaW50KCkpLCByYXcuaXNJbnNpZGUoKSwgcmF3LmZlYXR1cmVUeXBlKCksIHJhdy5mZWF0dXJlSWQoKSk7XG4gICAgICAgIHJhdy5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9pbnQuanMubWFwIiwiaW1wb3J0IHsgVmVjdG9yT3BzIH0gZnJvbSBcIi4uL21hdGhcIjtcbmltcG9ydCB7IEZlYXR1cmVUeXBlIH0gZnJvbSBcIi4vZmVhdHVyZVwiO1xuLyoqXG4gKiBBIHJheS4gVGhpcyBpcyBhIGRpcmVjdGVkIGhhbGYtbGluZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJheSB7XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGEgcmF5IGZyb20gaXRzIG9yaWdpbiBhbmQgZGlyZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9yaWdpbiAtIFRoZSByYXkncyBzdGFydGluZyBwb2ludC5cbiAgICAgKiBAcGFyYW0gZGlyIC0gVGhlIHJheSdzIGRpcmVjdGlvbiBvZiBwcm9wYWdhdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcmlnaW4sIGRpcikge1xuICAgICAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XG4gICAgfVxuICAgIHBvaW50QXQodCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5vcmlnaW4ueCArIHRoaXMuZGlyLnggKiB0LFxuICAgICAgICAgICAgeTogdGhpcy5vcmlnaW4ueSArIHRoaXMuZGlyLnkgKiB0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICA7XG59XG4vKipcbiAqIFRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgYSBjb2xsaWRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFJheUludGVyc2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodG9pLCBub3JtYWwsIGZlYXR1cmVUeXBlLCBmZWF0dXJlSWQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBnZW9tZXRyaWMgZmVhdHVyZSB0aGUgcG9pbnQgd2FzIHByb2plY3RlZCBvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBGZWF0dXJlVHlwZS5Vbmtub3duO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkIG9mIHRoZSBnZW9tZXRyaWMgZmVhdHVyZSB0aGUgcG9pbnQgd2FzIHByb2plY3RlZCBvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmVhdHVyZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBub3JtYWw7XG4gICAgICAgIGlmIChmZWF0dXJlSWQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUlkID0gZmVhdHVyZUlkO1xuICAgICAgICBpZiAoZmVhdHVyZVR5cGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBmZWF0dXJlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcocmF3KSB7XG4gICAgICAgIGlmICghcmF3KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBSYXlJbnRlcnNlY3Rpb24ocmF3LnRvaSgpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsKCkpLCByYXcuZmVhdHVyZVR5cGUoKSwgcmF3LmZlYXR1cmVJZCgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgYSBjb2xsaWRlciAoaW5jbHVkZXMgdGhlIGNvbGxpZGVyIGhhbmRsZSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBSYXlDb2xsaWRlckludGVyc2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoY29sbGlkZXIsIHRvaSwgbm9ybWFsLCBmZWF0dXJlVHlwZSwgZmVhdHVyZUlkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZ2VvbWV0cmljIGZlYXR1cmUgdGhlIHBvaW50IHdhcyBwcm9qZWN0ZWQgb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZlYXR1cmVUeXBlID0gRmVhdHVyZVR5cGUuVW5rbm93bjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZCBvZiB0aGUgZ2VvbWV0cmljIGZlYXR1cmUgdGhlIHBvaW50IHdhcyBwcm9qZWN0ZWQgb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZlYXR1cmVJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb2xsaWRlciA9IGNvbGxpZGVyO1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBub3JtYWw7XG4gICAgICAgIGlmIChmZWF0dXJlSWQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUlkID0gZmVhdHVyZUlkO1xuICAgICAgICBpZiAoZmVhdHVyZVR5cGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBmZWF0dXJlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgUmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24oY29sbGlkZXJTZXQuZ2V0KHJhdy5jb2xsaWRlckhhbmRsZSgpKSwgcmF3LnRvaSgpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsKCkpLCByYXcuZmVhdHVyZVR5cGUoKSwgcmF3LmZlYXR1cmVJZCgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSB0aW1lIG9mIGltcGFjdCBiZXR3ZWVuIGEgcmF5IGFuZCBhIGNvbGxpZGVyLlxuICovXG5leHBvcnQgY2xhc3MgUmF5Q29sbGlkZXJUb2kge1xuICAgIGNvbnN0cnVjdG9yKGNvbGxpZGVyLCB0b2kpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlciA9IGNvbGxpZGVyO1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgUmF5Q29sbGlkZXJUb2koY29sbGlkZXJTZXQuZ2V0KHJhdy5jb2xsaWRlckhhbmRsZSgpKSwgcmF3LnRvaSgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYXkuanMubWFwIiwiaW1wb3J0IHsgVmVjdG9yT3BzLCBSb3RhdGlvbk9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgeyBSYXdTaGFwZSB9IGZyb20gXCIuLi9yYXdcIjtcbmltcG9ydCB7IFNoYXBlQ29udGFjdCB9IGZyb20gXCIuL2NvbnRhY3RcIjtcbmltcG9ydCB7IFBvaW50UHJvamVjdGlvbiB9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQgeyBSYXlJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi9yYXlcIjtcbmltcG9ydCB7IFNoYXBlVE9JIH0gZnJvbSBcIi4vdG9pXCI7XG5leHBvcnQgY2xhc3MgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIGluc3RhbnQgbW9kZSB3aXRob3V0IGNhY2hlXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SYXcocmF3U2V0LCBoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmF3VHlwZSA9IHJhd1NldC5jb1NoYXBlVHlwZShoYW5kbGUpO1xuICAgICAgICBsZXQgZXh0ZW50cztcbiAgICAgICAgbGV0IGJvcmRlclJhZGl1cztcbiAgICAgICAgbGV0IHZzO1xuICAgICAgICBsZXQgaW5kaWNlcztcbiAgICAgICAgbGV0IGhhbGZIZWlnaHQ7XG4gICAgICAgIGxldCByYWRpdXM7XG4gICAgICAgIHN3aXRjaCAocmF3VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQmFsbDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJhbGwocmF3U2V0LmNvUmFkaXVzKGhhbmRsZSkpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ3Vib2lkOlxuICAgICAgICAgICAgICAgIGV4dGVudHMgPSByYXdTZXQuY29IYWxmRXh0ZW50cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDdWJvaWQoZXh0ZW50cy54LCBleHRlbnRzLnkpO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5Sb3VuZEN1Ym9pZDpcbiAgICAgICAgICAgICAgICBleHRlbnRzID0gcmF3U2V0LmNvSGFsZkV4dGVudHMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXMgPSByYXdTZXQuY29Sb3VuZFJhZGl1cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSb3VuZEN1Ym9pZChleHRlbnRzLngsIGV4dGVudHMueSwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ2Fwc3VsZTpcbiAgICAgICAgICAgICAgICBoYWxmSGVpZ2h0ID0gcmF3U2V0LmNvSGFsZkhlaWdodChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHJhd1NldC5jb1JhZGl1cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ2Fwc3VsZShoYWxmSGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuU2VnbWVudDpcbiAgICAgICAgICAgICAgICB2cyA9IHJhd1NldC5jb1ZlcnRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgLy8gI2lmIERJTTJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNlZ21lbnQoVmVjdG9yT3BzLm5ldyh2c1swXSwgdnNbMV0pLCBWZWN0b3JPcHMubmV3KHZzWzJdLCB2c1szXSkpO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5Qb2x5bGluZTpcbiAgICAgICAgICAgICAgICB2cyA9IHJhd1NldC5jb1ZlcnRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IHJhd1NldC5jb0luZGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvbHlsaW5lKHZzLCBpbmRpY2VzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlRyaWFuZ2xlOlxuICAgICAgICAgICAgICAgIHZzID0gcmF3U2V0LmNvVmVydGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAvLyAjaWYgRElNMlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVHJpYW5nbGUoVmVjdG9yT3BzLm5ldyh2c1swXSwgdnNbMV0pLCBWZWN0b3JPcHMubmV3KHZzWzJdLCB2c1szXSksIFZlY3Rvck9wcy5uZXcodnNbNF0sIHZzWzVdKSk7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlJvdW5kVHJpYW5nbGU6XG4gICAgICAgICAgICAgICAgdnMgPSByYXdTZXQuY29WZXJ0aWNlcyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1cyA9IHJhd1NldC5jb1JvdW5kUmFkaXVzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgLy8gI2lmIERJTTJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJvdW5kVHJpYW5nbGUoVmVjdG9yT3BzLm5ldyh2c1swXSwgdnNbMV0pLCBWZWN0b3JPcHMubmV3KHZzWzJdLCB2c1szXSksIFZlY3Rvck9wcy5uZXcodnNbNF0sIHZzWzVdKSwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuVHJpTWVzaDpcbiAgICAgICAgICAgICAgICB2cyA9IHJhd1NldC5jb1ZlcnRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IHJhd1NldC5jb0luZGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyaU1lc2godnMsIGluZGljZXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuSGVpZ2h0RmllbGQ6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSByYXdTZXQuY29IZWlnaHRmaWVsZFNjYWxlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0cyA9IHJhd1NldC5jb0hlaWdodGZpZWxkSGVpZ2h0cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWlnaHRmaWVsZChoZWlnaHRzLCBzY2FsZSk7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5Db252ZXhQb2x5Z29uOlxuICAgICAgICAgICAgICAgIHZzID0gcmF3U2V0LmNvVmVydGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbnZleFBvbHlnb24odnMsIGZhbHNlKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlJvdW5kQ29udmV4UG9seWdvbjpcbiAgICAgICAgICAgICAgICB2cyA9IHJhd1NldC5jb1ZlcnRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzID0gcmF3U2V0LmNvUm91bmRSYWRpdXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJvdW5kQ29udmV4UG9seWdvbih2cywgYm9yZGVyUmFkaXVzLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBzaGFwZSB0eXBlOiBcIiArIHJhd1R5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSB0aW1lIG9mIGltcGFjdCBiZXR3ZWVuIHR3byBtb3Zpbmcgc2hhcGVzLlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczEgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGlzIHNhaHBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDEgLSBUaGUgcm90YXRpb24gb2YgdGhpcyBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVWZWwxIC0gVGhlIHZlbG9jaXR5IG9mIHRoaXMgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMiAtIFRoZSBzZWNvbmQgbW92aW5nIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczIgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDIgLSBUaGUgcm90YXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVWZWwyIC0gVGhlIHZlbG9jaXR5IG9mIHRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUgd2hlbiB0aGUgaW5wYWN0IGNhbiBoYXBwZW4uXG4gICAgICogQHJldHVybnMgSWYgdGhlIHR3byBtb3Zpbmcgc2hhcGVzIGNvbGxpZGVyIGF0IHNvbWUgcG9pbnQgYWxvbmcgdGhlaXIgdHJhamVjdG9yaWVzLCB0aGlzIHJldHJ1bnMgdGhlXG4gICAgICogIHRpbWUgYXQgd2hpY2ggdGhlIHR3byBzaGFwZSBjb2xsaWRlciBhcyB3ZWxsIGFzIHRoZSBjb250YWN0IGluZm9ybWF0aW9uIGR1cm5pbmcgdGhlIGltcGFjdC4gUmV0dXJuc1xuICAgICAqICBgbnVsbGBpZiB0aGUgdHdvIHNoYXBlcyBuZXZlciBjb2xsaWRlIGFsb25nIHRoZWlyIHBhdGhzLlxuICAgICAqL1xuICAgIGNhc3RTaGFwZShzaGFwZVBvczEsIHNoYXBlUm90MSwgc2hhcGVWZWwxLCBzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyLCBzaGFwZVZlbDIsIG1heFRvaSkge1xuICAgICAgICBsZXQgcmF3UG9zMSA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zMSk7XG4gICAgICAgIGxldCByYXdSb3QxID0gUm90YXRpb25PcHMuaW50b1JhdyhzaGFwZVJvdDEpO1xuICAgICAgICBsZXQgcmF3VmVsMSA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlVmVsMSk7XG4gICAgICAgIGxldCByYXdQb3MyID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVQb3MyKTtcbiAgICAgICAgbGV0IHJhd1JvdDIgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90Mik7XG4gICAgICAgIGxldCByYXdWZWwyID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVWZWwyKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlVE9JLmZyb21SYXcobnVsbCwgcmF3U2hhcGUxLmNhc3RTaGFwZShyYXdQb3MxLCByYXdSb3QxLCByYXdWZWwxLCByYXdTaGFwZTIsIHJhd1BvczIsIHJhd1JvdDIsIHJhd1ZlbDIsIG1heFRvaSkpO1xuICAgICAgICByYXdQb3MxLmZyZWUoKTtcbiAgICAgICAgcmF3Um90MS5mcmVlKCk7XG4gICAgICAgIHJhd1ZlbDEuZnJlZSgpO1xuICAgICAgICByYXdQb3MyLmZyZWUoKTtcbiAgICAgICAgcmF3Um90Mi5mcmVlKCk7XG4gICAgICAgIHJhd1ZlbDIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTEuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiB0aGlzIHNoYXBlIGludGVyc2VjdHMgYW5vdGhlciBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczEgLSBUaGUgcG9zaXRpb24gb2YgdGhpcyBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QxIC0gVGhlIHJvdGF0aW9uIG9mIHRoaXMgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMiAgLSBUaGUgc2Vjb25kIHNoYXBlIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHNoYXBlUG9zMiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDIgLSBUaGUgcm90YXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHR3byBzaGFwZXMgaW50ZXJzZWN0LCBgZmFsc2VgIGlmIHRoZXkgZG9u4oCZdC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3RzU2hhcGUoc2hhcGVQb3MxLCBzaGFwZVJvdDEsIHNoYXBlMiwgc2hhcGVQb3MyLCBzaGFwZVJvdDIpIHtcbiAgICAgICAgbGV0IHJhd1BvczEgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczEpO1xuICAgICAgICBsZXQgcmF3Um90MSA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QxKTtcbiAgICAgICAgbGV0IHJhd1BvczIgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczIpO1xuICAgICAgICBsZXQgcmF3Um90MiA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QyKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJhd1NoYXBlMS5pbnRlcnNlY3RzU2hhcGUocmF3UG9zMSwgcmF3Um90MSwgcmF3U2hhcGUyLCByYXdQb3MyLCByYXdSb3QyKTtcbiAgICAgICAgcmF3UG9zMS5mcmVlKCk7XG4gICAgICAgIHJhd1JvdDEuZnJlZSgpO1xuICAgICAgICByYXdQb3MyLmZyZWUoKTtcbiAgICAgICAgcmF3Um90Mi5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMS5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMi5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIG9uZSBwYWlyIG9mIGNvbnRhY3QgcG9pbnRzIGJldHdlZW4gdHdvIHNoYXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczEgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGlzIHNhaHBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDEgLSBUaGUgcm90YXRpb24gb2YgdGhpcyBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGUyIC0gVGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVQb3MyIC0gVGhlIGluaXRpYWwgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QyIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIHByZWRpY3Rpb24gLSBUaGUgcHJlZGljdGlvbiB2YWx1ZSwgaWYgdGhlIHNoYXBlcyBhcmUgc2VwYXJhdGVkIGJ5IGEgZGlzdGFuY2UgZ3JlYXRlciB0aGFuIHRoaXMgdmFsdWUsIHRlc3Qgd2lsbCBmYWlsLlxuICAgICAqIEByZXR1cm5zIGBudWxsYCBpZiB0aGUgc2hhcGVzIGFyZSBzZXBhcmF0ZWQgYnkgYSBkaXN0YW5jZSBncmVhdGVyIHRoYW4gcHJlZGljdGlvbiwgb3RoZXJ3aXNlIGNvbnRhY3QgZGV0YWlscy4gVGhlIHJlc3VsdCBpcyBnaXZlbiBpbiB3b3JsZC1zcGFjZS5cbiAgICAgKi9cbiAgICBjb250YWN0U2hhcGUoc2hhcGVQb3MxLCBzaGFwZVJvdDEsIHNoYXBlMiwgc2hhcGVQb3MyLCBzaGFwZVJvdDIsIHByZWRpY3Rpb24pIHtcbiAgICAgICAgbGV0IHJhd1BvczEgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczEpO1xuICAgICAgICBsZXQgcmF3Um90MSA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QxKTtcbiAgICAgICAgbGV0IHJhd1BvczIgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczIpO1xuICAgICAgICBsZXQgcmF3Um90MiA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QyKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlQ29udGFjdC5mcm9tUmF3KHJhd1NoYXBlMS5jb250YWN0U2hhcGUocmF3UG9zMSwgcmF3Um90MSwgcmF3U2hhcGUyLCByYXdQb3MyLCByYXdSb3QyLCBwcmVkaWN0aW9uKSk7XG4gICAgICAgIHJhd1BvczEuZnJlZSgpO1xuICAgICAgICByYXdSb3QxLmZyZWUoKTtcbiAgICAgICAgcmF3UG9zMi5mcmVlKCk7XG4gICAgICAgIHJhd1JvdDIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTEuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb250YWluc1BvaW50KHNoYXBlUG9zLCBzaGFwZVJvdCwgcG9pbnQpIHtcbiAgICAgICAgbGV0IHJhd1BvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdCA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QpO1xuICAgICAgICBsZXQgcmF3UG9pbnQgPSBWZWN0b3JPcHMuaW50b1Jhdyhwb2ludCk7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmF3U2hhcGUuY29udGFpbnNQb2ludChyYXdQb3MsIHJhd1JvdCwgcmF3UG9pbnQpO1xuICAgICAgICByYXdQb3MuZnJlZSgpO1xuICAgICAgICByYXdSb3QuZnJlZSgpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcHJvamVjdFBvaW50KHNoYXBlUG9zLCBzaGFwZVJvdCwgcG9pbnQsIHNvbGlkKSB7XG4gICAgICAgIGxldCByYXdQb3MgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvcyk7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90KTtcbiAgICAgICAgbGV0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICBsZXQgcmF3U2hhcGUgPSB0aGlzLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBvaW50UHJvamVjdGlvbi5mcm9tUmF3KHJhd1NoYXBlLnByb2plY3RQb2ludChyYXdQb3MsIHJhd1JvdCwgcmF3UG9pbnQsIHNvbGlkKSk7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1BvaW50LmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpbnRlcnNlY3RzUmF5KHJheSwgc2hhcGVQb3MsIHNoYXBlUm90LCBtYXhUb2kpIHtcbiAgICAgICAgbGV0IHJhd1BvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdCA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QpO1xuICAgICAgICBsZXQgcmF3UmF5T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3UmF5RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmF3U2hhcGUuaW50ZXJzZWN0c1JheShyYXdQb3MsIHJhd1JvdCwgcmF3UmF5T3JpZywgcmF3UmF5RGlyLCBtYXhUb2kpO1xuICAgICAgICByYXdQb3MuZnJlZSgpO1xuICAgICAgICByYXdSb3QuZnJlZSgpO1xuICAgICAgICByYXdSYXlPcmlnLmZyZWUoKTtcbiAgICAgICAgcmF3UmF5RGlyLmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXN0UmF5KHJheSwgc2hhcGVQb3MsIHNoYXBlUm90LCBtYXhUb2ksIHNvbGlkKSB7XG4gICAgICAgIGxldCByYXdQb3MgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvcyk7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90KTtcbiAgICAgICAgbGV0IHJhd1JheU9yaWcgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkub3JpZ2luKTtcbiAgICAgICAgbGV0IHJhd1JheURpciA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5kaXIpO1xuICAgICAgICBsZXQgcmF3U2hhcGUgPSB0aGlzLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJhd1NoYXBlLmNhc3RSYXkocmF3UG9zLCByYXdSb3QsIHJhd1JheU9yaWcsIHJhd1JheURpciwgbWF4VG9pLCBzb2xpZCk7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1JheU9yaWcuZnJlZSgpO1xuICAgICAgICByYXdSYXlEaXIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNhc3RSYXlBbmRHZXROb3JtYWwocmF5LCBzaGFwZVBvcywgc2hhcGVSb3QsIG1heFRvaSwgc29saWQpIHtcbiAgICAgICAgbGV0IHJhd1BvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdCA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QpO1xuICAgICAgICBsZXQgcmF3UmF5T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3UmF5RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUmF5SW50ZXJzZWN0aW9uLmZyb21SYXcocmF3U2hhcGUuY2FzdFJheUFuZEdldE5vcm1hbChyYXdQb3MsIHJhd1JvdCwgcmF3UmF5T3JpZywgcmF3UmF5RGlyLCBtYXhUb2ksIHNvbGlkKSk7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1JheU9yaWcuZnJlZSgpO1xuICAgICAgICByYXdSYXlEaXIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8gI2lmIERJTTJcbi8qKlxuICogQW4gZW51bWVyYXRpb24gcmVwcmVzZW50aW5nIHRoZSB0eXBlIG9mIGEgc2hhcGUuXG4gKi9cbmV4cG9ydCB2YXIgU2hhcGVUeXBlO1xuKGZ1bmN0aW9uIChTaGFwZVR5cGUpIHtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiQmFsbFwiXSA9IDBdID0gXCJCYWxsXCI7XG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIkN1Ym9pZFwiXSA9IDFdID0gXCJDdWJvaWRcIjtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiQ2Fwc3VsZVwiXSA9IDJdID0gXCJDYXBzdWxlXCI7XG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIlNlZ21lbnRcIl0gPSAzXSA9IFwiU2VnbWVudFwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJQb2x5bGluZVwiXSA9IDRdID0gXCJQb2x5bGluZVwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJUcmlhbmdsZVwiXSA9IDVdID0gXCJUcmlhbmdsZVwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJUcmlNZXNoXCJdID0gNl0gPSBcIlRyaU1lc2hcIjtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiSGVpZ2h0RmllbGRcIl0gPSA3XSA9IFwiSGVpZ2h0RmllbGRcIjtcbiAgICAvLyBDb21wb3VuZCA9IDgsXG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIkNvbnZleFBvbHlnb25cIl0gPSA5XSA9IFwiQ29udmV4UG9seWdvblwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJSb3VuZEN1Ym9pZFwiXSA9IDEwXSA9IFwiUm91bmRDdWJvaWRcIjtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiUm91bmRUcmlhbmdsZVwiXSA9IDExXSA9IFwiUm91bmRUcmlhbmdsZVwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJSb3VuZENvbnZleFBvbHlnb25cIl0gPSAxMl0gPSBcIlJvdW5kQ29udmV4UG9seWdvblwiO1xufSkoU2hhcGVUeXBlIHx8IChTaGFwZVR5cGUgPSB7fSkpO1xuLy8gI2VuZGlmXG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIHNwaGVyZSBpbiAzRCBhbmQgYSBjaXJjbGUgaW4gMkQuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYWxsIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYmFsbCB3aXRoIHRoZSBnaXZlbiByYWRpdXMuXG4gICAgICogQHBhcmFtIHJhZGl1cyAtIFRoZSBiYWxscyByYWRpdXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmFkaXVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5CYWxsO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLmJhbGwodGhpcy5yYWRpdXMpO1xuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgYm94IGluIDNEIGFuZCBhIHJlY3RhbmdsZSBpbiAyRC5cbiAqL1xuZXhwb3J0IGNsYXNzIEN1Ym9pZCBleHRlbmRzIFNoYXBlIHtcbiAgICAvLyAjaWYgRElNMlxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgMkQgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSBoeCAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIGh5IC0gVGhlIGhlbGYgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaHgsIGh5KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5DdWJvaWQ7XG4gICAgICAgIHRoaXMuaGFsZkV4dGVudHMgPSBWZWN0b3JPcHMubmV3KGh4LCBoeSk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIC8vICNpZiBESU0yXG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5jdWJvaWQodGhpcy5oYWxmRXh0ZW50cy54LCB0aGlzLmhhbGZFeHRlbnRzLnkpO1xuICAgICAgICAvLyAjZW5kaWZcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIGJveCBpbiAzRCBhbmQgYSByZWN0YW5nbGUgaW4gMkQsIHdpdGggcm91bmQgY29ybmVycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJvdW5kQ3Vib2lkIGV4dGVuZHMgU2hhcGUge1xuICAgIC8vICNpZiBESU0yXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyAyRCByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIGh4IC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gaHkgLSBUaGUgaGVsZiBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIGN1Ym9pZC4gVGhpcyB3aWxsXG4gICAgICogICBlZmZlY3RpdmVseSBpbmNyZWFzZSB0aGUgaGFsZi1leHRlbnRzIG9mIHRoZSBjdWJvaWQgYnkgdGhpcyByYWRpdXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaHgsIGh5LCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLlJvdW5kQ3Vib2lkO1xuICAgICAgICB0aGlzLmhhbGZFeHRlbnRzID0gVmVjdG9yT3BzLm5ldyhoeCwgaHkpO1xuICAgICAgICB0aGlzLmJvcmRlclJhZGl1cyA9IGJvcmRlclJhZGl1cztcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgLy8gI2lmIERJTTJcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLnJvdW5kQ3Vib2lkKHRoaXMuaGFsZkV4dGVudHMueCwgdGhpcy5oYWxmRXh0ZW50cy55LCB0aGlzLmJvcmRlclJhZGl1cyk7XG4gICAgICAgIC8vICNlbmRpZlxuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgY2Fwc3VsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhcHN1bGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjYXBzdWxlIHdpdGggdGhlIGdpdmVuIHJhZGl1cyBhbmQgaGFsZi1oZWlnaHQuXG4gICAgICogQHBhcmFtIGhhbGZIZWlnaHQgLSBUaGUgYmFsbHMgaGFsZi1oZWlnaHQgYWxvbmcgdGhlIGB5YCBheGlzLlxuICAgICAqIEBwYXJhbSByYWRpdXMgLSBUaGUgYmFsbHMgcmFkaXVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGhhbGZIZWlnaHQsIHJhZGl1cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuQ2Fwc3VsZTtcbiAgICAgICAgdGhpcy5oYWxmSGVpZ2h0ID0gaGFsZkhlaWdodDtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5jYXBzdWxlKHRoaXMuaGFsZkhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgc2VnbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlZ21lbnQgZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzZWdtZW50IHNoYXBlLlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSBzZWdtZW50LlxuICAgICAqIEBwYXJhbSBiIC0gVGhlIHNlY29uZCBwb2ludCBvZiB0aGUgc2VnbWVudC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhLCBiKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5TZWdtZW50O1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICBsZXQgcmEgPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmEpO1xuICAgICAgICBsZXQgcmIgPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmIpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUmF3U2hhcGUuc2VnbWVudChyYSwgcmIpO1xuICAgICAgICByYS5mcmVlKCk7XG4gICAgICAgIHJiLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmlhbmdsZSBleHRlbmRzIFNoYXBlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRyaWFuZ2xlIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGEgLSBUaGUgZmlyc3QgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBiIC0gVGhlIHNlY29uZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUuXG4gICAgICogQHBhcmFtIGMgLSBUaGUgdGhpcmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGEsIGIsIGMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLlRyaWFuZ2xlO1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICBsZXQgcmEgPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmEpO1xuICAgICAgICBsZXQgcmIgPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmIpO1xuICAgICAgICBsZXQgcmMgPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmMpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUmF3U2hhcGUudHJpYW5nbGUocmEsIHJiLCByYyk7XG4gICAgICAgIHJhLmZyZWUoKTtcbiAgICAgICAgcmIuZnJlZSgpO1xuICAgICAgICByYy5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNoYXBlIHRoYXQgaXMgYSB0cmlhbmdsZSB3aXRoIHJvdW5kIGJvcmRlcnMgYW5kIGEgbm9uLXplcm8gdGhpY2tuZXNzLlxuICovXG5leHBvcnQgY2xhc3MgUm91bmRUcmlhbmdsZSBleHRlbmRzIFNoYXBlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRyaWFuZ2xlIHNoYXBlIHdpdGggcm91bmQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYiAtIFRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBjIC0gVGhlIHRoaXJkIHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIHRyaWFuZ2xlLiBJbiAzRCxcbiAgICAgKiAgIHRoaXMgaXMgYWxzbyBlcXVhbCB0byBoYWxmIHRoZSB0aGlja25lc3Mgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGEsIGIsIGMsIGJvcmRlclJhZGl1cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuUm91bmRUcmlhbmdsZTtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5ib3JkZXJSYWRpdXMgPSBib3JkZXJSYWRpdXM7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIGxldCByYSA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYSk7XG4gICAgICAgIGxldCByYiA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYik7XG4gICAgICAgIGxldCByYyA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYyk7XG4gICAgICAgIGxldCByZXN1bHQgPSBSYXdTaGFwZS5yb3VuZFRyaWFuZ2xlKHJhLCByYiwgcmMsIHRoaXMuYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmEuZnJlZSgpO1xuICAgICAgICByYi5mcmVlKCk7XG4gICAgICAgIHJjLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIHRyaWFuZ2xlIG1lc2guXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2x5bGluZSBleHRlbmRzIFNoYXBlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHBvbHlsaW5lIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2x5bGluZSdzIHZlcnRpY2VzLlxuICAgICAqIEBwYXJhbSBpbmRpY2VzIC0gVGhlIGluZGljZXMgb2YgdGhlIHBvbHlsaW5lJ3Mgc2VnbWVudHMuIElmIHRoaXMgaXMgYG51bGxgIG9yIG5vdCBwcm92aWRlZCwgdGhlblxuICAgICAqICAgIHRoZSB2ZXJ0aWNlcyBhcmUgYXNzdW1lZCB0byBmb3JtIGEgbGluZSBzdHJpcC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuUG9seWxpbmU7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcyAhPT0gbnVsbCAmJiBpbmRpY2VzICE9PSB2b2lkIDAgPyBpbmRpY2VzIDogbmV3IFVpbnQzMkFycmF5KDApO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUucG9seWxpbmUodGhpcy52ZXJ0aWNlcywgdGhpcy5pbmRpY2VzKTtcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIHRyaWFuZ2xlIG1lc2guXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmlNZXNoIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdHJpYW5nbGUgbWVzaCBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgdHJpYW5nbGUgbWVzaCdzIHZlcnRpY2VzLlxuICAgICAqIEBwYXJhbSBpbmRpY2VzIC0gVGhlIGluZGljZXMgb2YgdGhlIHRyaWFuZ2xlIG1lc2gncyB0cmlhbmdsZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLlRyaU1lc2g7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLnRyaW1lc2godGhpcy52ZXJ0aWNlcywgdGhpcy5pbmRpY2VzKTtcbiAgICB9XG59XG4vLyAjaWYgRElNMlxuLyoqXG4gKiBBIHNoYXBlIHRoYXQgaXMgYSBjb252ZXggcG9seWdvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbnZleFBvbHlnb24gZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb252ZXggcG9seWdvbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgY29udmV4IHBvbHlnb24ncyB2ZXJ0aWNlcy5cbiAgICAgKiBAcGFyYW0gc2tpcENvbnZleEh1bGxDb21wdXRhdGlvbiAtIElmIHNldCB0byBgdHJ1ZWAsIHRoZSBpbnB1dCBwb2ludHMgd2lsbFxuICAgICAqICAgYmUgYXNzdW1lZCB0byBmb3JtIGEgY29udmV4IHBvbHlsaW5lIGFuZCBubyBjb252ZXgtaHVsbCBjb21wdXRhdGlvbiB3aWxsXG4gICAgICogICBiZSBkb25lIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVydGljZXMsIHNraXBDb252ZXhIdWxsQ29tcHV0YXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLkNvbnZleFBvbHlnb247XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgdGhpcy5za2lwQ29udmV4SHVsbENvbXB1dGF0aW9uID0gISFza2lwQ29udmV4SHVsbENvbXB1dGF0aW9uO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICBpZiAodGhpcy5za2lwQ29udmV4SHVsbENvbXB1dGF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gUmF3U2hhcGUuY29udmV4UG9seWxpbmUodGhpcy52ZXJ0aWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUmF3U2hhcGUuY29udmV4SHVsbCh0aGlzLnZlcnRpY2VzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgY29udmV4IHBvbHlnb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3VuZENvbnZleFBvbHlnb24gZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb252ZXggcG9seWdvbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgY29udmV4IHBvbHlnb24ncyB2ZXJ0aWNlcy5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIGNvbnZleCBwb2x5Z29uLlxuICAgICAqIEBwYXJhbSBza2lwQ29udmV4SHVsbENvbXB1dGF0aW9uIC0gSWYgc2V0IHRvIGB0cnVlYCwgdGhlIGlucHV0IHBvaW50cyB3aWxsXG4gICAgICogICBiZSBhc3N1bWVkIHRvIGZvcm0gYSBjb252ZXggcG9seWxpbmUgYW5kIG5vIGNvbnZleC1odWxsIGNvbXB1dGF0aW9uIHdpbGxcbiAgICAgKiAgIGJlIGRvbmUgYXV0b21hdGljYWxseS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgYm9yZGVyUmFkaXVzLCBza2lwQ29udmV4SHVsbENvbXB1dGF0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5Sb3VuZENvbnZleFBvbHlnb247XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgdGhpcy5ib3JkZXJSYWRpdXMgPSBib3JkZXJSYWRpdXM7XG4gICAgICAgIHRoaXMuc2tpcENvbnZleEh1bGxDb21wdXRhdGlvbiA9ICEhc2tpcENvbnZleEh1bGxDb21wdXRhdGlvbjtcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgaWYgKHRoaXMuc2tpcENvbnZleEh1bGxDb21wdXRhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIFJhd1NoYXBlLnJvdW5kQ29udmV4UG9seWxpbmUodGhpcy52ZXJ0aWNlcywgdGhpcy5ib3JkZXJSYWRpdXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFJhd1NoYXBlLnJvdW5kQ29udmV4SHVsbCh0aGlzLnZlcnRpY2VzLCB0aGlzLmJvcmRlclJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIGhlaWdodGZpZWxkLlxuICovXG5leHBvcnQgY2xhc3MgSGVpZ2h0ZmllbGQgZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBoZWlnaHRmaWVsZCBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoZWlnaHRzIC0gVGhlIGhlaWdodHMgb2YgdGhlIGhlaWdodGZpZWxkLCBhbG9uZyBpdHMgbG9jYWwgYHlgIGF4aXMuXG4gICAgICogQHBhcmFtIHNjYWxlIC0gVGhlIHNjYWxlIGZhY3RvciBhcHBsaWVkIHRvIHRoZSBoZWlnaHRmaWVsZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihoZWlnaHRzLCBzY2FsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuSGVpZ2h0RmllbGQ7XG4gICAgICAgIHRoaXMuaGVpZ2h0cyA9IGhlaWdodHM7XG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgbGV0IHJhd1NjYWxlID0gVmVjdG9yT3BzLmludG9SYXcodGhpcy5zY2FsZSk7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IFJhd1NoYXBlLmhlaWdodGZpZWxkKHRoaXMuaGVpZ2h0cywgcmF3U2NhbGUpO1xuICAgICAgICByYXdTY2FsZS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByYXdTaGFwZTtcbiAgICB9XG59XG4vLyAjZW5kaWZcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXBlLmpzLm1hcCIsImltcG9ydCB7IFZlY3Rvck9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG4vKipcbiAqIFRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgYSBjb2xsaWRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFNoYXBlVE9JIHtcbiAgICBjb25zdHJ1Y3Rvcih0b2ksIHdpdG5lc3MxLCB3aXRuZXNzMiwgbm9ybWFsMSwgbm9ybWFsMikge1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICAgICAgdGhpcy53aXRuZXNzMSA9IHdpdG5lc3MxO1xuICAgICAgICB0aGlzLndpdG5lc3MyID0gd2l0bmVzczI7XG4gICAgICAgIHRoaXMubm9ybWFsMSA9IG5vcm1hbDE7XG4gICAgICAgIHRoaXMubm9ybWFsMiA9IG5vcm1hbDI7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmF3KGNvbGxpZGVyU2V0LCByYXcpIHtcbiAgICAgICAgaWYgKCFyYXcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNoYXBlVE9JKHJhdy50b2koKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LndpdG5lc3MxKCkpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcud2l0bmVzczIoKSksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy5ub3JtYWwxKCkpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsMigpKSk7XG4gICAgICAgIHJhdy5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSByYXkgYW5kIGEgY29sbGlkZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFwZUNvbGxpZGVyVE9JIGV4dGVuZHMgU2hhcGVUT0kge1xuICAgIGNvbnN0cnVjdG9yKGNvbGxpZGVyLCB0b2ksIHdpdG5lc3MxLCB3aXRuZXNzMiwgbm9ybWFsMSwgbm9ybWFsMikge1xuICAgICAgICBzdXBlcih0b2ksIHdpdG5lc3MxLCB3aXRuZXNzMiwgbm9ybWFsMSwgbm9ybWFsMik7XG4gICAgICAgIHRoaXMuY29sbGlkZXIgPSBjb2xsaWRlcjtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU2hhcGVDb2xsaWRlclRPSShjb2xsaWRlclNldC5nZXQocmF3LmNvbGxpZGVySGFuZGxlKCkpLCByYXcudG9pKCksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy53aXRuZXNzMSgpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LndpdG5lc3MyKCkpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsMSgpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3Lm5vcm1hbDIoKSkpO1xuICAgICAgICByYXcuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvaS5qcy5tYXAiLCJpbXBvcnQgeyBSYXdWZWN0b3IsIFJhd1JvdGF0aW9uIH0gZnJvbSBcIi4vcmF3XCI7XG4vKipcbiAqIEEgMkQgdmVjdG9yLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yMiB7XG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBWZWN0b3JPcHMge1xuICAgIHN0YXRpYyBuZXcoeCwgeSkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoeCwgeSk7XG4gICAgfVxuICAgIHN0YXRpYyB6ZXJvcygpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5uZXcoMC4wLCAwLjApO1xuICAgIH1cbiAgICAvLyBGSVhNRTogdHlwZSByYW06IFJhd1ZlY3Rvcj9cbiAgICBzdGF0aWMgZnJvbVJhdyhyYXcpIHtcbiAgICAgICAgaWYgKCFyYXcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHJlcyA9IFZlY3Rvck9wcy5uZXcocmF3LngsIHJhdy55KTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgc3RhdGljIGludG9SYXcodikge1xuICAgICAgICByZXR1cm4gbmV3IFJhd1ZlY3Rvcih2LngsIHYueSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJvdGF0aW9uT3BzIHtcbiAgICBzdGF0aWMgaWRlbnRpdHkoKSB7XG4gICAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmF3KHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgcmVzID0gcmF3LmFuZ2xlO1xuICAgICAgICByYXcuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBzdGF0aWMgaW50b1JhdyhhbmdsZSkge1xuICAgICAgICByZXR1cm4gUmF3Um90YXRpb24uZnJvbUFuZ2xlKGFuZ2xlKTtcbiAgICB9XG59XG4vLyAjZW5kaWZcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGguanMubWFwIiwiaW1wb3J0IHsgUmF3RGVidWdSZW5kZXJQaXBlbGluZSwgfSBmcm9tIFwiLi4vcmF3XCI7XG4vKipcbiAqIFRoZSB2ZXJ0ZXggYW5kIGNvbG9yIGJ1ZmZlcnMgZm9yIGRlYnVnLXJlZGVyaW5nIHRoZSBwaHlzaWNzIHNjZW5lLlxuICovXG5leHBvcnQgY2xhc3MgRGVidWdSZW5kZXJCdWZmZXJzIHtcbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgY29sb3JzKSB7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBjb2xvcnM7XG4gICAgfVxufVxuLyoqXG4gKiBBIHBpcGVsaW5lIGZvciByZW5kZXJpbmcgdGhlIHBoeXNpY3Mgc2NlbmUuXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGRlYnVnUmVuZGVyUGlwZWxpbmUuZnJlZSgpYFxuICogb25jZSB5b3UgYXJlIGRvbmUgdXNpbmcgaXQgKGFuZCBhbGwgdGhlIHJpZ2lkLWJvZGllcyBpdCBjcmVhdGVkKS5cbiAqL1xuZXhwb3J0IGNsYXNzIERlYnVnUmVuZGVyUGlwZWxpbmUge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3RGVidWdSZW5kZXJQaXBlbGluZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIHNlcmlhbGl6YXRpb24gcGlwZWxpbmUuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJlbmRlcihib2RpZXMsIGNvbGxpZGVycywgaW1wdWxzZV9qb2ludHMsIG11bHRpYm9keV9qb2ludHMsIG5hcnJvd19waGFzZSkge1xuICAgICAgICB0aGlzLnJhdy5yZW5kZXIoYm9kaWVzLnJhdywgY29sbGlkZXJzLnJhdywgaW1wdWxzZV9qb2ludHMucmF3LCBtdWx0aWJvZHlfam9pbnRzLnJhdywgbmFycm93X3BoYXNlLnJhdyk7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB0aGlzLnJhdy52ZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IHRoaXMucmF3LmNvbG9ycygpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYnVnX3JlbmRlcl9waXBlbGluZS5qcy5tYXAiLCJpbXBvcnQgeyBSYXdFdmVudFF1ZXVlIH0gZnJvbSAnLi4vcmF3Jztcbi8vLyBGbGFncyBpbmRpY2F0aW5nIHdoYXQgZXZlbnRzIGFyZSBlbmFibGVkIGZvciBjb2xsaWRlcnMuXG5leHBvcnQgdmFyIEFjdGl2ZUV2ZW50cztcbihmdW5jdGlvbiAoQWN0aXZlRXZlbnRzKSB7XG4gICAgLy8vIEVuYWJsZSBjb2xsaXNpb24gZXZlbnRzLlxuICAgIEFjdGl2ZUV2ZW50c1tBY3RpdmVFdmVudHNbXCJDT0xMSVNJT05fRVZFTlRTXCJdID0gMV0gPSBcIkNPTExJU0lPTl9FVkVOVFNcIjtcbn0pKEFjdGl2ZUV2ZW50cyB8fCAoQWN0aXZlRXZlbnRzID0ge30pKTtcbi8qKlxuICogQSBzdHJ1Y3R1cmUgcmVzcG9uc2libGUgZm9yIGNvbGxlY3RpbmcgZXZlbnRzIGdlbmVyYXRlZFxuICogYnkgdGhlIHBoeXNpY3MgZW5naW5lLlxuICpcbiAqIFRvIGF2b2lkIGxlYWtpbmcgV0FTTSByZXNvdXJjZXMsIHRoaXMgTVVTVCBiZSBmcmVlZCBtYW51YWxseSB3aXRoIGBldmVudFF1ZXVlLmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0LlxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRRdWV1ZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBldmVudCBjb2xsZWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXV0b0RyYWluIC1zZXR0aW5nIHRoaXMgdG8gYHRydWVgIGlzIHN0cm9uZ2x5IHJlY29tbWVuZGVkLiBJZiB0cnVlLCB0aGUgY29sbGVjdG9yIHdpbGxcbiAgICAgKiBiZSBhdXRvbWF0aWNhbGx5IGRyYWluZWQgYmVmb3JlIGVhY2ggYHdvcmxkLnN0ZXAoY29sbGVjdG9yKWAuIElmIGZhbHNlLCB0aGUgY29sbGVjdG9yIHdpbGxcbiAgICAgKiBrZWVwIGFsbCBldmVudHMgaW4gbWVtb3J5IHVubGVzcyBpdCBpcyBtYW51YWxseSBkcmFpbmVkL2NsZWFyZWQ7IHRoaXMgbWF5IGxlYWQgdG8gdW5ib3VuZGVkIHVzZSBvZlxuICAgICAqIFJBTSBpZiBubyBkcmFpbiBpcyBwZXJmb3JtZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXV0b0RyYWluLCByYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd0V2ZW50UXVldWUoYXV0b0RyYWluKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV0FTTSBtZW1vcnkgb2NjdXBpZWQgYnkgdGhpcyBldmVudC1xdWV1ZS5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBqYXZhc2NyaXB0IGNsb3N1cmUgb24gZWFjaCBjb2xsaXNpb24gZXZlbnQgb2YgdGhpcyBjb2xsZWN0b3IsIHRoZW4gY2xlYXJcbiAgICAgKiB0aGUgaW50ZXJuYWwgY29sbGlzaW9uIGV2ZW50IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmIC0gSmF2YVNjcmlwdCBjbG9zdXJlIGFwcGxpZWQgdG8gZWFjaCBjb2xsaXNpb24gZXZlbnQuIFRoZVxuICAgICAqIGNsb3N1cmUgbXVzdCB0YWtlIHRocmVlIGFyZ3VtZW50czogdHdvIGludGVnZXJzIHJlcHJlc2VudGluZyB0aGUgaGFuZGxlcyBvZiB0aGUgY29sbGlkZXJzXG4gICAgICogaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbiwgYW5kIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBjb2xsaXNpb24gc3RhcnRlZCAodHJ1ZSkgb3Igc3RvcHBlZFxuICAgICAqIChmYWxzZSkuXG4gICAgICovXG4gICAgZHJhaW5Db2xsaXNpb25FdmVudHMoZikge1xuICAgICAgICB0aGlzLnJhdy5kcmFpbkNvbGxpc2lvbkV2ZW50cyhmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZXZlbnRzIGNvbnRhaW5lZCBieSB0aGlzIGNvbGxlY3RvclxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnJhdy5jbGVhcigpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50X3F1ZXVlLmpzLm1hcCIsImV4cG9ydCB2YXIgQWN0aXZlSG9va3M7XG4oZnVuY3Rpb24gKEFjdGl2ZUhvb2tzKSB7XG4gICAgQWN0aXZlSG9va3NbQWN0aXZlSG9va3NbXCJGSUxURVJfQ09OVEFDVF9QQUlSU1wiXSA9IDFdID0gXCJGSUxURVJfQ09OVEFDVF9QQUlSU1wiO1xuICAgIEFjdGl2ZUhvb2tzW0FjdGl2ZUhvb2tzW1wiRklMVEVSX0lOVEVSU0VDVElPTl9QQUlSU1wiXSA9IDJdID0gXCJGSUxURVJfSU5URVJTRUNUSU9OX1BBSVJTXCI7XG4gICAgLy8gTU9ESUZZX1NPTFZFUl9DT05UQUNUUyA9IDBiMDEwMCwgLyogTm90IHN1cHBvcnRlZCB5ZXQgaW4gSlMuICovXG59KShBY3RpdmVIb29rcyB8fCAoQWN0aXZlSG9va3MgPSB7fSkpO1xuZXhwb3J0IHZhciBTb2x2ZXJGbGFncztcbihmdW5jdGlvbiAoU29sdmVyRmxhZ3MpIHtcbiAgICBTb2x2ZXJGbGFnc1tTb2x2ZXJGbGFnc1tcIkVNUFRZXCJdID0gMF0gPSBcIkVNUFRZXCI7XG4gICAgU29sdmVyRmxhZ3NbU29sdmVyRmxhZ3NbXCJDT01QVVRFX0lNUFVMU0VcIl0gPSAxXSA9IFwiQ09NUFVURV9JTVBVTFNFXCI7XG59KShTb2x2ZXJGbGFncyB8fCAoU29sdmVyRmxhZ3MgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGh5c2ljc19ob29rcy5qcy5tYXAiLCJpbXBvcnQgeyBSYXdQaHlzaWNzUGlwZWxpbmUgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBWZWN0b3JPcHMgfSBmcm9tIFwiLi4vbWF0aFwiO1xuZXhwb3J0IGNsYXNzIFBoeXNpY3NQaXBlbGluZSB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdQaHlzaWNzUGlwZWxpbmUoKTtcbiAgICB9XG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc3RlcChncmF2aXR5LCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMsIGlzbGFuZHMsIGJyb2FkUGhhc2UsIG5hcnJvd1BoYXNlLCBib2RpZXMsIGNvbGxpZGVycywgaW1wdWxzZUpvaW50cywgbXVsdGlib2R5Sm9pbnRzLCBjY2RTb2x2ZXIsIGV2ZW50UXVldWUsIGhvb2tzKSB7XG4gICAgICAgIGxldCByYXdHID0gVmVjdG9yT3BzLmludG9SYXcoZ3Jhdml0eSk7XG4gICAgICAgIGlmICghIWV2ZW50UXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMucmF3LnN0ZXBXaXRoRXZlbnRzKHJhd0csIGludGVncmF0aW9uUGFyYW1ldGVycy5yYXcsIGlzbGFuZHMucmF3LCBicm9hZFBoYXNlLnJhdywgbmFycm93UGhhc2UucmF3LCBib2RpZXMucmF3LCBjb2xsaWRlcnMucmF3LCBpbXB1bHNlSm9pbnRzLnJhdywgbXVsdGlib2R5Sm9pbnRzLnJhdywgY2NkU29sdmVyLnJhdywgZXZlbnRRdWV1ZS5yYXcsIGhvb2tzLCAhIWhvb2tzID8gaG9va3MuZmlsdGVyQ29udGFjdFBhaXIgOiBudWxsLCAhIWhvb2tzID8gaG9va3MuZmlsdGVySW50ZXJzZWN0aW9uUGFpciA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYXcuc3RlcChyYXdHLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucmF3LCBpc2xhbmRzLnJhdywgYnJvYWRQaGFzZS5yYXcsIG5hcnJvd1BoYXNlLnJhdywgYm9kaWVzLnJhdywgY29sbGlkZXJzLnJhdywgaW1wdWxzZUpvaW50cy5yYXcsIG11bHRpYm9keUpvaW50cy5yYXcsIGNjZFNvbHZlci5yYXcpO1xuICAgICAgICB9XG4gICAgICAgIHJhd0cuZnJlZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBoeXNpY3NfcGlwZWxpbmUuanMubWFwIiwiaW1wb3J0IHsgUmF3UXVlcnlQaXBlbGluZSB9IGZyb20gXCIuLi9yYXdcIjtcbmltcG9ydCB7IFBvaW50Q29sbGlkZXJQcm9qZWN0aW9uLCBSYXlDb2xsaWRlckludGVyc2VjdGlvbiwgUmF5Q29sbGlkZXJUb2ksIFNoYXBlQ29sbGlkZXJUT0kgfSBmcm9tIFwiLi4vZ2VvbWV0cnlcIjtcbmltcG9ydCB7IFJvdGF0aW9uT3BzLCBWZWN0b3JPcHMgfSBmcm9tIFwiLi4vbWF0aFwiO1xuLyoqXG4gKiBBIHBpcGVsaW5lIGZvciBwZXJmb3JtaW5nIHF1ZXJpZXMgb24gYWxsIHRoZSBjb2xsaWRlcnMgb2YgYSBzY2VuZS5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgcXVlcnlQaXBlbGluZS5mcmVlKClgXG4gKiBvbmNlIHlvdSBhcmUgZG9uZSB1c2luZyBpdCAoYW5kIGFsbCB0aGUgcmlnaWQtYm9kaWVzIGl0IGNyZWF0ZWQpLlxuICovXG5leHBvcnQgY2xhc3MgUXVlcnlQaXBlbGluZSB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdRdWVyeVBpcGVsaW5lKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgcXVlcnkgcGlwZWxpbmUuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYWNjZWxlcmF0aW9uIHN0cnVjdHVyZSBvZiB0aGUgcXVlcnkgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIGJvZGllcyAtIFRoZSBzZXQgb2YgcmlnaWQtYm9kaWVzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICovXG4gICAgdXBkYXRlKGlzbGFuZHMsIGJvZGllcywgY29sbGlkZXJzKSB7XG4gICAgICAgIHRoaXMucmF3LnVwZGF0ZShpc2xhbmRzLnJhdywgYm9kaWVzLnJhdywgY29sbGlkZXJzLnJhdyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGNsb3Nlc3QgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSByYXkgYW5kIGEgc2V0IG9mIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFVzZWQgdG8gZmlsdGVyIHRoZSBjb2xsaWRlcnMgdGhhdCBjYW4gb3IgY2Fubm90IGJlIGhpdCBieSB0aGUgcmF5LlxuICAgICAqIEBwYXJhbSBmaWx0ZXIgLSBUaGUgY2FsbGJhY2sgdG8gZmlsdGVyIG91dCB3aGljaCBjb2xsaWRlciB3aWxsIGJlIGhpdC5cbiAgICAgKi9cbiAgICBjYXN0UmF5KGNvbGxpZGVycywgcmF5LCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGZpbHRlcikge1xuICAgICAgICBsZXQgcmF3T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByZXN1bHQgPSBSYXlDb2xsaWRlclRvaS5mcm9tUmF3KGNvbGxpZGVycywgdGhpcy5yYXcuY2FzdFJheShjb2xsaWRlcnMucmF3LCByYXdPcmlnLCByYXdEaXIsIG1heFRvaSwgc29saWQsIGdyb3VwcywgZmlsdGVyKSk7XG4gICAgICAgIHJhd09yaWcuZnJlZSgpO1xuICAgICAgICByYXdEaXIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBjbG9zZXN0IGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgcmF5IGFuZCBhIHNldCBvZiBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIFRoaXMgYWxzbyBjb21wdXRlcyB0aGUgbm9ybWFsIGF0IHRoZSBoaXQgcG9pbnQuXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFVzZWQgdG8gZmlsdGVyIHRoZSBjb2xsaWRlcnMgdGhhdCBjYW4gb3IgY2Fubm90IGJlIGhpdCBieSB0aGUgcmF5LlxuICAgICAqL1xuICAgIGNhc3RSYXlBbmRHZXROb3JtYWwoY29sbGlkZXJzLCByYXksIG1heFRvaSwgc29saWQsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIGxldCByYXdPcmlnID0gVmVjdG9yT3BzLmludG9SYXcocmF5Lm9yaWdpbik7XG4gICAgICAgIGxldCByYXdEaXIgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkuZGlyKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFJheUNvbGxpZGVySW50ZXJzZWN0aW9uLmZyb21SYXcoY29sbGlkZXJzLCB0aGlzLnJhdy5jYXN0UmF5QW5kR2V0Tm9ybWFsKGNvbGxpZGVycy5yYXcsIHJhd09yaWcsIHJhd0RpciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpKTtcbiAgICAgICAgcmF3T3JpZy5mcmVlKCk7XG4gICAgICAgIHJhd0Rpci5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc3QgYSByYXkgYW5kIGNvbGxlY3RzIGFsbCB0aGUgaW50ZXJzZWN0aW9ucyBiZXR3ZWVuIGEgcmF5IGFuZCB0aGUgc2NlbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXJzIC0gVGhlIHNldCBvZiBjb2xsaWRlcnMgdGFraW5nIHBhcnQgaW4gdGhpcyBwaXBlbGluZS5cbiAgICAgKiBAcGFyYW0gcmF5IC0gVGhlIHJheSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgbGVuZ3RoIG9mIHRoZSByYXkgdG8gYHJheS5kaXIubm9ybSgpICogbWF4VG9pYC5cbiAgICAgKiBAcGFyYW0gc29saWQgLSBJZiBgZmFsc2VgIHRoZW4gdGhlIHJheSB3aWxsIGF0dGVtcHQgdG8gaGl0IHRoZSBib3VuZGFyeSBvZiBhIHNoYXBlLCBldmVuIGlmIGl0c1xuICAgICAqICAgb3JpZ2luIGFscmVhZHkgbGllcyBpbnNpZGUgb2YgYSBzaGFwZS4gSW4gb3RoZXIgdGVybXMsIGB0cnVlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgcGxhaW4sXG4gICAgICogICB3aGVyZWFzIGBmYWxzZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIGhvbGxvdyBmb3IgdGhpcyByYXktY2FzdC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVXNlZCB0byBmaWx0ZXIgdGhlIGNvbGxpZGVycyB0aGF0IGNhbiBvciBjYW5ub3QgYmUgaGl0IGJ5IHRoZSByYXkuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGNhbGxlZCBvbmNlIHBlciBoaXQgKGluIG5vIHBhcnRpY3VsYXIgb3JkZXIpIGJldHdlZW4gYSByYXkgYW5kIGEgY29sbGlkZXIuXG4gICAgICogICBJZiB0aGlzIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYCwgdGhlbiB0aGUgY2FzdCB3aWxsIHN0b3AgYW5kIG5vIGZ1cnRoZXIgaGl0cyB3aWxsIGJlIGRldGVjdGVkL3JlcG9ydGVkLlxuICAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoUmF5KGNvbGxpZGVycywgcmF5LCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgbGV0IHJhd09yaWcgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkub3JpZ2luKTtcbiAgICAgICAgbGV0IHJhd0RpciA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5kaXIpO1xuICAgICAgICBsZXQgcmF3Q2FsbGJhY2sgPSAocmF3SW50ZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhSYXlDb2xsaWRlckludGVyc2VjdGlvbi5mcm9tUmF3KGNvbGxpZGVycywgcmF3SW50ZXIpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yYXcuaW50ZXJzZWN0aW9uc1dpdGhSYXkoY29sbGlkZXJzLnJhdywgcmF3T3JpZywgcmF3RGlyLCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIHJhd0NhbGxiYWNrLCBmaWx0ZXIpO1xuICAgICAgICByYXdPcmlnLmZyZWUoKTtcbiAgICAgICAgcmF3RGlyLmZyZWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFuZGxlIG9mIHVwIHRvIG9uZSBjb2xsaWRlciBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIHNoYXBlUG9zIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBzaGFwZSB1c2VkIGZvciB0aGUgaW50ZXJzZWN0aW9uIHRlc3QuXG4gICAgICogQHBhcmFtIHNoYXBlUm90IC0gVGhlIG9yaWVudGF0aW9uIG9mIHRoZSBzaGFwZSB1c2VkIGZvciB0aGUgaW50ZXJzZWN0aW9uIHRlc3QuXG4gICAgICogQHBhcmFtIHNoYXBlIC0gVGhlIHNoYXBlIHVzZWQgZm9yIHRoZSBpbnRlcnNlY3Rpb24gdGVzdC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVGhlIGJpdCBncm91cHMgYW5kIGZpbHRlciBhc3NvY2lhdGVkIHRvIHRoZSByYXksIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIGhpdCB0aGUgY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhlIHJheSdzIGdyb3VwLlxuICAgICAqL1xuICAgIGludGVyc2VjdGlvbldpdGhTaGFwZShjb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIGxldCByYXdQb3MgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvcyk7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90KTtcbiAgICAgICAgbGV0IHJhd1NoYXBlID0gc2hhcGUuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5yYXcuaW50ZXJzZWN0aW9uV2l0aFNoYXBlKGNvbGxpZGVycy5yYXcsIHJhd1BvcywgcmF3Um90LCByYXdTaGFwZSwgZ3JvdXBzLCBmaWx0ZXIpO1xuICAgICAgICByYXdQb3MuZnJlZSgpO1xuICAgICAgICByYXdSb3QuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHByb2plY3Rpb24gb2YgYSBwb2ludCBvbiB0aGUgY2xvc2VzdCBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBwcm9qZWN0LlxuICAgICAqIEBwYXJhbSBzb2xpZCAtIElmIHRoaXMgaXMgc2V0IHRvIGB0cnVlYCB0aGVuIHRoZSBjb2xsaWRlciBzaGFwZXMgYXJlIGNvbnNpZGVyZWQgdG9cbiAgICAgKiAgIGJlIHBsYWluIChpZiB0aGUgcG9pbnQgaXMgbG9jYXRlZCBpbnNpZGUgb2YgYSBwbGFpbiBzaGFwZSwgaXRzIHByb2plY3Rpb24gaXMgdGhlIHBvaW50XG4gICAgICogICBpdHNlbGYpLiBJZiBpdCBpcyBzZXQgdG8gYGZhbHNlYCB0aGUgY29sbGlkZXIgc2hhcGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGhvbGxvd1xuICAgICAqICAgKGlmIHRoZSBwb2ludCBpcyBsb2NhdGVkIGluc2lkZSBvZiBhbiBob2xsb3cgc2hhcGUsIGl0IGlzIHByb2plY3RlZCBvbiB0aGUgc2hhcGUnc1xuICAgICAqICAgYm91bmRhcnkpLlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHBvaW50IHRvIHByb2plY3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHByb2plY3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhlIHJheSdzIGdyb3VwLlxuICAgICAqL1xuICAgIHByb2plY3RQb2ludChjb2xsaWRlcnMsIHBvaW50LCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgbGV0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUG9pbnRDb2xsaWRlclByb2plY3Rpb24uZnJvbVJhdyhjb2xsaWRlcnMsIHRoaXMucmF3LnByb2plY3RQb2ludChjb2xsaWRlcnMucmF3LCByYXdQb2ludCwgc29saWQsIGdyb3VwcywgZmlsdGVyKSk7XG4gICAgICAgIHJhd1BvaW50LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgcHJvamVjdGlvbiBvZiBhIHBvaW50IG9uIHRoZSBjbG9zZXN0IGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIHBvaW50IC0gVGhlIHBvaW50IHRvIHByb2plY3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgcG9pbnQgdG8gcHJvamVjdCwgaW4gb3JkZXIgdG8gb25seVxuICAgICAqICAgcHJvamVjdCBvbiBjb2xsaWRlcnMgd2l0aCBjb2xsaXNpb24gZ3JvdXBzIGNvbXBhdGlibGUgd2l0aCB0aGUgcmF5J3MgZ3JvdXAuXG4gICAgICovXG4gICAgcHJvamVjdFBvaW50QW5kR2V0RmVhdHVyZShjb2xsaWRlcnMsIHBvaW50LCBncm91cHMpIHtcbiAgICAgICAgbGV0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUG9pbnRDb2xsaWRlclByb2plY3Rpb24uZnJvbVJhdyhjb2xsaWRlcnMsIHRoaXMucmF3LnByb2plY3RQb2ludEFuZEdldEZlYXR1cmUoY29sbGlkZXJzLnJhdywgcmF3UG9pbnQsIGdyb3VwcykpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgYWxsIHRoZSBjb2xsaWRlcnMgY29udGFpbmluZyB0aGUgZ2l2ZW4gcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXJzIC0gVGhlIHNldCBvZiBjb2xsaWRlcnMgdGFraW5nIHBhcnQgaW4gdGhpcyBwaXBlbGluZS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdXNlZCBmb3IgdGhlIGNvbnRhaW5tZW50IHRlc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgcG9pbnQgdG8gdGVzdCwgaW4gb3JkZXIgdG8gb25seVxuICAgICAqICAgdGVzdCBvbiBjb2xsaWRlcnMgd2l0aCBjb2xsaXNpb24gZ3JvdXBzIGNvbXBhdGlibGUgd2l0aCB0aGUgcmF5J3MgZ3JvdXAuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gQSBmdW5jdGlvbiBjYWxsZWQgd2l0aCB0aGUgaGFuZGxlcyBvZiBlYWNoIGNvbGxpZGVyIHdpdGggYSBzaGFwZVxuICAgICAqICAgY29udGFpbmluZyB0aGUgYHBvaW50YC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25zV2l0aFBvaW50KGNvbGxpZGVycywgcG9pbnQsIGdyb3VwcywgY2FsbGJhY2ssIGZpbHRlcikge1xuICAgICAgICBsZXQgcmF3UG9pbnQgPSBWZWN0b3JPcHMuaW50b1Jhdyhwb2ludCk7XG4gICAgICAgIHRoaXMucmF3LmludGVyc2VjdGlvbnNXaXRoUG9pbnQoY29sbGlkZXJzLnJhdywgcmF3UG9pbnQsIGdyb3VwcywgY2FsbGJhY2ssIGZpbHRlcik7XG4gICAgICAgIHJhd1BvaW50LmZyZWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FzdHMgYSBzaGFwZSBhdCBhIGNvbnN0YW50IGxpbmVhciB2ZWxvY2l0eSBhbmQgcmV0cmlldmUgdGhlIGZpcnN0IGNvbGxpZGVyIGl0IGhpdHMuXG4gICAgICogVGhpcyBpcyBzaW1pbGFyIHRvIHJheS1jYXN0aW5nIGV4Y2VwdCB0aGF0IHdlIGFyZSBjYXN0aW5nIGEgd2hvbGUgc2hhcGUgaW5zdGVhZCBvZlxuICAgICAqIGp1c3QgYSBwb2ludCAodGhlIHJheSBvcmlnaW4pLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIHNoYXBlUG9zIC0gVGhlIGluaXRpYWwgcG9zaXRpb24gb2YgdGhlIHNoYXBlIHRvIGNhc3QuXG4gICAgICogQHBhcmFtIHNoYXBlUm90IC0gVGhlIGluaXRpYWwgcm90YXRpb24gb2YgdGhlIHNoYXBlIHRvIGNhc3QuXG4gICAgICogQHBhcmFtIHNoYXBlVmVsIC0gVGhlIGNvbnN0YW50IHZlbG9jaXR5IG9mIHRoZSBzaGFwZSB0byBjYXN0IChpLmUuIHRoZSBjYXN0IGRpcmVjdGlvbikuXG4gICAgICogQHBhcmFtIHNoYXBlIC0gVGhlIHNoYXBlIHRvIGNhc3QuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUtb2YtaW1wYWN0IHRoYXQgY2FuIGJlIHJlcG9ydGVkIGJ5IHRoaXMgY2FzdC4gVGhpcyBlZmZlY3RpdmVseVxuICAgICAqICAgbGltaXRzIHRoZSBkaXN0YW5jZSB0cmF2ZWxlZCBieSB0aGUgc2hhcGUgdG8gYHNoYXBlVmVsLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgc2hhcGUgdG8gY2FzdCwgaW4gb3JkZXIgdG8gb25seVxuICAgICAqICAgdGVzdCBvbiBjb2xsaWRlcnMgd2l0aCBjb2xsaXNpb24gZ3JvdXBzIGNvbXBhdGlibGUgd2l0aCB0aGlzIGdyb3VwLlxuICAgICAqL1xuICAgIGNhc3RTaGFwZShjb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGVWZWwsIHNoYXBlLCBtYXhUb2ksIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIGxldCByYXdQb3MgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvcyk7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90KTtcbiAgICAgICAgbGV0IHJhd1ZlbCA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlVmVsKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlID0gc2hhcGUuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gU2hhcGVDb2xsaWRlclRPSS5mcm9tUmF3KGNvbGxpZGVycywgdGhpcy5yYXcuY2FzdFNoYXBlKGNvbGxpZGVycy5yYXcsIHJhd1BvcywgcmF3Um90LCByYXdWZWwsIHJhd1NoYXBlLCBtYXhUb2ksIGdyb3VwcywgZmlsdGVyKSk7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1ZlbC5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYWxsIHRoZSBjb2xsaWRlcnMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSBzaGFwZVBvcyAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2hhcGUgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QgLSBUaGUgb3JpZW50YXRpb24gb2YgdGhlIHNoYXBlIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHNoYXBlIC0gVGhlIHNoYXBlIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgc2hhcGUgdG8gdGVzdCwgaW4gb3JkZXIgdG8gb25seVxuICAgICAqICAgdGVzdCBvbiBjb2xsaWRlcnMgd2l0aCBjb2xsaXNpb24gZ3JvdXBzIGNvbXBhdGlibGUgd2l0aCB0aGlzIGdyb3VwLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEEgZnVuY3Rpb24gY2FsbGVkIHdpdGggdGhlIGhhbmRsZXMgb2YgZWFjaCBjb2xsaWRlciBpbnRlcnNlY3RpbmcgdGhlIGBzaGFwZWAuXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGhTaGFwZShjb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgY2FsbGJhY2ssIGZpbHRlcikge1xuICAgICAgICBsZXQgcmF3UG9zID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVQb3MpO1xuICAgICAgICBsZXQgcmF3Um90ID0gUm90YXRpb25PcHMuaW50b1JhdyhzaGFwZVJvdCk7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHNoYXBlLmludG9SYXcoKTtcbiAgICAgICAgdGhpcy5yYXcuaW50ZXJzZWN0aW9uc1dpdGhTaGFwZShjb2xsaWRlcnMucmF3LCByYXdQb3MsIHJhd1JvdCwgcmF3U2hhcGUsIGdyb3VwcywgY2FsbGJhY2ssIGZpbHRlcik7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlLmZyZWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGhhbmRsZXMgb2YgYWxsIHRoZSBjb2xsaWRlcnMgd2l0aCBhbiBBQUJCIGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gQUFCQi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhYWJiQ2VudGVyIC0gVGhlIGNlbnRlciBvZiB0aGUgQUFCQiB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSBhYWJiSGFsZkV4dGVudHMgLSBUaGUgaGFsZi1leHRlbnRzIG9mIHRoZSBBQUJCIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgaGFuZGxlcyBvZiBhbGwgdGhlIGNvbGxpZGVyc1xuICAgICAqICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseSBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIEFBQkIuXG4gICAgICovXG4gICAgY29sbGlkZXJzV2l0aEFhYmJJbnRlcnNlY3RpbmdBYWJiKGFhYmJDZW50ZXIsIGFhYmJIYWxmRXh0ZW50cywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHJhd0NlbnRlciA9IFZlY3Rvck9wcy5pbnRvUmF3KGFhYmJDZW50ZXIpO1xuICAgICAgICBsZXQgcmF3SGFsZkV4dGVudHMgPSBWZWN0b3JPcHMuaW50b1JhdyhhYWJiSGFsZkV4dGVudHMpO1xuICAgICAgICB0aGlzLnJhdy5jb2xsaWRlcnNXaXRoQWFiYkludGVyc2VjdGluZ0FhYmIocmF3Q2VudGVyLCByYXdIYWxmRXh0ZW50cywgY2FsbGJhY2spO1xuICAgICAgICByYXdDZW50ZXIuZnJlZSgpO1xuICAgICAgICByYXdIYWxmRXh0ZW50cy5mcmVlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnlfcGlwZWxpbmUuanMubWFwIiwiaW1wb3J0IHsgUmF3U2VyaWFsaXphdGlvblBpcGVsaW5lLCB9IGZyb20gXCIuLi9yYXdcIjtcbmltcG9ydCB7IFZlY3Rvck9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gXCIuL3dvcmxkXCI7XG4vKipcbiAqIEEgcGlwZWxpbmUgZm9yIHNlcmlhbGl6aW5nIHRoZSBwaHlzaWNzIHNjZW5lLlxuICpcbiAqIFRvIGF2b2lkIGxlYWtpbmcgV0FTTSByZXNvdXJjZXMsIHRoaXMgTVVTVCBiZSBmcmVlZCBtYW51YWxseSB3aXRoIGBxdWVyeVBpcGVsaW5lLmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0IChhbmQgYWxsIHRoZSByaWdpZC1ib2RpZXMgaXQgY3JlYXRlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJpYWxpemF0aW9uUGlwZWxpbmUge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3U2VyaWFsaXphdGlvblBpcGVsaW5lKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgc2VyaWFsaXphdGlvbiBwaXBlbGluZS5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgYSBjb21wbGV0ZSBwaHlzaWNzIHN0YXRlIGludG8gYSBzaW5nbGUgYnl0ZSBhcnJheS5cbiAgICAgKiBAcGFyYW0gZ3Jhdml0eSAtIFRoZSBjdXJyZW50IGdyYXZpdHkgYWZmZWN0aW5nIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvblBhcmFtZXRlcnMgLSBUaGUgaW50ZWdyYXRpb24gcGFyYW1ldGVycyBvZiB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gYnJvYWRQaGFzZSAtIFRoZSBicm9hZC1waGFzZSBvZiB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gbmFycm93UGhhc2UgLSBUaGUgbmFycm93LXBoYXNlIG9mIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEBwYXJhbSBib2RpZXMgLSBUaGUgcmlnaWQtYm9kaWVzIHRha2luZyBwYXJ0IGludG8gdGhlIHNpbXVsYXRpb24uXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBjb2xsaWRlcnMgdGFraW5nIHBhcnQgaW50byB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gaW1wdWxzZUpvaW50cyAtIFRoZSBpbXB1bHNlIGpvaW50cyB0YWtpbmcgcGFydCBpbnRvIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEBwYXJhbSBtdWx0aWJvZHlKb2ludHMgLSBUaGUgbXVsdGlib2R5IGpvaW50cyB0YWtpbmcgcGFydCBpbnRvIHRoZSBzaW11bGF0aW9uLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZUFsbChncmF2aXR5LCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMsIGlzbGFuZHMsIGJyb2FkUGhhc2UsIG5hcnJvd1BoYXNlLCBib2RpZXMsIGNvbGxpZGVycywgaW1wdWxzZUpvaW50cywgbXVsdGlib2R5Sm9pbnRzKSB7XG4gICAgICAgIGxldCByYXdHcmEgPSBWZWN0b3JPcHMuaW50b1JhdyhncmF2aXR5KTtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5yYXcuc2VyaWFsaXplQWxsKHJhd0dyYSwgaW50ZWdyYXRpb25QYXJhbWV0ZXJzLnJhdywgaXNsYW5kcy5yYXcsIGJyb2FkUGhhc2UucmF3LCBuYXJyb3dQaGFzZS5yYXcsIGJvZGllcy5yYXcsIGNvbGxpZGVycy5yYXcsIGltcHVsc2VKb2ludHMucmF3LCBtdWx0aWJvZHlKb2ludHMucmF3KTtcbiAgICAgICAgcmF3R3JhLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzZXJpYWxpemUgdGhlIGNvbXBsZXRlIHBoeXNpY3Mgc3RhdGUgZnJvbSBhIHNpbmdsZSBieXRlIGFycmF5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgLSBUaGUgYnl0ZSBhcnJheSB0byBkZXNlcmlhbGl6ZS5cbiAgICAgKi9cbiAgICBkZXNlcmlhbGl6ZUFsbChkYXRhKSB7XG4gICAgICAgIHJldHVybiBXb3JsZC5mcm9tUmF3KHRoaXMucmF3LmRlc2VyaWFsaXplQWxsKGRhdGEpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemF0aW9uX3BpcGVsaW5lLmpzLm1hcCIsImltcG9ydCB7IEJyb2FkUGhhc2UsIENvbGxpZGVyU2V0LCBOYXJyb3dQaGFzZSB9IGZyb20gXCIuLi9nZW9tZXRyeVwiO1xuaW1wb3J0IHsgQ0NEU29sdmVyLCBJbnRlZ3JhdGlvblBhcmFtZXRlcnMsIElzbGFuZE1hbmFnZXIsIEltcHVsc2VKb2ludFNldCwgTXVsdGlib2R5Sm9pbnRTZXQsIFJpZ2lkQm9keVNldCB9IGZyb20gXCIuLi9keW5hbWljc1wiO1xuaW1wb3J0IHsgVmVjdG9yT3BzIH0gZnJvbSBcIi4uL21hdGhcIjtcbmltcG9ydCB7IFBoeXNpY3NQaXBlbGluZSB9IGZyb20gXCIuL3BoeXNpY3NfcGlwZWxpbmVcIjtcbmltcG9ydCB7IFF1ZXJ5UGlwZWxpbmUgfSBmcm9tIFwiLi9xdWVyeV9waXBlbGluZVwiO1xuaW1wb3J0IHsgU2VyaWFsaXphdGlvblBpcGVsaW5lIH0gZnJvbSBcIi4vc2VyaWFsaXphdGlvbl9waXBlbGluZVwiO1xuaW1wb3J0IHsgRGVidWdSZW5kZXJCdWZmZXJzLCBEZWJ1Z1JlbmRlclBpcGVsaW5lIH0gZnJvbSBcIi4vZGVidWdfcmVuZGVyX3BpcGVsaW5lXCI7XG4vKipcbiAqIFRoZSBwaHlzaWNzIHdvcmxkLlxuICpcbiAqIFRoaXMgY29udGFpbnMgYWxsIHRoZSBkYXRhLXN0cnVjdHVyZXMgbmVjZXNzYXJ5IGZvciBjcmVhdGluZyBhbmQgc2ltdWxhdGluZ1xuICogYm9kaWVzIHdpdGggY29udGFjdHMsIGpvaW50cywgYW5kIGV4dGVybmFsIGZvcmNlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFdvcmxkIHtcbiAgICBjb25zdHJ1Y3RvcihncmF2aXR5LCByYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMsIHJhd0lzbGFuZHMsIHJhd0Jyb2FkUGhhc2UsIHJhd05hcnJvd1BoYXNlLCByYXdCb2RpZXMsIHJhd0NvbGxpZGVycywgcmF3SW1wdWxzZUpvaW50cywgcmF3TXVsdGlib2R5Sm9pbnRzLCByYXdDQ0RTb2x2ZXIsIHJhd1F1ZXJ5UGlwZWxpbmUsIHJhd1BoeXNpY3NQaXBlbGluZSwgcmF3U2VyaWFsaXphdGlvblBpcGVsaW5lLCByYXdEZWJ1Z1JlbmRlclBpcGVsaW5lKSB7XG4gICAgICAgIHRoaXMuZ3Jhdml0eSA9IGdyYXZpdHk7XG4gICAgICAgIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzID0gbmV3IEludGVncmF0aW9uUGFyYW1ldGVycyhyYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLmlzbGFuZHMgPSBuZXcgSXNsYW5kTWFuYWdlcihyYXdJc2xhbmRzKTtcbiAgICAgICAgdGhpcy5icm9hZFBoYXNlID0gbmV3IEJyb2FkUGhhc2UocmF3QnJvYWRQaGFzZSk7XG4gICAgICAgIHRoaXMubmFycm93UGhhc2UgPSBuZXcgTmFycm93UGhhc2UocmF3TmFycm93UGhhc2UpO1xuICAgICAgICB0aGlzLmJvZGllcyA9IG5ldyBSaWdpZEJvZHlTZXQocmF3Qm9kaWVzKTtcbiAgICAgICAgdGhpcy5jb2xsaWRlcnMgPSBuZXcgQ29sbGlkZXJTZXQocmF3Q29sbGlkZXJzKTtcbiAgICAgICAgdGhpcy5pbXB1bHNlSm9pbnRzID0gbmV3IEltcHVsc2VKb2ludFNldChyYXdJbXB1bHNlSm9pbnRzKTtcbiAgICAgICAgdGhpcy5tdWx0aWJvZHlKb2ludHMgPSBuZXcgTXVsdGlib2R5Sm9pbnRTZXQocmF3TXVsdGlib2R5Sm9pbnRzKTtcbiAgICAgICAgdGhpcy5jY2RTb2x2ZXIgPSBuZXcgQ0NEU29sdmVyKHJhd0NDRFNvbHZlcik7XG4gICAgICAgIHRoaXMucXVlcnlQaXBlbGluZSA9IG5ldyBRdWVyeVBpcGVsaW5lKHJhd1F1ZXJ5UGlwZWxpbmUpO1xuICAgICAgICB0aGlzLnBoeXNpY3NQaXBlbGluZSA9IG5ldyBQaHlzaWNzUGlwZWxpbmUocmF3UGh5c2ljc1BpcGVsaW5lKTtcbiAgICAgICAgdGhpcy5zZXJpYWxpemF0aW9uUGlwZWxpbmUgPSBuZXcgU2VyaWFsaXphdGlvblBpcGVsaW5lKHJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSk7XG4gICAgICAgIHRoaXMuZGVidWdSZW5kZXJQaXBlbGluZSA9IG5ldyBEZWJ1Z1JlbmRlclBpcGVsaW5lKHJhd0RlYnVnUmVuZGVyUGlwZWxpbmUpO1xuICAgICAgICB0aGlzLmltcHVsc2VKb2ludHMuZmluYWxpemVEZXNlcmlhbGl6YXRpb24odGhpcy5ib2RpZXMpO1xuICAgICAgICB0aGlzLmJvZGllcy5maW5hbGl6ZURlc2VyaWFsaXphdGlvbih0aGlzLmNvbGxpZGVycyk7XG4gICAgICAgIHRoaXMuY29sbGlkZXJzLmZpbmFsaXplRGVzZXJpYWxpemF0aW9uKHRoaXMuYm9kaWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV0FTTSBtZW1vcnkgb2NjdXBpZWQgYnkgdGhpcyBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQWxsIHRoZSBmaWVsZHMgb2YgdGhpcyBwaHlzaWNzIHdvcmxkIHdpbGwgYmUgZnJlZWQgYXMgd2VsbCxcbiAgICAgKiBzbyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgdGhlaXIgYC5mcmVlKClgIG1ldGhvZHMgaW5kaXZpZHVhbGx5LlxuICAgICAqL1xuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzLmZyZWUoKTtcbiAgICAgICAgdGhpcy5pc2xhbmRzLmZyZWUoKTtcbiAgICAgICAgdGhpcy5icm9hZFBoYXNlLmZyZWUoKTtcbiAgICAgICAgdGhpcy5uYXJyb3dQaGFzZS5mcmVlKCk7XG4gICAgICAgIHRoaXMuYm9kaWVzLmZyZWUoKTtcbiAgICAgICAgdGhpcy5jb2xsaWRlcnMuZnJlZSgpO1xuICAgICAgICB0aGlzLmltcHVsc2VKb2ludHMuZnJlZSgpO1xuICAgICAgICB0aGlzLm11bHRpYm9keUpvaW50cy5mcmVlKCk7XG4gICAgICAgIHRoaXMuY2NkU29sdmVyLmZyZWUoKTtcbiAgICAgICAgdGhpcy5xdWVyeVBpcGVsaW5lLmZyZWUoKTtcbiAgICAgICAgdGhpcy5waHlzaWNzUGlwZWxpbmUuZnJlZSgpO1xuICAgICAgICB0aGlzLnNlcmlhbGl6YXRpb25QaXBlbGluZS5mcmVlKCk7XG4gICAgICAgIHRoaXMuZGVidWdSZW5kZXJQaXBlbGluZS5mcmVlKCk7XG4gICAgICAgIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzbGFuZHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYnJvYWRQaGFzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5uYXJyb3dQaGFzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ib2RpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29sbGlkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNjZFNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbXB1bHNlSm9pbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm11bHRpYm9keUpvaW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5xdWVyeVBpcGVsaW5lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnBoeXNpY3NQaXBlbGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zZXJpYWxpemF0aW9uUGlwZWxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGVidWdSZW5kZXJQaXBlbGluZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcocmF3KSB7XG4gICAgICAgIGlmICghcmF3KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgV29ybGQoVmVjdG9yT3BzLmZyb21SYXcocmF3LnRha2VHcmF2aXR5KCkpLCByYXcudGFrZUludGVncmF0aW9uUGFyYW1ldGVycygpLCByYXcudGFrZUlzbGFuZE1hbmFnZXIoKSwgcmF3LnRha2VCcm9hZFBoYXNlKCksIHJhdy50YWtlTmFycm93UGhhc2UoKSwgcmF3LnRha2VCb2RpZXMoKSwgcmF3LnRha2VDb2xsaWRlcnMoKSwgcmF3LnRha2VJbXB1bHNlSm9pbnRzKCksIHJhdy50YWtlTXVsdGlib2R5Sm9pbnRzKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHNuYXBzaG90IG9mIHRoaXMgd29ybGQuXG4gICAgICpcbiAgICAgKiBVc2UgYFdvcmxkLnJlc3RvcmVTbmFwc2hvdGAgdG8gY3JlYXRlIGEgbmV3IHBoeXNpY3Mgd29ybGQgd2l0aCBhIHN0YXRlIGlkZW50aWNhbCB0b1xuICAgICAqIHRoZSBzdGF0ZSB3aGVuIGAudGFrZVNuYXBzaG90KClgIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICB0YWtlU25hcHNob3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcmlhbGl6YXRpb25QaXBlbGluZS5zZXJpYWxpemVBbGwodGhpcy5ncmF2aXR5LCB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycywgdGhpcy5pc2xhbmRzLCB0aGlzLmJyb2FkUGhhc2UsIHRoaXMubmFycm93UGhhc2UsIHRoaXMuYm9kaWVzLCB0aGlzLmNvbGxpZGVycywgdGhpcy5pbXB1bHNlSm9pbnRzLCB0aGlzLm11bHRpYm9keUpvaW50cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcGh5c2ljcyB3b3JsZCBmcm9tIGEgc25hcHNob3QuXG4gICAgICpcbiAgICAgKiBUaGlzIG5ldyBwaHlzaWNzIHdvcmxkIHdpbGwgYmUgYW4gaWRlbnRpY2FsIGNvcHkgb2YgdGhlIHNuYXBzaG90ZWQgcGh5c2ljcyB3b3JsZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzdG9yZVNuYXBzaG90KGRhdGEpIHtcbiAgICAgICAgbGV0IGRlc2VyID0gbmV3IFNlcmlhbGl6YXRpb25QaXBlbGluZSgpO1xuICAgICAgICByZXR1cm4gZGVzZXIuZGVzZXJpYWxpemVBbGwoZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGFsbCB0aGUgbGluZXMgKGFuZCB0aGVpciBjb2xvcnMpIG5lZWRlZCB0byByZW5kZXIgdGhlIHNjZW5lLlxuICAgICAqL1xuICAgIGRlYnVnUmVuZGVyKCkge1xuICAgICAgICB0aGlzLmRlYnVnUmVuZGVyUGlwZWxpbmUucmVuZGVyKHRoaXMuYm9kaWVzLCB0aGlzLmNvbGxpZGVycywgdGhpcy5pbXB1bHNlSm9pbnRzLCB0aGlzLm11bHRpYm9keUpvaW50cywgdGhpcy5uYXJyb3dQaGFzZSk7XG4gICAgICAgIHJldHVybiBuZXcgRGVidWdSZW5kZXJCdWZmZXJzKHRoaXMuZGVidWdSZW5kZXJQaXBlbGluZS52ZXJ0aWNlcywgdGhpcy5kZWJ1Z1JlbmRlclBpcGVsaW5lLmNvbG9ycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkdmFuY2UgdGhlIHNpbXVsYXRpb24gYnkgb25lIHRpbWUgc3RlcC5cbiAgICAgKlxuICAgICAqIEFsbCBldmVudHMgZ2VuZXJhdGVkIGJ5IHRoZSBwaHlzaWNzIGVuZ2luZSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBFdmVudFF1ZXVlIC0gKG9wdGlvbmFsKSBzdHJ1Y3R1cmUgcmVzcG9uc2libGUgZm9yIGNvbGxlY3RpbmdcbiAgICAgKiAgIGV2ZW50cyBnZW5lcmF0ZWQgYnkgdGhlIHBoeXNpY3MgZW5naW5lLlxuICAgICAqL1xuICAgIHN0ZXAoZXZlbnRRdWV1ZSwgaG9va3MpIHtcbiAgICAgICAgdGhpcy5waHlzaWNzUGlwZWxpbmUuc3RlcCh0aGlzLmdyYXZpdHksIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCB0aGlzLmlzbGFuZHMsIHRoaXMuYnJvYWRQaGFzZSwgdGhpcy5uYXJyb3dQaGFzZSwgdGhpcy5ib2RpZXMsIHRoaXMuY29sbGlkZXJzLCB0aGlzLmltcHVsc2VKb2ludHMsIHRoaXMubXVsdGlib2R5Sm9pbnRzLCB0aGlzLmNjZFNvbHZlciwgZXZlbnRRdWV1ZSwgaG9va3MpO1xuICAgICAgICB0aGlzLnF1ZXJ5UGlwZWxpbmUudXBkYXRlKHRoaXMuaXNsYW5kcywgdGhpcy5ib2RpZXMsIHRoaXMuY29sbGlkZXJzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc2ltdWxhdGlvbiB0aW1lc3RlcC5cbiAgICAgKi9cbiAgICBnZXQgdGltZXN0ZXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5kdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV3IHNpbXVsYXRpb24gdGltZXN0ZXAuXG4gICAgICpcbiAgICAgKiBUaGUgc2ltdWxhdGlvbiB0aW1lc3RlcCBnb3Zlcm5zIGJ5IGhvdyBtdWNoIHRoZSBwaHlzaWNzIHN0YXRlIG9mIHRoZSB3b3JsZCB3aWxsXG4gICAgICogYmUgaW50ZWdyYXRlZC4gQSBzaW11bGF0aW9uIHRpbWVzdGVwIHNob3VsZDpcbiAgICAgKiAtIGJlIGFzIHNtYWxsIGFzIHBvc3NpYmxlLiBUeXBpY2FsIHZhbHVlcyBldm9sdmUgYXJvdW5kIDAuMDE2IChhc3N1bWluZyB0aGUgY2hvc2VuIHVuaXQgaXMgbWlsbGlzZWNvbmRzLFxuICAgICAqIGNvcnJlc3BvbmRzIHRvIHRoZSB0aW1lIGJldHdlZW4gdHdvIGZyYW1lcyBvZiBhIGdhbWUgcnVubmluZyBhdCA2MEZQUykuXG4gICAgICogLSBub3QgdmFyeSB0b28gbXVjaCBkdXJpbmcgdGhlIGNvdXJzZSBvZiB0aGUgc2ltdWxhdGlvbi4gQSB0aW1lc3RlcCB3aXRoIGxhcmdlIHZhcmlhdGlvbnMgbWF5XG4gICAgICogY2F1c2UgaW5zdGFiaWxpdGllcyBpbiB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkdCAtIFRoZSB0aW1lc3RlcCBsZW5ndGgsIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgc2V0IHRpbWVzdGVwKGR0KSB7XG4gICAgICAgIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzLmR0ID0gZHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIHZlbG9jaXR5IGl0ZXJhdGlvbnMgdGhlIHZlbG9jaXR5LWJhc2VkIGZvcmNlIGNvbnN0cmFpbnQgc29sdmVyIGNhbiBtYWtlLlxuICAgICAqL1xuICAgIGdldCBtYXhWZWxvY2l0eUl0ZXJhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5tYXhWZWxvY2l0eUl0ZXJhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHZlbG9jaXR5IGl0ZXJhdGlvbnMgKGRlZmF1bHQ6IDQpLlxuICAgICAqXG4gICAgICogVGhlIGdyZWF0ZXIgdGhpcyB2YWx1ZSBpcywgdGhlIG1vc3QgcmlnaWQgYW5kIHJlYWxpc3RpYyB0aGUgcGh5c2ljcyBzaW11bGF0aW9uIHdpbGwgYmUuXG4gICAgICogSG93ZXZlciBhIGdyZWF0ZXIgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgaXMgbW9yZSBjb21wdXRhdGlvbmFsbHkgaW50ZW5zaXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5pdGVyIC0gVGhlIG5ldyBtYXhpbXVtIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zLlxuICAgICAqL1xuICAgIHNldCBtYXhWZWxvY2l0eUl0ZXJhdGlvbnMobml0ZXIpIHtcbiAgICAgICAgdGhpcy5pbnRlZ3JhdGlvblBhcmFtZXRlcnMubWF4VmVsb2NpdHlJdGVyYXRpb25zID0gbml0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIHZlbG9jaXR5IGl0ZXJhdGlvbnMgdGhlIHZlbG9jaXR5LWJhc2VkIGZyaWN0aW9uIGNvbnN0cmFpbnQgc29sdmVyIGNhbiBtYWtlLlxuICAgICAqL1xuICAgIGdldCBtYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzLm1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zIGZvciBmcmljdGlvbiAoZGVmYXVsdDogOCkuXG4gICAgICpcbiAgICAgKiBUaGUgZ3JlYXRlciB0aGlzIHZhbHVlIGlzLCB0aGUgbW9zdCByZWFsaXN0aWMgZnJpY3Rpb24gd2lsbCBiZS5cbiAgICAgKiBIb3dldmVyIGEgZ3JlYXRlciBudW1iZXIgb2YgaXRlcmF0aW9ucyBpcyBtb3JlIGNvbXB1dGF0aW9uYWxseSBpbnRlbnNpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbml0ZXIgLSBUaGUgbmV3IG1heGltdW0gbnVtYmVyIG9mIHZlbG9jaXR5IGl0ZXJhdGlvbnMuXG4gICAgICovXG4gICAgc2V0IG1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zKG5pdGVyKSB7XG4gICAgICAgIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzLm1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zID0gbml0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIHZlbG9jaXR5IGl0ZXJhdGlvbnMgdGhlIHZlbG9jaXR5LWJhc2VkIGNvbnN0cmFpbnQgc29sdmVyIGNhbiBtYWtlIHRvIGF0dGVtcHQgdG8gcmVtb3ZlXG4gICAgICogdGhlIGVuZXJneSBpbnRyb2R1Y2VkIGJ5IGNvbnN0cmFpbnQgc3RhYmlsaXphdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgbWF4U3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5tYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgdmVsb2NpdHkgaXRlcmF0aW9ucyBmb3Igc3RhYmlsaXphdGlvbiAoZGVmYXVsdDogMSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbml0ZXIgLSBUaGUgbmV3IG1heGltdW0gbnVtYmVyIG9mIHZlbG9jaXR5IGl0ZXJhdGlvbnMuXG4gICAgICovXG4gICAgc2V0IG1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zKG5pdGVyKSB7XG4gICAgICAgIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzLm1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zID0gbml0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQtYm9keSBmcm9tIHRoZSBnaXZlbiByaWdkLWJvZHkgZGVzY3JpcHRpb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYm9keSAtIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICovXG4gICAgY3JlYXRlUmlnaWRCb2R5KGJvZHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9kaWVzLmNyZWF0ZVJpZ2lkQm9keSh0aGlzLmNvbGxpZGVycywgYm9keSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVzYyAtIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgY29sbGlkZXIuXG4gICAgICogQHBhcmFtIHBhcmVudCAtIFRoZSByaWdpZC1ib2R5IHRoaXMgY29sbGlkZXIgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgY3JlYXRlQ29sbGlkZXIoZGVzYywgcGFyZW50KSB7XG4gICAgICAgIGxldCBwYXJlbnRIYW5kbGUgPSBwYXJlbnQgPyBwYXJlbnQuaGFuZGxlIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlcnMuY3JlYXRlQ29sbGlkZXIodGhpcy5ib2RpZXMsIGRlc2MsIHBhcmVudEhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW1wdWxzZSBqb2ludCBmcm9tIHRoZSBnaXZlbiBqb2ludCBkZXNjcmlwdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgam9pbnQgdG8gY3JlYXRlLlxuICAgICAqIEBwYXJhbSBwYXJlbnQxIC0gVGhlIGZpcnN0IHJpZ2lkLWJvZHkgYXR0YWNoZWQgdG8gdGhpcyBqb2ludC5cbiAgICAgKiBAcGFyYW0gcGFyZW50MiAtIFRoZSBzZWNvbmQgcmlnaWQtYm9keSBhdHRhY2hlZCB0byB0aGlzIGpvaW50LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBTaG91bGQgdGhlIGF0dGFjaGVkIHJpZ2lkLWJvZGllcyBiZSBhd2FrZW5lZD9cbiAgICAgKi9cbiAgICBjcmVhdGVJbXB1bHNlSm9pbnQocGFyYW1zLCBwYXJlbnQxLCBwYXJlbnQyLCB3YWtlVXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1wdWxzZUpvaW50cy5jcmVhdGVKb2ludCh0aGlzLmJvZGllcywgcGFyYW1zLCBwYXJlbnQxLmhhbmRsZSwgcGFyZW50Mi5oYW5kbGUsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbXVsdGlib2R5IGpvaW50IGZyb20gdGhlIGdpdmVuIGpvaW50IGRlc2NyaXB0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBqb2ludCB0byBjcmVhdGUuXG4gICAgICogQHBhcmFtIHBhcmVudDEgLSBUaGUgZmlyc3QgcmlnaWQtYm9keSBhdHRhY2hlZCB0byB0aGlzIGpvaW50LlxuICAgICAqIEBwYXJhbSBwYXJlbnQyIC0gVGhlIHNlY29uZCByaWdpZC1ib2R5IGF0dGFjaGVkIHRvIHRoaXMgam9pbnQuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIFNob3VsZCB0aGUgYXR0YWNoZWQgcmlnaWQtYm9kaWVzIGJlIGF3YWtlbmVkP1xuICAgICAqL1xuICAgIGNyZWF0ZU11bHRpYm9keUpvaW50KHBhcmFtcywgcGFyZW50MSwgcGFyZW50Miwgd2FrZVVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpYm9keUpvaW50cy5jcmVhdGVKb2ludChwYXJhbXMsIHBhcmVudDEuaGFuZGxlLCBwYXJlbnQyLmhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgcmlnaWQtYm9keSBmcm9tIGl0cyBoYW5kbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSByaWdpZC1ib2R5IHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIGdldFJpZ2lkQm9keShoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9kaWVzLmdldChoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBjb2xsaWRlciBmcm9tIGl0cyBoYW5kbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSBjb2xsaWRlciB0byByZXRyaWV2ZS5cbiAgICAgKi9cbiAgICBnZXRDb2xsaWRlcihoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJzLmdldChoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYW4gaW1wdWxzZSBqb2ludCBmcm9tIGl0cyBoYW5kbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSBpbXB1bHNlIGpvaW50IHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIGdldEltcHVsc2VKb2ludChoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1wdWxzZUpvaW50cy5nZXQoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFuIG11bHRpYm9keSBqb2ludCBmcm9tIGl0cyBoYW5kbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSBtdWx0aWJvZHkgam9pbnQgdG8gcmV0cmlldmUuXG4gICAgICovXG4gICAgZ2V0TXVsdGlib2R5Sm9pbnQoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpYm9keUpvaW50cy5nZXQoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gcmlnaWQtYm9keSBmcm9tIHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCByZW1vdmUgdGhpcyByaWdpZC1ib2R5IGFzIHdlbGwgYXMgYWxsIGl0cyBhdHRhY2hlZCBjb2xsaWRlcnMgYW5kIGpvaW50cy5cbiAgICAgKiBFdmVyeSBvdGhlciBib2RpZXMgdG91Y2hpbmcgb3IgYXR0YWNoZWQgYnkgam9pbnRzIHRvIHRoaXMgcmlnaWQtYm9keSB3aWxsIGJlIHdva2VuLXVwLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJvZHkgLSBUaGUgcmlnaWQtYm9keSB0byByZW1vdmUuXG4gICAgICovXG4gICAgcmVtb3ZlUmlnaWRCb2R5KGJvZHkpIHtcbiAgICAgICAgaWYgKHRoaXMuYm9kaWVzKSB7XG4gICAgICAgICAgICB0aGlzLmJvZGllcy5yZW1vdmUoYm9keS5oYW5kbGUsIHRoaXMuaXNsYW5kcywgdGhpcy5jb2xsaWRlcnMsIHRoaXMuaW1wdWxzZUpvaW50cywgdGhpcy5tdWx0aWJvZHlKb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGNvbGxpZGVyIGZyb20gdGhpcyBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVyIC0gVGhlIGNvbGxpZGVyIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gSWYgc2V0IHRvIGB0cnVlYCwgdGhlIHJpZ2lkLWJvZHkgdGhpcyBjb2xsaWRlciBpcyBhdHRhY2hlZCB0byB3aWxsIGJlIGF3YWtlbi5cbiAgICAgKi9cbiAgICByZW1vdmVDb2xsaWRlcihjb2xsaWRlciwgd2FrZVVwKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbGxpZGVycykge1xuICAgICAgICAgICAgdGhpcy5jb2xsaWRlcnMucmVtb3ZlKGNvbGxpZGVyLmhhbmRsZSwgdGhpcy5pc2xhbmRzLCB0aGlzLmJvZGllcywgd2FrZVVwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBpbXB1bHNlIGpvaW50IGZyb20gdGhpcyBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGpvaW50IC0gVGhlIGltcHVsc2Ugam9pbnQgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBJZiBzZXQgdG8gYHRydWVgLCB0aGUgcmlnaWQtYm9kaWVzIGF0dGFjaGVkIGJ5IHRoaXMgam9pbnQgd2lsbCBiZSBhd2FrZW4uXG4gICAgICovXG4gICAgcmVtb3ZlSW1wdWxzZUpvaW50KGpvaW50LCB3YWtlVXApIHtcbiAgICAgICAgaWYgKHRoaXMuaW1wdWxzZUpvaW50cykge1xuICAgICAgICAgICAgdGhpcy5pbXB1bHNlSm9pbnRzLnJlbW92ZShqb2ludC5oYW5kbGUsIHdha2VVcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gbXVsdGlib2R5IGpvaW50IGZyb20gdGhpcyBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGpvaW50IC0gVGhlIG11bHRpYm9keSBqb2ludCB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIHNldCB0byBgdHJ1ZWAsIHRoZSByaWdpZC1ib2RpZXMgYXR0YWNoZWQgYnkgdGhpcyBqb2ludCB3aWxsIGJlIGF3YWtlbi5cbiAgICAgKi9cbiAgICByZW1vdmVNdWx0aWJvZHlKb2ludChqb2ludCwgd2FrZVVwKSB7XG4gICAgICAgIGlmICh0aGlzLmltcHVsc2VKb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlib2R5Sm9pbnRzLnJlbW92ZShqb2ludC5oYW5kbGUsIHdha2VVcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gY2xvc3VyZSB0byBlYWNoIGNvbGxpZGVyIG1hbmFnZWQgYnkgdGhpcyBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGYoY29sbGlkZXIpIC0gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggY29sbGlkZXIgbWFuYWdlZCBieSB0aGlzIHBoeXNpY3Mgd29ybGQuIENhbGxlZCBhcyBgZihjb2xsaWRlcilgLlxuICAgICAqL1xuICAgIGZvckVhY2hDb2xsaWRlcihmKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJzLmZvckVhY2goZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gZWFjaCByaWdpZC1ib2R5IG1hbmFnZWQgYnkgdGhpcyBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGYoYm9keSkgLSBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gZWFjaCByaWdpZC1ib2R5IG1hbmFnZWQgYnkgdGhpcyBwaHlzaWNzIHdvcmxkLiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAgKi9cbiAgICBmb3JFYWNoUmlnaWRCb2R5KGYpIHtcbiAgICAgICAgdGhpcy5ib2RpZXMuZm9yRWFjaChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gY2xvc3VyZSB0byBlYWNoIGFjdGl2ZSByaWdpZC1ib2R5IG1hbmFnZWQgYnkgdGhpcyBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQWZ0ZXIgYSBzaG9ydCB0aW1lIG9mIGluYWN0aXZpdHksIGEgcmlnaWQtYm9keSBpcyBhdXRvbWF0aWNhbGx5IGRlYWN0aXZhdGVkIChcImFzbGVlcFwiKSBieVxuICAgICAqIHRoZSBwaHlzaWNzIGVuZ2luZSBpbiBvcmRlciB0byBzYXZlIGNvbXB1dGF0aW9uYWwgcG93ZXIuIEEgc2xlZXBpbmcgcmlnaWQtYm9keSBuZXZlciBtb3Zlc1xuICAgICAqIHVubGVzcyBpdCBpcyBtb3ZlZCBtYW51YWxseSBieSB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmIC0gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggYWN0aXZlIHJpZ2lkLWJvZHkgbWFuYWdlZCBieSB0aGlzIHBoeXNpY3Mgd29ybGQuIENhbGxlZCBhcyBgZihjb2xsaWRlcilgLlxuICAgICAqL1xuICAgIGZvckVhY2hBY3RpdmVSaWdpZEJvZHkoZikge1xuICAgICAgICB0aGlzLmJvZGllcy5mb3JFYWNoQWN0aXZlUmlnaWRCb2R5KHRoaXMuaXNsYW5kcywgZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGNsb3Nlc3QgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSByYXkgYW5kIHRoZSBwaHlzaWNzIHdvcmxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFVzZWQgdG8gZmlsdGVyIHRoZSBjb2xsaWRlcnMgdGhhdCBjYW4gb3IgY2Fubm90IGJlIGhpdCBieSB0aGUgcmF5LlxuICAgICAqIEBwYXJhbSBmaWx0ZXIgLSBUaGUgY2FsbGJhY2sgdG8gZmlsdGVyIG91dCB3aGljaCBjb2xsaWRlciB3aWxsIGJlIGhpdC5cbiAgICAgKi9cbiAgICBjYXN0UmF5KHJheSwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlQaXBlbGluZS5jYXN0UmF5KHRoaXMuY29sbGlkZXJzLCByYXksIG1heFRvaSwgc29saWQsIGdyb3VwcywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBjbG9zZXN0IGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgcmF5IGFuZCB0aGUgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIFRoaXMgYWxzbyBjb21wdXRlcyB0aGUgbm9ybWFsIGF0IHRoZSBoaXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFVzZWQgdG8gZmlsdGVyIHRoZSBjb2xsaWRlcnMgdGhhdCBjYW4gb3IgY2Fubm90IGJlIGhpdCBieSB0aGUgcmF5LlxuICAgICAqL1xuICAgIGNhc3RSYXlBbmRHZXROb3JtYWwocmF5LCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGZpbHRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVBpcGVsaW5lLmNhc3RSYXlBbmRHZXROb3JtYWwodGhpcy5jb2xsaWRlcnMsIHJheSwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgZmlsdGVyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc3QgYSByYXkgYW5kIGNvbGxlY3RzIGFsbCB0aGUgaW50ZXJzZWN0aW9ucyBiZXR3ZWVuIGEgcmF5IGFuZCB0aGUgc2NlbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmF5IC0gVGhlIHJheSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgbGVuZ3RoIG9mIHRoZSByYXkgdG8gYHJheS5kaXIubm9ybSgpICogbWF4VG9pYC5cbiAgICAgKiBAcGFyYW0gc29saWQgLSBJZiBgZmFsc2VgIHRoZW4gdGhlIHJheSB3aWxsIGF0dGVtcHQgdG8gaGl0IHRoZSBib3VuZGFyeSBvZiBhIHNoYXBlLCBldmVuIGlmIGl0c1xuICAgICAqICAgb3JpZ2luIGFscmVhZHkgbGllcyBpbnNpZGUgb2YgYSBzaGFwZS4gSW4gb3RoZXIgdGVybXMsIGB0cnVlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgcGxhaW4sXG4gICAgICogICB3aGVyZWFzIGBmYWxzZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIGhvbGxvdyBmb3IgdGhpcyByYXktY2FzdC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVXNlZCB0byBmaWx0ZXIgdGhlIGNvbGxpZGVycyB0aGF0IGNhbiBvciBjYW5ub3QgYmUgaGl0IGJ5IHRoZSByYXkuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGNhbGxlZCBvbmNlIHBlciBoaXQgKGluIG5vIHBhcnRpY3VsYXIgb3JkZXIpIGJldHdlZW4gYSByYXkgYW5kIGEgY29sbGlkZXIuXG4gICAgICogICBJZiB0aGlzIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYCwgdGhlbiB0aGUgY2FzdCB3aWxsIHN0b3AgYW5kIG5vIGZ1cnRoZXIgaGl0cyB3aWxsIGJlIGRldGVjdGVkL3JlcG9ydGVkLlxuICAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoUmF5KHJheSwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBjYWxsYmFjaywgZmlsdGVyKSB7XG4gICAgICAgIHRoaXMucXVlcnlQaXBlbGluZS5pbnRlcnNlY3Rpb25zV2l0aFJheSh0aGlzLmNvbGxpZGVycywgcmF5LCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGNhbGxiYWNrLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgZmlsdGVyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhbmRsZSBvZiB1cCB0byBvbmUgY29sbGlkZXIgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZVBvcyAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2hhcGUgdXNlZCBmb3IgdGhlIGludGVyc2VjdGlvbiB0ZXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdCAtIFRoZSBvcmllbnRhdGlvbiBvZiB0aGUgc2hhcGUgdXNlZCBmb3IgdGhlIGludGVyc2VjdGlvbiB0ZXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZSAtIFRoZSBzaGFwZSB1c2VkIGZvciB0aGUgaW50ZXJzZWN0aW9uIHRlc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgcmF5LCBpbiBvcmRlciB0byBvbmx5XG4gICAgICogICBoaXQgdGhlIGNvbGxpZGVycyB3aXRoIGNvbGxpc2lvbiBncm91cHMgY29tcGF0aWJsZSB3aXRoIHRoZSByYXkncyBncm91cC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25XaXRoU2hhcGUoc2hhcGVQb3MsIHNoYXBlUm90LCBzaGFwZSwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgbGV0IGhhbmRsZSA9IHRoaXMucXVlcnlQaXBlbGluZS5pbnRlcnNlY3Rpb25XaXRoU2hhcGUodGhpcy5jb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgICAgICByZXR1cm4gKGhhbmRsZSAhPSBudWxsKSA/IHRoaXMuY29sbGlkZXJzLmdldChoYW5kbGUpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgcHJvamVjdGlvbiBvZiBhIHBvaW50IG9uIHRoZSBjbG9zZXN0IGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvaW50IC0gVGhlIHBvaW50IHRvIHByb2plY3QuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgdGhpcyBpcyBzZXQgdG8gYHRydWVgIHRoZW4gdGhlIGNvbGxpZGVyIHNoYXBlcyBhcmUgY29uc2lkZXJlZCB0b1xuICAgICAqICAgYmUgcGxhaW4gKGlmIHRoZSBwb2ludCBpcyBsb2NhdGVkIGluc2lkZSBvZiBhIHBsYWluIHNoYXBlLCBpdHMgcHJvamVjdGlvbiBpcyB0aGUgcG9pbnRcbiAgICAgKiAgIGl0c2VsZikuIElmIGl0IGlzIHNldCB0byBgZmFsc2VgIHRoZSBjb2xsaWRlciBzaGFwZXMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgaG9sbG93XG4gICAgICogICAoaWYgdGhlIHBvaW50IGlzIGxvY2F0ZWQgaW5zaWRlIG9mIGFuIGhvbGxvdyBzaGFwZSwgaXQgaXMgcHJvamVjdGVkIG9uIHRoZSBzaGFwZSdzXG4gICAgICogICBib3VuZGFyeSkuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgcG9pbnQgdG8gcHJvamVjdCwgaW4gb3JkZXIgdG8gb25seVxuICAgICAqICAgcHJvamVjdCBvbiBjb2xsaWRlcnMgd2l0aCBjb2xsaXNpb24gZ3JvdXBzIGNvbXBhdGlibGUgd2l0aCB0aGUgcmF5J3MgZ3JvdXAuXG4gICAgICovXG4gICAgcHJvamVjdFBvaW50KHBvaW50LCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlQaXBlbGluZS5wcm9qZWN0UG9pbnQodGhpcy5jb2xsaWRlcnMsIHBvaW50LCBzb2xpZCwgZ3JvdXBzLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgZmlsdGVyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHByb2plY3Rpb24gb2YgYSBwb2ludCBvbiB0aGUgY2xvc2VzdCBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBwcm9qZWN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHBvaW50IHRvIHByb2plY3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHByb2plY3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhlIHJheSdzIGdyb3VwLlxuICAgICAqL1xuICAgIHByb2plY3RQb2ludEFuZEdldEZlYXR1cmUocG9pbnQsIGdyb3Vwcykge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVBpcGVsaW5lLnByb2plY3RQb2ludEFuZEdldEZlYXR1cmUodGhpcy5jb2xsaWRlcnMsIHBvaW50LCBncm91cHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIGFsbCB0aGUgY29sbGlkZXJzIGNvbnRhaW5pbmcgdGhlIGdpdmVuIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvaW50IC0gVGhlIHBvaW50IHVzZWQgZm9yIHRoZSBjb250YWlubWVudCB0ZXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHBvaW50IHRvIHRlc3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHRlc3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhlIHJheSdzIGdyb3VwLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEEgZnVuY3Rpb24gY2FsbGVkIHdpdGggdGhlIGhhbmRsZXMgb2YgZWFjaCBjb2xsaWRlciB3aXRoIGEgc2hhcGVcbiAgICAgKiAgIGNvbnRhaW5pbmcgdGhlIGBwb2ludGAuXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGhQb2ludChwb2ludCwgZ3JvdXBzLCBjYWxsYmFjaywgZmlsdGVyKSB7XG4gICAgICAgIHRoaXMucXVlcnlQaXBlbGluZS5pbnRlcnNlY3Rpb25zV2l0aFBvaW50KHRoaXMuY29sbGlkZXJzLCBwb2ludCwgZ3JvdXBzLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgY2FsbGJhY2spLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgZmlsdGVyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc3RzIGEgc2hhcGUgYXQgYSBjb25zdGFudCBsaW5lYXIgdmVsb2NpdHkgYW5kIHJldHJpZXZlIHRoZSBmaXJzdCBjb2xsaWRlciBpdCBoaXRzLlxuICAgICAqIFRoaXMgaXMgc2ltaWxhciB0byByYXktY2FzdGluZyBleGNlcHQgdGhhdCB3ZSBhcmUgY2FzdGluZyBhIHdob2xlIHNoYXBlIGluc3RlYWQgb2ZcbiAgICAgKiBqdXN0IGEgcG9pbnQgKHRoZSByYXkgb3JpZ2luKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZVBvcyAtIFRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBzaGFwZSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdCAtIFRoZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBzaGFwZSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZVZlbCAtIFRoZSBjb25zdGFudCB2ZWxvY2l0eSBvZiB0aGUgc2hhcGUgdG8gY2FzdCAoaS5lLiB0aGUgY2FzdCBkaXJlY3Rpb24pLlxuICAgICAqIEBwYXJhbSBzaGFwZSAtIFRoZSBzaGFwZSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgZGlzdGFuY2UgdHJhdmVsZWQgYnkgdGhlIHNoYXBlIHRvIGBzaGFwZVZlbC5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHNoYXBlIHRvIGNhc3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHRlc3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICBjYXN0U2hhcGUoc2hhcGVQb3MsIHNoYXBlUm90LCBzaGFwZVZlbCwgc2hhcGUsIG1heFRvaSwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlQaXBlbGluZS5jYXN0U2hhcGUodGhpcy5jb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGVWZWwsIHNoYXBlLCBtYXhUb2ksIGdyb3VwcywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhbGwgdGhlIGNvbGxpZGVycyBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNoYXBlUG9zIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBzaGFwZSB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdCAtIFRoZSBvcmllbnRhdGlvbiBvZiB0aGUgc2hhcGUgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gc2hhcGUgLSBUaGUgc2hhcGUgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVGhlIGJpdCBncm91cHMgYW5kIGZpbHRlciBhc3NvY2lhdGVkIHRvIHRoZSBzaGFwZSB0byB0ZXN0LCBpbiBvcmRlciB0byBvbmx5XG4gICAgICogICB0ZXN0IG9uIGNvbGxpZGVycyB3aXRoIGNvbGxpc2lvbiBncm91cHMgY29tcGF0aWJsZSB3aXRoIHRoaXMgZ3JvdXAuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gQSBmdW5jdGlvbiBjYWxsZWQgd2l0aCB0aGUgaGFuZGxlcyBvZiBlYWNoIGNvbGxpZGVyIGludGVyc2VjdGluZyB0aGUgYHNoYXBlYC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25zV2l0aFNoYXBlKHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgY2FsbGJhY2ssIGZpbHRlcikge1xuICAgICAgICB0aGlzLnF1ZXJ5UGlwZWxpbmUuaW50ZXJzZWN0aW9uc1dpdGhTaGFwZSh0aGlzLmNvbGxpZGVycywgc2hhcGVQb3MsIHNoYXBlUm90LCBzaGFwZSwgZ3JvdXBzLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgY2FsbGJhY2spLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgZmlsdGVyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBoYW5kbGVzIG9mIGFsbCB0aGUgY29sbGlkZXJzIHdpdGggYW4gQUFCQiBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIEFBQkIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWFiYkNlbnRlciAtIFRoZSBjZW50ZXIgb2YgdGhlIEFBQkIgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gYWFiYkhhbGZFeHRlbnRzIC0gVGhlIGhhbGYtZXh0ZW50cyBvZiB0aGUgQUFCQiB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGhhbmRsZXMgb2YgYWxsIHRoZSBjb2xsaWRlcnNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBjdXJyZW50bHkgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBBQUJCLlxuICAgICAqL1xuICAgIGNvbGxpZGVyc1dpdGhBYWJiSW50ZXJzZWN0aW5nQWFiYihhYWJiQ2VudGVyLCBhYWJiSGFsZkV4dGVudHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucXVlcnlQaXBlbGluZS5jb2xsaWRlcnNXaXRoQWFiYkludGVyc2VjdGluZ0FhYmIoYWFiYkNlbnRlciwgYWFiYkhhbGZFeHRlbnRzLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgY2FsbGJhY2spKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW51bWVyYXRlcyBhbGwgdGhlIGNvbGxpZGVycyBwb3RlbnRpYWxseSBpbiBjb250YWN0IHdpdGggdGhlIGdpdmVuIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMSAtIFRoZSBzZWNvbmQgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGNvbnRhY3QuXG4gICAgICogQHBhcmFtIGYgLSBDbG9zdXJlIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBjb2xsaWRlciB0aGF0IGlzIGluIGNvbnRhY3Qgd2l0aCBgY29sbGlkZXIxYC5cbiAgICAgKi9cbiAgICBjb250YWN0c1dpdGgoY29sbGlkZXIxLCBmKSB7XG4gICAgICAgIHRoaXMubmFycm93UGhhc2UuY29udGFjdHNXaXRoKGNvbGxpZGVyMS5oYW5kbGUsIGNhc3RDbG9zdXJlKHRoaXMuY29sbGlkZXJzLCBmKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVudW1lcmF0ZXMgYWxsIHRoZSBjb2xsaWRlcnMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBjb2xsaWRlcnMsIGFzc3VtaW5nIG9uZSBvZiB0aGVtXG4gICAgICogaXMgYSBzZW5zb3IuXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGgoY29sbGlkZXIxLCBmKSB7XG4gICAgICAgIHRoaXMubmFycm93UGhhc2UuaW50ZXJzZWN0aW9uc1dpdGgoY29sbGlkZXIxLmhhbmRsZSwgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGYpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgdGhyb3VnaCBhbGwgdGhlIGNvbnRhY3QgbWFuaWZvbGRzIGJldHdlZW4gdGhlIGdpdmVuIHBhaXIgb2YgY29sbGlkZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMSAtIFRoZSBmaXJzdCBjb2xsaWRlciBpbnZvbHZlZCBpbiB0aGUgY29udGFjdC5cbiAgICAgKiBAcGFyYW0gY29sbGlkZXIyIC0gVGhlIHNlY29uZCBjb2xsaWRlciBpbnZvbHZlZCBpbiB0aGUgY29udGFjdC5cbiAgICAgKiBAcGFyYW0gZiAtIENsb3N1cmUgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGNvbnRhY3QgbWFuaWZvbGQgYmV0d2VlbiB0aGUgdHdvIGNvbGxpZGVycy4gSWYgdGhlIHNlY29uZCBhcmd1bWVudFxuICAgICAqICAgICAgICAgICAgcGFzc2VkIHRvIHRoaXMgY2xvc3VyZSBpcyBgdHJ1ZWAsIHRoZW4gdGhlIGNvbnRhY3QgbWFuaWZvbGQgZGF0YSBpcyBmbGlwcGVkLCBpLmUuLCBtZXRob2RzIGxpa2UgYGxvY2FsTm9ybWFsMWBcbiAgICAgKiAgICAgICAgICAgIGFjdHVhbGx5IGFwcGx5IHRvIHRoZSBgY29sbGlkZXIyYCBhbmQgZmllbGRzIGxpa2UgYGxvY2FsTm9ybWFsMmAgYXBwbHkgdG8gdGhlIGBjb2xsaWRlcjFgLlxuICAgICAqL1xuICAgIGNvbnRhY3RQYWlyKGNvbGxpZGVyMSwgY29sbGlkZXIyLCBmKSB7XG4gICAgICAgIHRoaXMubmFycm93UGhhc2UuY29udGFjdFBhaXIoY29sbGlkZXIxLmhhbmRsZSwgY29sbGlkZXIyLmhhbmRsZSwgZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGBjb2xsaWRlcjFgIGFuZCBgY29sbGlkZXIyYCBpbnRlcnNlY3QgYW5kIGF0IGxlYXN0IG9uZSBvZiB0aGVtIGlzIGEgc2Vuc29yLlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjEg4oiSIFRoZSBmaXJzdCBjb2xsaWRlciBpbnZvbHZlZCBpbiB0aGUgaW50ZXJzZWN0aW9uLlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjIg4oiSIFRoZSBzZWNvbmQgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGludGVyc2VjdGlvbi5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25QYWlyKGNvbGxpZGVyMSwgY29sbGlkZXIyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hcnJvd1BoYXNlLmludGVyc2VjdGlvblBhaXIoY29sbGlkZXIxLmhhbmRsZSwgY29sbGlkZXIyLmhhbmRsZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FzdENsb3N1cmUoc2V0LCBmKSB7XG4gICAgcmV0dXJuIGhhbmRsZSA9PiB7XG4gICAgICAgIGlmICghIWYpIHtcbiAgICAgICAgICAgIHJldHVybiBmKHNldC5nZXQoaGFuZGxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmxkLmpzLm1hcCIsImltcG9ydCAqIGFzIFJBUElFUiBmcm9tICcuL2V4cG9ydHMnO1xuZXhwb3J0ICogZnJvbSAnLi9leHBvcnRzJztcbmV4cG9ydCBkZWZhdWx0IFJBUElFUjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhcGllci5qcy5tYXAiLCJpbXBvcnQgKiBhcyB3YXNtIGZyb20gJy4vcmFwaWVyX3dhc20yZF9iZy53YXNtJztcblxuY29uc3QgaGVhcCA9IG5ldyBBcnJheSgzMikuZmlsbCh1bmRlZmluZWQpO1xuXG5oZWFwLnB1c2godW5kZWZpbmVkLCBudWxsLCB0cnVlLCBmYWxzZSk7XG5cbmZ1bmN0aW9uIGdldE9iamVjdChpZHgpIHsgcmV0dXJuIGhlYXBbaWR4XTsgfVxuXG5sZXQgaGVhcF9uZXh0ID0gaGVhcC5sZW5ndGg7XG5cbmZ1bmN0aW9uIGRyb3BPYmplY3QoaWR4KSB7XG4gICAgaWYgKGlkeCA8IDM2KSByZXR1cm47XG4gICAgaGVhcFtpZHhdID0gaGVhcF9uZXh0O1xuICAgIGhlYXBfbmV4dCA9IGlkeDtcbn1cblxuZnVuY3Rpb24gdGFrZU9iamVjdChpZHgpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoaWR4KTtcbiAgICBkcm9wT2JqZWN0KGlkeCk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gYWRkSGVhcE9iamVjdChvYmopIHtcbiAgICBpZiAoaGVhcF9uZXh0ID09PSBoZWFwLmxlbmd0aCkgaGVhcC5wdXNoKGhlYXAubGVuZ3RoICsgMSk7XG4gICAgY29uc3QgaWR4ID0gaGVhcF9uZXh0O1xuICAgIGhlYXBfbmV4dCA9IGhlYXBbaWR4XTtcblxuICAgIGhlYXBbaWR4XSA9IG9iajtcbiAgICByZXR1cm4gaWR4O1xufVxuXG5mdW5jdGlvbiBpc0xpa2VOb25lKHgpIHtcbiAgICByZXR1cm4geCA9PT0gdW5kZWZpbmVkIHx8IHggPT09IG51bGw7XG59XG5cbmxldCBjYWNoZWdldEZsb2F0NjRNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldEZsb2F0NjRNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldEZsb2F0NjRNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0RmxvYXQ2NE1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRGbG9hdDY0TWVtb3J5MCA9IG5ldyBGbG9hdDY0QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0RmxvYXQ2NE1lbW9yeTA7XG59XG5cbmxldCBjYWNoZWdldEludDMyTWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRJbnQzMk1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0SW50MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0SW50MzJNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbmV3IEludDMyQXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0SW50MzJNZW1vcnkwO1xufVxuXG5jb25zdCBsVGV4dERlY29kZXIgPSB0eXBlb2YgVGV4dERlY29kZXIgPT09ICd1bmRlZmluZWQnID8gKDAsIG1vZHVsZS5yZXF1aXJlKSgndXRpbCcpLlRleHREZWNvZGVyIDogVGV4dERlY29kZXI7XG5cbmxldCBjYWNoZWRUZXh0RGVjb2RlciA9IG5ldyBsVGV4dERlY29kZXIoJ3V0Zi04JywgeyBpZ25vcmVCT006IHRydWUsIGZhdGFsOiB0cnVlIH0pO1xuXG5jYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoKTtcblxubGV0IGNhY2hlZ2V0VWludDhNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldFVpbnQ4TWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVnZXRVaW50OE1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRVaW50OE1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRVaW50OE1lbW9yeTAgPSBuZXcgVWludDhBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVnZXRVaW50OE1lbW9yeTA7XG59XG5cbmZ1bmN0aW9uIGdldFN0cmluZ0Zyb21XYXNtMChwdHIsIGxlbikge1xuICAgIHJldHVybiBjYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyLCBwdHIgKyBsZW4pKTtcbn1cbi8qKlxuKiBAcmV0dXJucyB7c3RyaW5nfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZXJzaW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICB3YXNtLnZlcnNpb24ocmV0cHRyKTtcbiAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgIHJldHVybiBnZXRTdHJpbmdGcm9tV2FzbTAocjAsIHIxKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShyMCwgcjEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX2Fzc2VydENsYXNzKGluc3RhbmNlLCBrbGFzcykge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2Yga2xhc3MpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZXhwZWN0ZWQgaW5zdGFuY2Ugb2YgJHtrbGFzcy5uYW1lfWApO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2UucHRyO1xufVxuXG5sZXQgc3RhY2tfcG9pbnRlciA9IDMyO1xuXG5mdW5jdGlvbiBhZGRCb3Jyb3dlZE9iamVjdChvYmopIHtcbiAgICBpZiAoc3RhY2tfcG9pbnRlciA9PSAxKSB0aHJvdyBuZXcgRXJyb3IoJ291dCBvZiBqcyBzdGFjaycpO1xuICAgIGhlYXBbLS1zdGFja19wb2ludGVyXSA9IG9iajtcbiAgICByZXR1cm4gc3RhY2tfcG9pbnRlcjtcbn1cblxubGV0IGNhY2hlZ2V0RmxvYXQzMk1lbW9yeTAgPSBudWxsO1xuZnVuY3Rpb24gZ2V0RmxvYXQzMk1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0RmxvYXQzMk1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRGbG9hdDMyTWVtb3J5MC5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldEZsb2F0MzJNZW1vcnkwID0gbmV3IEZsb2F0MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVnZXRGbG9hdDMyTWVtb3J5MDtcbn1cblxuZnVuY3Rpb24gZ2V0QXJyYXlGMzJGcm9tV2FzbTAocHRyLCBsZW4pIHtcbiAgICByZXR1cm4gZ2V0RmxvYXQzMk1lbW9yeTAoKS5zdWJhcnJheShwdHIgLyA0LCBwdHIgLyA0ICsgbGVuKTtcbn1cblxubGV0IGNhY2hlZ2V0VWludDMyTWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRVaW50MzJNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldFVpbnQzMk1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRVaW50MzJNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0VWludDMyTWVtb3J5MCA9IG5ldyBVaW50MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVnZXRVaW50MzJNZW1vcnkwO1xufVxuXG5mdW5jdGlvbiBnZXRBcnJheVUzMkZyb21XYXNtMChwdHIsIGxlbikge1xuICAgIHJldHVybiBnZXRVaW50MzJNZW1vcnkwKCkuc3ViYXJyYXkocHRyIC8gNCwgcHRyIC8gNCArIGxlbik7XG59XG5cbmxldCBXQVNNX1ZFQ1RPUl9MRU4gPSAwO1xuXG5mdW5jdGlvbiBwYXNzQXJyYXlGMzJUb1dhc20wKGFyZywgbWFsbG9jKSB7XG4gICAgY29uc3QgcHRyID0gbWFsbG9jKGFyZy5sZW5ndGggKiA0KTtcbiAgICBnZXRGbG9hdDMyTWVtb3J5MCgpLnNldChhcmcsIHB0ciAvIDQpO1xuICAgIFdBU01fVkVDVE9SX0xFTiA9IGFyZy5sZW5ndGg7XG4gICAgcmV0dXJuIHB0cjtcbn1cblxuZnVuY3Rpb24gcGFzc0FycmF5MzJUb1dhc20wKGFyZywgbWFsbG9jKSB7XG4gICAgY29uc3QgcHRyID0gbWFsbG9jKGFyZy5sZW5ndGggKiA0KTtcbiAgICBnZXRVaW50MzJNZW1vcnkwKCkuc2V0KGFyZywgcHRyIC8gNCk7XG4gICAgV0FTTV9WRUNUT1JfTEVOID0gYXJnLmxlbmd0aDtcbiAgICByZXR1cm4gcHRyO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihmLCBhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZXhuX3N0b3JlKGFkZEhlYXBPYmplY3QoZSkpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjb25zdCBSYXdKb2ludFR5cGUgPSBPYmplY3QuZnJlZXplKHsgUmV2b2x1dGU6MCxcIjBcIjpcIlJldm9sdXRlXCIsRml4ZWQ6MSxcIjFcIjpcIkZpeGVkXCIsUHJpc21hdGljOjIsXCIyXCI6XCJQcmlzbWF0aWNcIixHZW5lcmljOjMsXCIzXCI6XCJHZW5lcmljXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNvbnN0IFJhd01vdG9yTW9kZWwgPSBPYmplY3QuZnJlZXplKHsgQWNjZWxlcmF0aW9uQmFzZWQ6MCxcIjBcIjpcIkFjY2VsZXJhdGlvbkJhc2VkXCIsRm9yY2VCYXNlZDoxLFwiMVwiOlwiRm9yY2VCYXNlZFwiLCB9KTtcbi8qKlxuKi9cbmV4cG9ydCBjb25zdCBSYXdKb2ludEF4aXMgPSBPYmplY3QuZnJlZXplKHsgWDowLFwiMFwiOlwiWFwiLFk6MSxcIjFcIjpcIllcIixBbmdYOjIsXCIyXCI6XCJBbmdYXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNvbnN0IFJhd1JpZ2lkQm9keVR5cGUgPSBPYmplY3QuZnJlZXplKHsgRHluYW1pYzowLFwiMFwiOlwiRHluYW1pY1wiLEZpeGVkOjEsXCIxXCI6XCJGaXhlZFwiLEtpbmVtYXRpY1Bvc2l0aW9uQmFzZWQ6MixcIjJcIjpcIktpbmVtYXRpY1Bvc2l0aW9uQmFzZWRcIixLaW5lbWF0aWNWZWxvY2l0eUJhc2VkOjMsXCIzXCI6XCJLaW5lbWF0aWNWZWxvY2l0eUJhc2VkXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNvbnN0IFJhd0ZlYXR1cmVUeXBlID0gT2JqZWN0LmZyZWV6ZSh7IFZlcnRleDowLFwiMFwiOlwiVmVydGV4XCIsRmFjZToxLFwiMVwiOlwiRmFjZVwiLFVua25vd246MixcIjJcIjpcIlVua25vd25cIiwgfSk7XG4vKipcbiovXG5leHBvcnQgY29uc3QgUmF3U2hhcGVUeXBlID0gT2JqZWN0LmZyZWV6ZSh7IEJhbGw6MCxcIjBcIjpcIkJhbGxcIixDdWJvaWQ6MSxcIjFcIjpcIkN1Ym9pZFwiLENhcHN1bGU6MixcIjJcIjpcIkNhcHN1bGVcIixTZWdtZW50OjMsXCIzXCI6XCJTZWdtZW50XCIsUG9seWxpbmU6NCxcIjRcIjpcIlBvbHlsaW5lXCIsVHJpYW5nbGU6NSxcIjVcIjpcIlRyaWFuZ2xlXCIsVHJpTWVzaDo2LFwiNlwiOlwiVHJpTWVzaFwiLEhlaWdodEZpZWxkOjcsXCI3XCI6XCJIZWlnaHRGaWVsZFwiLENvbXBvdW5kOjgsXCI4XCI6XCJDb21wb3VuZFwiLENvbnZleFBvbHlnb246OSxcIjlcIjpcIkNvbnZleFBvbHlnb25cIixSb3VuZEN1Ym9pZDoxMCxcIjEwXCI6XCJSb3VuZEN1Ym9pZFwiLFJvdW5kVHJpYW5nbGU6MTEsXCIxMVwiOlwiUm91bmRUcmlhbmdsZVwiLFJvdW5kQ29udmV4UG9seWdvbjoxMixcIjEyXCI6XCJSb3VuZENvbnZleFBvbHlnb25cIiwgfSk7XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3QnJvYWRQaGFzZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0Jyb2FkUGhhc2UucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3YnJvYWRwaGFzZV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3YnJvYWRwaGFzZV9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd0Jyb2FkUGhhc2UuX193cmFwKHJldCk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0NDRFNvbHZlciB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0NDRFNvbHZlci5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdjY2Rzb2x2ZXJfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NjZHNvbHZlcl9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd0NDRFNvbHZlci5fX3dyYXAocmV0KTtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3Q29sbGlkZXJTZXQge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdDb2xsaWRlclNldC5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdjb2xsaWRlcnNldF9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHdvcmxkLXNwYWNlIHRyYW5zbGF0aW9uIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgY29UcmFuc2xhdGlvbihoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb1RyYW5zbGF0aW9uKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB3b3JsZC1zcGFjZSBvcmllbnRhdGlvbiBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1JvdGF0aW9ufVxuICAgICovXG4gICAgY29Sb3RhdGlvbihoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb1JvdGF0aW9uKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3Um90YXRpb24uX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgdHJhbnNsYXRpb24gb2YgdGhpcyBjb2xsaWRlci5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHhgOiB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIGNvbGxpZGVyIGFsb25nIHRoZSBgeGAgYXhpcy5cbiAgICAqIC0gYHlgOiB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIGNvbGxpZGVyIGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAqIC0gYHdha2VVcGA6IGZvcmNlcyB0aGUgY29sbGlkZXIgdG8gd2FrZS11cCBzbyBpdCBpcyBwcm9wZXJseSBhZmZlY3RlZCBieSBmb3JjZXMgaWYgaXRcbiAgICAqIHdhc24ndCBtb3ZpbmcgYmVmb3JlIG1vZGlmeWluZyBpdHMgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAqL1xuICAgIGNvU2V0VHJhbnNsYXRpb24oaGFuZGxlLCB4LCB5KSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRUcmFuc2xhdGlvbih0aGlzLnB0ciwgaGFuZGxlLCB4LCB5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAqL1xuICAgIGNvU2V0VHJhbnNsYXRpb25XcnRQYXJlbnQoaGFuZGxlLCB4LCB5KSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRUcmFuc2xhdGlvbldydFBhcmVudCh0aGlzLnB0ciwgaGFuZGxlLCB4LCB5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSByb3RhdGlvbiBhbmdsZSBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgYW5nbGVgOiB0aGUgcm90YXRpb24gYW5nbGUsIGluIHJhZGlhbnMuXG4gICAgKiAtIGB3YWtlVXBgOiBmb3JjZXMgdGhlIGNvbGxpZGVyIHRvIHdha2UtdXAgc28gaXQgaXMgcHJvcGVybHkgYWZmZWN0ZWQgYnkgZm9yY2VzIGlmIGl0XG4gICAgKiB3YXNuJ3QgbW92aW5nIGJlZm9yZSBtb2RpZnlpbmcgaXRzIHBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgKi9cbiAgICBjb1NldFJvdGF0aW9uKGhhbmRsZSwgYW5nbGUpIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldFJvdGF0aW9uKHRoaXMucHRyLCBoYW5kbGUsIGFuZ2xlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAqL1xuICAgIGNvU2V0Um90YXRpb25XcnRQYXJlbnQoaGFuZGxlLCBhbmdsZSkge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0Um90YXRpb25XcnRQYXJlbnQodGhpcy5wdHIsIGhhbmRsZSwgYW5nbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElzIHRoaXMgY29sbGlkZXIgYSBzZW5zb3I/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvSXNTZW5zb3IoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29Jc1NlbnNvcih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb1NoYXBlVHlwZShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NoYXBlVHlwZSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgaGFsZi1leHRlbnRzIG9mIHRoaXMgY29sbGlkZXIgaWYgaXQgaXMgaGFzIGEgY3Vib2lkIHNoYXBlLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1ZlY3RvciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvSGFsZkV4dGVudHMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29IYWxmRXh0ZW50cyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcmFkaXVzIG9mIHRoaXMgY29sbGlkZXIgaWYgaXQgaXMgYSBiYWxsLCBjYXBzdWxlLCBjeWxpbmRlciwgb3IgY29uZSBzaGFwZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb1JhZGl1cyhoYW5kbGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1JhZGl1cyhyZXRwdHIsIHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0RmxvYXQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcmFkaXVzIG9mIHRoaXMgY29sbGlkZXIgaWYgaXQgaXMgYSBjYXBzdWxlLCBjeWxpbmRlciwgb3IgY29uZSBzaGFwZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0hhbGZIZWlnaHQoaGFuZGxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29IYWxmSGVpZ2h0KHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRGbG9hdDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIxO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSByYWRpdXMgb2YgdGhlIHJvdW5kIGVkZ2VzIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29Sb3VuZFJhZGl1cyhoYW5kbGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1JvdW5kUmFkaXVzKHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRGbG9hdDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIxO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB2ZXJ0aWNlcyBvZiB0aGlzIHRyaWFuZ2xlIG1lc2gsIHBvbHlsaW5lLCBjb252ZXggcG9seWhlZHJvbiwgc2VnbWVudCwgdHJpYW5nbGUgb3IgY29udmV4IHBvbHloZWRyb24sIGlmIGl0IGlzIG9uZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXkgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb1ZlcnRpY2VzKGhhbmRsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvVmVydGljZXMocmV0cHRyLCB0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgICAgIHZhciByMSA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcbiAgICAgICAgICAgIGxldCB2MDtcbiAgICAgICAgICAgIGlmIChyMCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHYwID0gZ2V0QXJyYXlGMzJGcm9tV2FzbTAocjAsIHIxKS5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHIwLCByMSAqIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHYwO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBpbmRpY2VzIG9mIHRoaXMgdHJpYW5nbGUgbWVzaCwgcG9seWxpbmUsIG9yIGNvbnZleCBwb2x5aGVkcm9uLCBpZiBpdCBpcyBvbmUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7VWludDMyQXJyYXkgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0luZGljZXMoaGFuZGxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29JbmRpY2VzKHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICBsZXQgdjA7XG4gICAgICAgICAgICBpZiAocjAgIT09IDApIHtcbiAgICAgICAgICAgICAgICB2MCA9IGdldEFycmF5VTMyRnJvbVdhc20wKHIwLCByMSkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShyMCwgcjEgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2MDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgaGVpZ2h0IG9mIHRoaXMgaGVpZ2h0ZmllbGQgaWYgaXQgaXMgb25lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvSGVpZ2h0ZmllbGRIZWlnaHRzKGhhbmRsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSGVpZ2h0ZmllbGRIZWlnaHRzKHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICBsZXQgdjA7XG4gICAgICAgICAgICBpZiAocjAgIT09IDApIHtcbiAgICAgICAgICAgICAgICB2MCA9IGdldEFycmF5RjMyRnJvbVdhc20wKHIwLCByMSkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShyMCwgcjEgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2MDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgc2NhbGluZyBmYWN0b3IgYXBwbGllZCBvZiB0aGlzIGhlaWdodGZpZWxkIGlmIGl0IGlzIG9uZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3IgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0hlaWdodGZpZWxkU2NhbGUoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29IZWlnaHRmaWVsZFNjYWxlKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB1bmlxdWUgaW50ZWdlciBpZGVudGlmaWVyIG9mIHRoZSBjb2xsaWRlciB0aGlzIGNvbGxpZGVyIGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvUGFyZW50KGhhbmRsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvUGFyZW50KHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjIgPSBnZXRGbG9hdDY0TWVtb3J5MCgpW3JldHB0ciAvIDggKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBmcmljdGlvbiBjb2VmZmljaWVudCBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvRnJpY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29GcmljdGlvbih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnQgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb1Jlc3RpdHV0aW9uKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvUmVzdGl0dXRpb24odGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGRlbnNpdHkgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0RlbnNpdHkoaGFuZGxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29EZW5zaXR5KHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRGbG9hdDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIxO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBjb2xsaXNpb24gZ3JvdXBzIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29Db2xsaXNpb25Hcm91cHMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29Db2xsaXNpb25Hcm91cHModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHNvbHZlciBncm91cHMgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb1NvbHZlckdyb3VwcyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NvbHZlckdyb3Vwcyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcGh5c2ljcyBob29rcyBlbmFibGVkIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvQWN0aXZlSG9va3MoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29BY3RpdmVIb29rcyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgY29sbGlzaW9uIHR5cGVzIGVuYWJsZWQgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29BY3RpdmVDb2xsaXNpb25UeXBlcyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb0FjdGl2ZUNvbGxpc2lvblR5cGVzKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBldmVudHMgZW5hYmxlZCBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb0FjdGl2ZUV2ZW50cyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb0FjdGl2ZUV2ZW50cyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcG9pbnRcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgY29Db250YWluc1BvaW50KGhhbmRsZSwgcG9pbnQpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHBvaW50LCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQ29udGFpbnNQb2ludCh0aGlzLnB0ciwgaGFuZGxlLCBwb2ludC5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBjb2xsaWRlclZlbFxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGUyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGUyUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZTJSb3RcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZTJWZWxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZVRPSSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvQ2FzdFNoYXBlKGhhbmRsZSwgY29sbGlkZXJWZWwsIHNoYXBlMiwgc2hhcGUyUG9zLCBzaGFwZTJSb3QsIHNoYXBlMlZlbCwgbWF4VG9pKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlclZlbCwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlMiwgUmF3U2hhcGUpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGUyUG9zLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGUyUm90LCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZTJWZWwsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29DYXN0U2hhcGUodGhpcy5wdHIsIGhhbmRsZSwgY29sbGlkZXJWZWwucHRyLCBzaGFwZTIucHRyLCBzaGFwZTJQb3MucHRyLCBzaGFwZTJSb3QucHRyLCBzaGFwZTJWZWwucHRyLCBtYXhUb2kpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3U2hhcGVUT0kuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGNvbGxpZGVyMVZlbFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbGxpZGVyMmhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGNvbGxpZGVyMlZlbFxuICAgICogQHBhcmFtIHtudW1iZXJ9IG1heF90b2lcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZUNvbGxpZGVyVE9JIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29DYXN0Q29sbGlkZXIoaGFuZGxlLCBjb2xsaWRlcjFWZWwsIGNvbGxpZGVyMmhhbmRsZSwgY29sbGlkZXIyVmVsLCBtYXhfdG9pKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcjFWZWwsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcjJWZWwsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29DYXN0Q29sbGlkZXIodGhpcy5wdHIsIGhhbmRsZSwgY29sbGlkZXIxVmVsLnB0ciwgY29sbGlkZXIyaGFuZGxlLCBjb2xsaWRlcjJWZWwucHRyLCBtYXhfdG9pKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlQ29sbGlkZXJUT0kuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGUyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3MyXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdDJcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgY29JbnRlcnNlY3RzU2hhcGUoaGFuZGxlLCBzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZTIsIFJhd1NoYXBlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUG9zMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUm90MiwgUmF3Um90YXRpb24pO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSW50ZXJzZWN0c1NoYXBlKHRoaXMucHRyLCBoYW5kbGUsIHNoYXBlMi5wdHIsIHNoYXBlUG9zMi5wdHIsIHNoYXBlUm90Mi5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3U2hhcGV9IHNoYXBlMlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zMlxuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3QyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcHJlZGljdGlvblxuICAgICogQHJldHVybnMge1Jhd1NoYXBlQ29udGFjdCB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvQ29udGFjdFNoYXBlKGhhbmRsZSwgc2hhcGUyLCBzaGFwZVBvczIsIHNoYXBlUm90MiwgcHJlZGljdGlvbikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGUyLCBSYXdTaGFwZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvczIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdDIsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb0NvbnRhY3RTaGFwZSh0aGlzLnB0ciwgaGFuZGxlLCBzaGFwZTIucHRyLCBzaGFwZVBvczIucHRyLCBzaGFwZVJvdDIucHRyLCBwcmVkaWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlQ29udGFjdC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gY29sbGlkZXIyaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcHJlZGljdGlvblxuICAgICogQHJldHVybnMge1Jhd1NoYXBlQ29udGFjdCB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvQ29udGFjdENvbGxpZGVyKGhhbmRsZSwgY29sbGlkZXIyaGFuZGxlLCBwcmVkaWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29Db250YWN0Q29sbGlkZXIodGhpcy5wdHIsIGhhbmRsZSwgY29sbGlkZXIyaGFuZGxlLCBwcmVkaWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlQ29udGFjdC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcG9pbnRcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEByZXR1cm5zIHtSYXdQb2ludFByb2plY3Rpb259XG4gICAgKi9cbiAgICBjb1Byb2plY3RQb2ludChoYW5kbGUsIHBvaW50LCBzb2xpZCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocG9pbnQsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29Qcm9qZWN0UG9pbnQodGhpcy5wdHIsIGhhbmRsZSwgcG9pbnQucHRyLCBzb2xpZCk7XG4gICAgICAgIHJldHVybiBSYXdQb2ludFByb2plY3Rpb24uX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgY29JbnRlcnNlY3RzUmF5KGhhbmRsZSwgcmF5T3JpZywgcmF5RGlyLCBtYXhUb2kpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheU9yaWcsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyYXlEaXIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29JbnRlcnNlY3RzUmF5KHRoaXMucHRyLCBoYW5kbGUsIHJheU9yaWcucHRyLCByYXlEaXIucHRyLCBtYXhUb2kpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlPcmlnXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5RGlyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29DYXN0UmF5KGhhbmRsZSwgcmF5T3JpZywgcmF5RGlyLCBtYXhUb2ksIHNvbGlkKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5RGlyLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQ2FzdFJheSh0aGlzLnB0ciwgaGFuZGxlLCByYXlPcmlnLnB0ciwgcmF5RGlyLnB0ciwgbWF4VG9pLCBzb2xpZCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEByZXR1cm5zIHtSYXdSYXlJbnRlcnNlY3Rpb24gfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0Nhc3RSYXlBbmRHZXROb3JtYWwoaGFuZGxlLCByYXlPcmlnLCByYXlEaXIsIG1heFRvaSwgc29saWQpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheU9yaWcsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyYXlEaXIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29DYXN0UmF5QW5kR2V0Tm9ybWFsKHRoaXMucHRyLCBoYW5kbGUsIHJheU9yaWcucHRyLCByYXlEaXIucHRyLCBtYXhUb2ksIHNvbGlkKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1JheUludGVyc2VjdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzX3NlbnNvclxuICAgICovXG4gICAgY29TZXRTZW5zb3IoaGFuZGxlLCBpc19zZW5zb3IpIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldFNlbnNvcih0aGlzLnB0ciwgaGFuZGxlLCBpc19zZW5zb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXN0aXR1dGlvblxuICAgICovXG4gICAgY29TZXRSZXN0aXR1dGlvbihoYW5kbGUsIHJlc3RpdHV0aW9uKSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRSZXN0aXR1dGlvbih0aGlzLnB0ciwgaGFuZGxlLCByZXN0aXR1dGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZyaWN0aW9uXG4gICAgKi9cbiAgICBjb1NldEZyaWN0aW9uKGhhbmRsZSwgZnJpY3Rpb24pIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldEZyaWN0aW9uKHRoaXMucHRyLCBoYW5kbGUsIGZyaWN0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29GcmljdGlvbkNvbWJpbmVSdWxlKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvRnJpY3Rpb25Db21iaW5lUnVsZSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcnVsZVxuICAgICovXG4gICAgY29TZXRGcmljdGlvbkNvbWJpbmVSdWxlKGhhbmRsZSwgcnVsZSkge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0RnJpY3Rpb25Db21iaW5lUnVsZSh0aGlzLnB0ciwgaGFuZGxlLCBydWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29SZXN0aXR1dGlvbkNvbWJpbmVSdWxlKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvUmVzdGl0dXRpb25Db21iaW5lUnVsZSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcnVsZVxuICAgICovXG4gICAgY29TZXRSZXN0aXR1dGlvbkNvbWJpbmVSdWxlKGhhbmRsZSwgcnVsZSkge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0UmVzdGl0dXRpb25Db21iaW5lUnVsZSh0aGlzLnB0ciwgaGFuZGxlLCBydWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZ3JvdXBzXG4gICAgKi9cbiAgICBjb1NldENvbGxpc2lvbkdyb3VwcyhoYW5kbGUsIGdyb3Vwcykge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0Q29sbGlzaW9uR3JvdXBzKHRoaXMucHRyLCBoYW5kbGUsIGdyb3Vwcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICovXG4gICAgY29TZXRTb2x2ZXJHcm91cHMoaGFuZGxlLCBncm91cHMpIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldFNvbHZlckdyb3Vwcyh0aGlzLnB0ciwgaGFuZGxlLCBncm91cHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBob29rc1xuICAgICovXG4gICAgY29TZXRBY3RpdmVIb29rcyhoYW5kbGUsIGhvb2tzKSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRBY3RpdmVIb29rcyh0aGlzLnB0ciwgaGFuZGxlLCBob29rcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50c1xuICAgICovXG4gICAgY29TZXRBY3RpdmVFdmVudHMoaGFuZGxlLCBldmVudHMpIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldEFjdGl2ZUV2ZW50cyh0aGlzLnB0ciwgaGFuZGxlLCBldmVudHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlc1xuICAgICovXG4gICAgY29TZXRBY3RpdmVDb2xsaXNpb25UeXBlcyhoYW5kbGUsIHR5cGVzKSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRBY3RpdmVDb2xsaXNpb25UeXBlcyh0aGlzLnB0ciwgaGFuZGxlLCB0eXBlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGVcbiAgICAqL1xuICAgIGNvU2V0U2hhcGUoaGFuZGxlLCBzaGFwZSkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGUsIFJhd1NoYXBlKTtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldFNoYXBlKHRoaXMucHRyLCBoYW5kbGUsIHNoYXBlLnB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdDb2xsaWRlclNldC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgbGVuKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2xlbih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBjb250YWlucyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb250YWlucyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1NoYXBlfSBzaGFwZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHRyYW5zbGF0aW9uXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSByb3RhdGlvblxuICAgICogQHBhcmFtIHtib29sZWFufSB1c2VNYXNzUHJvcHNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gY2VudGVyT2ZNYXNzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcHJpbmNpcGFsQW5ndWxhckluZXJ0aWFcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZW5zaXR5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZnJpY3Rpb25cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXN0aXR1dGlvblxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZyaWN0aW9uQ29tYmluZVJ1bGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXN0aXR1dGlvbkNvbWJpbmVSdWxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2Vuc29yXG4gICAgKiBAcGFyYW0ge251bWJlcn0gY29sbGlzaW9uR3JvdXBzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc29sdmVyR3JvdXBzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYWN0aXZlQ29sbGlzaW9uVHlwZXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBhY3RpdmVIb29rc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGFjdGl2ZUV2ZW50c1xuICAgICogQHBhcmFtIHtib29sZWFufSBoYXNQYXJlbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYXJlbnRcbiAgICAqIEBwYXJhbSB7UmF3UmlnaWRCb2R5U2V0fSBib2RpZXNcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjcmVhdGVDb2xsaWRlcihzaGFwZSwgdHJhbnNsYXRpb24sIHJvdGF0aW9uLCB1c2VNYXNzUHJvcHMsIG1hc3MsIGNlbnRlck9mTWFzcywgcHJpbmNpcGFsQW5ndWxhckluZXJ0aWEsIGRlbnNpdHksIGZyaWN0aW9uLCByZXN0aXR1dGlvbiwgZnJpY3Rpb25Db21iaW5lUnVsZSwgcmVzdGl0dXRpb25Db21iaW5lUnVsZSwgaXNTZW5zb3IsIGNvbGxpc2lvbkdyb3Vwcywgc29sdmVyR3JvdXBzLCBhY3RpdmVDb2xsaXNpb25UeXBlcywgYWN0aXZlSG9va3MsIGFjdGl2ZUV2ZW50cywgaGFzUGFyZW50LCBwYXJlbnQsIGJvZGllcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGUsIFJhd1NoYXBlKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyh0cmFuc2xhdGlvbiwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhyb3RhdGlvbiwgUmF3Um90YXRpb24pO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKGNlbnRlck9mTWFzcywgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NyZWF0ZUNvbGxpZGVyKHJldHB0ciwgdGhpcy5wdHIsIHNoYXBlLnB0ciwgdHJhbnNsYXRpb24ucHRyLCByb3RhdGlvbi5wdHIsIHVzZU1hc3NQcm9wcywgbWFzcywgY2VudGVyT2ZNYXNzLnB0ciwgcHJpbmNpcGFsQW5ndWxhckluZXJ0aWEsIGRlbnNpdHksIGZyaWN0aW9uLCByZXN0aXR1dGlvbiwgZnJpY3Rpb25Db21iaW5lUnVsZSwgcmVzdGl0dXRpb25Db21iaW5lUnVsZSwgaXNTZW5zb3IsIGNvbGxpc2lvbkdyb3Vwcywgc29sdmVyR3JvdXBzLCBhY3RpdmVDb2xsaXNpb25UeXBlcywgYWN0aXZlSG9va3MsIGFjdGl2ZUV2ZW50cywgaGFzUGFyZW50LCBwYXJlbnQsIGJvZGllcy5wdHIpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIyID0gZ2V0RmxvYXQ2NE1lbW9yeTAoKVtyZXRwdHIgLyA4ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZW1vdmVzIGEgY29sbGlkZXIgZnJvbSB0aGlzIHNldCBhbmQgd2FrZS11cCB0aGUgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3SXNsYW5kTWFuYWdlcn0gaXNsYW5kc1xuICAgICogQHBhcmFtIHtSYXdSaWdpZEJvZHlTZXR9IGJvZGllc1xuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJlbW92ZShoYW5kbGUsIGlzbGFuZHMsIGJvZGllcywgd2FrZVVwKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhpc2xhbmRzLCBSYXdJc2xhbmRNYW5hZ2VyKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGJvZGllcywgUmF3UmlnaWRCb2R5U2V0KTtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9yZW1vdmUodGhpcy5wdHIsIGhhbmRsZSwgaXNsYW5kcy5wdHIsIGJvZGllcy5wdHIsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ2hlY2tzIGlmIGEgY29sbGlkZXIgd2l0aCB0aGUgZ2l2ZW4gaW50ZWdlciBoYW5kbGUgZXhpc3RzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBpc0hhbmRsZVZhbGlkKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvbnRhaW5zKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggY29sbGlkZXIgbWFuYWdlZCBieSB0aGlzIGNvbGxpZGVyIHNldC5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGYoaGFuZGxlKWA6IHRoZSBmdW5jdGlvbiB0byBhcHBseSB0byB0aGUgaW50ZWdlciBoYW5kbGUgb2YgZWFjaCBjb2xsaWRlciBtYW5hZ2VkIGJ5IHRoaXMgY29sbGlkZXIgc2V0LiBDYWxsZWQgYXMgYGYoaGFuZGxlKWAuXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgKi9cbiAgICBmb3JFYWNoQ29sbGlkZXJIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9mb3JFYWNoQ29sbGlkZXJIYW5kbGUodGhpcy5wdHIsIGFkZEJvcnJvd2VkT2JqZWN0KGYpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdDb250YWN0TWFuaWZvbGQge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdDb250YWN0TWFuaWZvbGQucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3Y29udGFjdG1hbmlmb2xkX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbm9ybWFsKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9ub3JtYWwodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBsb2NhbF9uMSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfbG9jYWxfbjEodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBsb2NhbF9uMigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfbG9jYWxfbjIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBzdWJzaGFwZTEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX3N1YnNoYXBlMSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHN1YnNoYXBlMigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfc3Vic2hhcGUyKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgbnVtX2NvbnRhY3RzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9udW1fY29udGFjdHModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29udGFjdF9sb2NhbF9wMShpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX2NvbnRhY3RfbG9jYWxfcDEodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29udGFjdF9sb2NhbF9wMihpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX2NvbnRhY3RfbG9jYWxfcDIodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29udGFjdF9kaXN0KGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfY29udGFjdF9kaXN0KHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbnRhY3RfZmlkMShpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX2NvbnRhY3RfZmlkMSh0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGlcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb250YWN0X2ZpZDIoaSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9jb250YWN0X2ZpZDIodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29udGFjdF9pbXB1bHNlKGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfY29udGFjdF9pbXB1bHNlKHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbnRhY3RfdGFuZ2VudF9pbXB1bHNlKGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfY29udGFjdF90YW5nZW50X2ltcHVsc2UodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBudW1fc29sdmVyX2NvbnRhY3RzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9udW1fc29sdmVyX2NvbnRhY3RzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge1Jhd1ZlY3RvciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHNvbHZlcl9jb250YWN0X3BvaW50KGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfc29sdmVyX2NvbnRhY3RfcG9pbnQodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgc29sdmVyX2NvbnRhY3RfZGlzdChpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX3NvbHZlcl9jb250YWN0X2Rpc3QodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgc29sdmVyX2NvbnRhY3RfZnJpY3Rpb24oaSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9zb2x2ZXJfY29udGFjdF9mcmljdGlvbih0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGlcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBzb2x2ZXJfY29udGFjdF9yZXN0aXR1dGlvbihpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX3NvbHZlcl9jb250YWN0X3Jlc3RpdHV0aW9uKHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHNvbHZlcl9jb250YWN0X3RhbmdlbnRfdmVsb2NpdHkoaSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9zb2x2ZXJfY29udGFjdF90YW5nZW50X3ZlbG9jaXR5KHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3Q29udGFjdFBhaXIge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdDb250YWN0UGFpci5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdjb250YWN0cGFpcl9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbGxpZGVyMSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0cGFpcl9jb2xsaWRlcjEodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb2xsaWRlcjIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdHBhaXJfY29sbGlkZXIyKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgbnVtQ29udGFjdE1hbmlmb2xkcygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0cGFpcl9udW1Db250YWN0TWFuaWZvbGRzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge1Jhd0NvbnRhY3RNYW5pZm9sZCB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvbnRhY3RNYW5pZm9sZChpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdHBhaXJfY29udGFjdE1hbmlmb2xkKHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0NvbnRhY3RNYW5pZm9sZC5fX3dyYXAocmV0KTtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3RGVidWdSZW5kZXJQaXBlbGluZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0RlYnVnUmVuZGVyUGlwZWxpbmUucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3ZGVidWdyZW5kZXJwaXBlbGluZV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3ZGVidWdyZW5kZXJwaXBlbGluZV9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd0RlYnVnUmVuZGVyUGlwZWxpbmUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX1cbiAgICAqL1xuICAgIHZlcnRpY2VzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2RlYnVncmVuZGVycGlwZWxpbmVfdmVydGljZXModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9XG4gICAgKi9cbiAgICBjb2xvcnMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3ZGVidWdyZW5kZXJwaXBlbGluZV9jb2xvcnModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3UmlnaWRCb2R5U2V0fSBib2RpZXNcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdJbXB1bHNlSm9pbnRTZXR9IGltcHVsc2Vfam9pbnRzXG4gICAgKiBAcGFyYW0ge1Jhd011bHRpYm9keUpvaW50U2V0fSBtdWx0aWJvZHlfam9pbnRzXG4gICAgKiBAcGFyYW0ge1Jhd05hcnJvd1BoYXNlfSBuYXJyb3dfcGhhc2VcbiAgICAqL1xuICAgIHJlbmRlcihib2RpZXMsIGNvbGxpZGVycywgaW1wdWxzZV9qb2ludHMsIG11bHRpYm9keV9qb2ludHMsIG5hcnJvd19waGFzZSkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYm9kaWVzLCBSYXdSaWdpZEJvZHlTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoY29sbGlkZXJzLCBSYXdDb2xsaWRlclNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhpbXB1bHNlX2pvaW50cywgUmF3SW1wdWxzZUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG11bHRpYm9keV9qb2ludHMsIFJhd011bHRpYm9keUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG5hcnJvd19waGFzZSwgUmF3TmFycm93UGhhc2UpO1xuICAgICAgICB3YXNtLnJhd2RlYnVncmVuZGVycGlwZWxpbmVfcmVuZGVyKHRoaXMucHRyLCBib2RpZXMucHRyLCBjb2xsaWRlcnMucHRyLCBpbXB1bHNlX2pvaW50cy5wdHIsIG11bHRpYm9keV9qb2ludHMucHRyLCBuYXJyb3dfcGhhc2UucHRyKTtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3RGVzZXJpYWxpemVkV29ybGQge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdEZXNlcmlhbGl6ZWRXb3JsZC5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdkZXNlcmlhbGl6ZWR3b3JsZF9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3RvciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHRha2VHcmF2aXR5KCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VHcmF2aXR5KHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgdGFrZUludGVncmF0aW9uUGFyYW1ldGVycygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZXNlcmlhbGl6ZWR3b3JsZF90YWtlSW50ZWdyYXRpb25QYXJhbWV0ZXJzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0ludGVncmF0aW9uUGFyYW1ldGVycy5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3SXNsYW5kTWFuYWdlciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHRha2VJc2xhbmRNYW5hZ2VyKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VJc2xhbmRNYW5hZ2VyKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0lzbGFuZE1hbmFnZXIuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd0Jyb2FkUGhhc2UgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICB0YWtlQnJvYWRQaGFzZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZXNlcmlhbGl6ZWR3b3JsZF90YWtlQnJvYWRQaGFzZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdCcm9hZFBoYXNlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdOYXJyb3dQaGFzZSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHRha2VOYXJyb3dQaGFzZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZXNlcmlhbGl6ZWR3b3JsZF90YWtlTmFycm93UGhhc2UodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3TmFycm93UGhhc2UuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1JpZ2lkQm9keVNldCB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHRha2VCb2RpZXMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3ZGVzZXJpYWxpemVkd29ybGRfdGFrZUJvZGllcyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdSaWdpZEJvZHlTZXQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd0NvbGxpZGVyU2V0IHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgdGFrZUNvbGxpZGVycygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZXNlcmlhbGl6ZWR3b3JsZF90YWtlQ29sbGlkZXJzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0NvbGxpZGVyU2V0Ll9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdJbXB1bHNlSm9pbnRTZXQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICB0YWtlSW1wdWxzZUpvaW50cygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZXNlcmlhbGl6ZWR3b3JsZF90YWtlSW1wdWxzZUpvaW50cyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdJbXB1bHNlSm9pbnRTZXQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd011bHRpYm9keUpvaW50U2V0IHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgdGFrZU11bHRpYm9keUpvaW50cygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZXNlcmlhbGl6ZWR3b3JsZF90YWtlTXVsdGlib2R5Sm9pbnRzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd011bHRpYm9keUpvaW50U2V0Ll9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKiBBIHN0cnVjdHVyZSByZXNwb25zaWJsZSBmb3IgY29sbGVjdGluZyBldmVudHMgZ2VuZXJhdGVkXG4qIGJ5IHRoZSBwaHlzaWNzIGVuZ2luZS5cbiovXG5leHBvcnQgY2xhc3MgUmF3RXZlbnRRdWV1ZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0V2ZW50UXVldWUucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3ZXZlbnRxdWV1ZV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlcyBhIG5ldyBldmVudCBjb2xsZWN0b3IuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBhdXRvRHJhaW5gOiBzZXR0aW5nIHRoaXMgdG8gYHRydWVgIGlzIHN0cm9uZ2x5IHJlY29tbWVuZGVkLiBJZiB0cnVlLCB0aGUgY29sbGVjdG9yIHdpbGxcbiAgICAqIGJlIGF1dG9tYXRpY2FsbHkgZHJhaW5lZCBiZWZvcmUgZWFjaCBgd29ybGQuc3RlcChjb2xsZWN0b3IpYC4gSWYgZmFsc2UsIHRoZSBjb2xsZWN0b3Igd2lsbFxuICAgICoga2VlcCBhbGwgZXZlbnRzIGluIG1lbW9yeSB1bmxlc3MgaXQgaXMgbWFudWFsbHkgZHJhaW5lZC9jbGVhcmVkOyB0aGlzIG1heSBsZWFkIHRvIHVuYm91bmRlZCB1c2Ugb2ZcbiAgICAqIFJBTSBpZiBubyBkcmFpbiBpcyBwZXJmb3JtZWQuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dG9EcmFpblxuICAgICovXG4gICAgY29uc3RydWN0b3IoYXV0b0RyYWluKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3ZXZlbnRxdWV1ZV9uZXcoYXV0b0RyYWluKTtcbiAgICAgICAgcmV0dXJuIFJhd0V2ZW50UXVldWUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gamF2YXNjcmlwdCBjbG9zdXJlIG9uIGVhY2ggY29sbGlzaW9uIGV2ZW50IG9mIHRoaXMgY29sbGVjdG9yLCB0aGVuIGNsZWFyXG4gICAgKiB0aGUgaW50ZXJuYWwgY29sbGlzaW9uIGV2ZW50IGJ1ZmZlci5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGYoaGFuZGxlMSwgaGFuZGxlMiwgc3RhcnRlZClgOiAgSmF2YVNjcmlwdCBjbG9zdXJlIGFwcGxpZWQgdG8gZWFjaCBjb2xsaXNpb24gZXZlbnQuIFRoZVxuICAgICogY2xvc3VyZSBzaG91bGQgdGFrZSB0aHJlZSBhcmd1bWVudHM6IHR3byBpbnRlZ2VycyByZXByZXNlbnRpbmcgdGhlIGhhbmRsZXMgb2YgdGhlIGNvbGxpZGVyc1xuICAgICogaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbiwgYW5kIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBjb2xsaXNpb24gc3RhcnRlZCAodHJ1ZSkgb3Igc3RvcHBlZFxuICAgICogKGZhbHNlKS5cbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAgICAqL1xuICAgIGRyYWluQ29sbGlzaW9uRXZlbnRzKGYpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdhc20ucmF3ZXZlbnRxdWV1ZV9kcmFpbkNvbGxpc2lvbkV2ZW50cyh0aGlzLnB0ciwgYWRkQm9ycm93ZWRPYmplY3QoZikpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaGVhcFtzdGFja19wb2ludGVyKytdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogUmVtb3ZlcyBhbGwgZXZlbnRzIGNvbnRhaW5lZCBieSB0aGlzIGNvbGxlY3Rvci5cbiAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB3YXNtLnJhd2V2ZW50cXVldWVfY2xlYXIodGhpcy5wdHIpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdHZW5lcmljSm9pbnQge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdHZW5lcmljSm9pbnQucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3Z2VuZXJpY2pvaW50X2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBDcmVhdGVzIGEgbmV3IGpvaW50IGRlc2NyaXB0b3IgdGhhdCBidWlsZHMgYSBQcmlzbWF0aWMgam9pbnQuXG4gICAgKlxuICAgICogQSBwcmlzbWF0aWMgam9pbnQgcmVtb3ZlcyBhbGwgdGhlIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZVxuICAgICogYWZmZWN0ZWQgYm9kaWVzLCBleGNlcHQgZm9yIHRoZSB0cmFuc2xhdGlvbiBhbG9uZyBvbmUgYXhpcy5cbiAgICAqXG4gICAgKiBSZXR1cm5zIGBOb25lYCBpZiBhbnkgb2YgdGhlIHByb3ZpZGVkIGF4ZXMgY2Fubm90IGJlIG5vcm1hbGl6ZWQuXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gYW5jaG9yMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuY2hvcjJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBheGlzXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxpbWl0c0VuYWJsZWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdHNNaW5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdHNNYXhcbiAgICAqIEByZXR1cm5zIHtSYXdHZW5lcmljSm9pbnQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzdGF0aWMgcHJpc21hdGljKGFuY2hvcjEsIGFuY2hvcjIsIGF4aXMsIGxpbWl0c0VuYWJsZWQsIGxpbWl0c01pbiwgbGltaXRzTWF4KSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhhbmNob3IxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYW5jaG9yMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGF4aXMsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Z2VuZXJpY2pvaW50X3ByaXNtYXRpYyhhbmNob3IxLnB0ciwgYW5jaG9yMi5wdHIsIGF4aXMucHRyLCBsaW1pdHNFbmFibGVkLCBsaW1pdHNNaW4sIGxpbWl0c01heCk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdHZW5lcmljSm9pbnQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlcyBhIG5ldyBqb2ludCBkZXNjcmlwdG9yIHRoYXQgYnVpbGRzIGEgRml4ZWQgam9pbnQuXG4gICAgKlxuICAgICogQSBmaXhlZCBqb2ludCByZW1vdmVzIGFsbCB0aGUgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGFmZmVjdGVkIGJvZGllcy5cbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBhbmNob3IxXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBheGVzMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuY2hvcjJcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IGF4ZXMyXG4gICAgKiBAcmV0dXJucyB7UmF3R2VuZXJpY0pvaW50fVxuICAgICovXG4gICAgc3RhdGljIGZpeGVkKGFuY2hvcjEsIGF4ZXMxLCBhbmNob3IyLCBheGVzMikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYW5jaG9yMSwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGF4ZXMxLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhhbmNob3IyLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYXhlczIsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdnZW5lcmljam9pbnRfZml4ZWQoYW5jaG9yMS5wdHIsIGF4ZXMxLnB0ciwgYW5jaG9yMi5wdHIsIGF4ZXMyLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdHZW5lcmljSm9pbnQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IGpvaW50IGRlc2NyaXB0b3IgdGhhdCBidWlsZHMgUmV2b2x1dGUgam9pbnRzLlxuICAgICpcbiAgICAqIEEgcmV2b2x1dGUgam9pbnQgcmVtb3ZlcyBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGFmZmVjdGVkXG4gICAgKiBib2RpZXMgZXhjZXB0IGZvciB0aGUgcm90YXRpb24uXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gYW5jaG9yMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuY2hvcjJcbiAgICAqIEByZXR1cm5zIHtSYXdHZW5lcmljSm9pbnQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzdGF0aWMgcmV2b2x1dGUoYW5jaG9yMSwgYW5jaG9yMikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYW5jaG9yMSwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFuY2hvcjIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Z2VuZXJpY2pvaW50X3Jldm9sdXRlKGFuY2hvcjEucHRyLCBhbmNob3IyLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdHZW5lcmljSm9pbnQuX193cmFwKHJldCk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0ltcHVsc2VKb2ludFNldCB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0ltcHVsc2VKb2ludFNldC5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdpbXB1bHNlam9pbnRzZXRfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB0eXBlIG9mIHRoaXMgam9pbnQuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgam9pbnRUeXBlKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludFR5cGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHVuaXF1ZSBpbnRlZ2VyIGlkZW50aWZpZXIgb2YgdGhlIGZpcnN0IHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpdCBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBqb2ludEJvZHlIYW5kbGUxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludEJvZHlIYW5kbGUxKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB1bmlxdWUgaW50ZWdlciBpZGVudGlmaWVyIG9mIHRoZSBzZWNvbmQgcmlnaWQtYm9keSB0aGlzIGpvaW50IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGpvaW50Qm9keUhhbmRsZTIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50Qm9keUhhbmRsZTIodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGFuZ3VsYXIgcGFydCBvZiB0aGUgam9pbnTigJlzIGxvY2FsIGZyYW1lIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1JvdGF0aW9ufVxuICAgICovXG4gICAgam9pbnRGcmFtZVgxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludEZyYW1lWDEodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdSb3RhdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgYW5ndWxhciBwYXJ0IG9mIHRoZSBqb2ludOKAmXMgbG9jYWwgZnJhbWUgcmVsYXRpdmUgdG8gdGhlIHNlY29uZCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1JvdGF0aW9ufVxuICAgICovXG4gICAgam9pbnRGcmFtZVgyKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludEZyYW1lWDIodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdSb3RhdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGlzIGpvaW50LlxuICAgICpcbiAgICAqIFRoZSBmaXJzdCBhbmNob3IgZ2l2ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb2ludHMgYXBwbGljYXRpb24gcG9pbnQgb24gdGhlXG4gICAgKiBsb2NhbCBmcmFtZSBvZiB0aGUgZmlyc3QgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBqb2ludEFuY2hvcjEoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50QW5jaG9yMSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhpcyBqb2ludC5cbiAgICAqXG4gICAgKiBUaGUgc2Vjb25kIGFuY2hvciBnaXZlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvaW50cyBhcHBsaWNhdGlvbiBwb2ludCBvbiB0aGVcbiAgICAqIGxvY2FsIGZyYW1lIG9mIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBqb2ludEFuY2hvcjIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50QW5jaG9yMih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcmUgdGhlIGxpbWl0cyBmb3IgdGhpcyBqb2ludCBlbmFibGVkP1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgam9pbnRMaW1pdHNFbmFibGVkKGhhbmRsZSwgYXhpcykge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludExpbWl0c0VuYWJsZWQodGhpcy5wdHIsIGhhbmRsZSwgYXhpcyk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0dXJuIHRoZSBsb3dlciBsaW1pdCBhbG9uZyB0aGUgZ2l2ZW4gam9pbnQgYXhpcy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBheGlzXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgam9pbnRMaW1pdHNNaW4oaGFuZGxlLCBheGlzKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50TGltaXRzTWluKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIElmIHRoaXMgaXMgYSBwcmlzbWF0aWMgam9pbnQsIHJldHVybnMgaXRzIHVwcGVyIGxpbWl0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBqb2ludExpbWl0c01heChoYW5kbGUsIGF4aXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfam9pbnRMaW1pdHNNYXgodGhpcy5wdHIsIGhhbmRsZSwgYXhpcyk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtb2RlbFxuICAgICovXG4gICAgam9pbnRDb25maWd1cmVNb3Rvck1vZGVsKGhhbmRsZSwgYXhpcywgbW9kZWwpIHtcbiAgICAgICAgd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfam9pbnRDb25maWd1cmVNb3Rvck1vZGVsKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMsIG1vZGVsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFZlbFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvclxuICAgICovXG4gICAgam9pbnRDb25maWd1cmVNb3RvclZlbG9jaXR5KGhhbmRsZSwgYXhpcywgdGFyZ2V0VmVsLCBmYWN0b3IpIHtcbiAgICAgICAgd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfam9pbnRDb25maWd1cmVNb3RvclZlbG9jaXR5KHRoaXMucHRyLCBoYW5kbGUsIGF4aXMsIHRhcmdldFZlbCwgZmFjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFBvc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHN0aWZmbmVzc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGRhbXBpbmdcbiAgICAqL1xuICAgIGpvaW50Q29uZmlndXJlTW90b3JQb3NpdGlvbihoYW5kbGUsIGF4aXMsIHRhcmdldFBvcywgc3RpZmZuZXNzLCBkYW1waW5nKSB7XG4gICAgICAgIHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50Q29uZmlndXJlTW90b3JQb3NpdGlvbih0aGlzLnB0ciwgaGFuZGxlLCBheGlzLCB0YXJnZXRQb3MsIHN0aWZmbmVzcywgZGFtcGluZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRQb3NcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRWZWxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGlmZm5lc3NcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYW1waW5nXG4gICAgKi9cbiAgICBqb2ludENvbmZpZ3VyZU1vdG9yKGhhbmRsZSwgYXhpcywgdGFyZ2V0UG9zLCB0YXJnZXRWZWwsIHN0aWZmbmVzcywgZGFtcGluZykge1xuICAgICAgICB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludENvbmZpZ3VyZU1vdG9yKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMsIHRhcmdldFBvcywgdGFyZ2V0VmVsLCBzdGlmZm5lc3MsIGRhbXBpbmcpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd0ltcHVsc2VKb2ludFNldC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd0dlbmVyaWNKb2ludH0gcGFyYW1zXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcGFyZW50MVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcmVudDJcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZV91cFxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNyZWF0ZUpvaW50KHBhcmFtcywgcGFyZW50MSwgcGFyZW50Miwgd2FrZV91cCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocGFyYW1zLCBSYXdHZW5lcmljSm9pbnQpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9jcmVhdGVKb2ludCh0aGlzLnB0ciwgcGFyYW1zLnB0ciwgcGFyZW50MSwgcGFyZW50Miwgd2FrZV91cCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJlbW92ZShoYW5kbGUsIHdha2VVcCkge1xuICAgICAgICB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9yZW1vdmUodGhpcy5wdHIsIGhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgbGVuKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9sZW4odGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgY29udGFpbnMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2NvbnRhaW5zKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHBoeXNpY3Mgd29ybGQuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHNldC4gQ2FsbGVkIGFzIGBmKGNvbGxpZGVyKWAuXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgKi9cbiAgICBmb3JFYWNoSm9pbnRIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfZm9yRWFjaEpvaW50SGFuZGxlKHRoaXMucHRyLCBhZGRCb3Jyb3dlZE9iamVjdChmKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBKYXZhU2NyaXB0IGZ1bmN0aW9uIHRvIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIGpvaW50IGF0dGFjaGVkIHRvIHRoZSBnaXZlbiByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgZihoYW5kbGUpYDogdGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIGpvaW50IGF0dGFjaGVkIHRvIHRoZSByaWdpZC1ib2R5LiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBib2R5XG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgKi9cbiAgICBmb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5KGJvZHksIGYpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2ZvckVhY2hKb2ludEF0dGFjaGVkVG9SaWdpZEJvZHkodGhpcy5wdHIsIGJvZHksIGFkZEJvcnJvd2VkT2JqZWN0KGYpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCBkdCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfZHQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgZXJwKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19lcnAodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgYWxsb3dlZExpbmVhckVycm9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19hbGxvd2VkTGluZWFyRXJyb3IodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgcHJlZGljdGlvbkRpc3RhbmNlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19wcmVkaWN0aW9uRGlzdGFuY2UodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19tYXhWZWxvY2l0eUl0ZXJhdGlvbnModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgbWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX21heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZ2V0IG1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19tYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCBtaW5Jc2xhbmRTaXplKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19taW5Jc2xhbmRTaXplKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZ2V0IG1heENjZFN1YnN0ZXBzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19tYXhDY2RTdWJzdGVwcyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgZHQodmFsdWUpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X2R0KHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgZXJwKHZhbHVlKSB7XG4gICAgICAgIHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX3NldF9lcnAodGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBhbGxvd2VkTGluZWFyRXJyb3IodmFsdWUpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X2FsbG93ZWRMaW5lYXJFcnJvcih0aGlzLnB0ciwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICovXG4gICAgc2V0IHByZWRpY3Rpb25EaXN0YW5jZSh2YWx1ZSkge1xuICAgICAgICB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19zZXRfcHJlZGljdGlvbkRpc3RhbmNlKHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKHZhbHVlKSB7XG4gICAgICAgIHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX3NldF9tYXhWZWxvY2l0eUl0ZXJhdGlvbnModGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBtYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucyh2YWx1ZSkge1xuICAgICAgICB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19zZXRfbWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnModGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBtYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyh2YWx1ZSkge1xuICAgICAgICB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19zZXRfbWF4U3RhYmlsaXphdGlvbkl0ZXJhdGlvbnModGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBtaW5Jc2xhbmRTaXplKHZhbHVlKSB7XG4gICAgICAgIHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX3NldF9taW5Jc2xhbmRTaXplKHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgbWF4Q2NkU3Vic3RlcHModmFsdWUpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X21heENjZFN1YnN0ZXBzKHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0lzbGFuZE1hbmFnZXIge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdJc2xhbmRNYW5hZ2VyLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd2lzbGFuZG1hbmFnZXJfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2lzbGFuZG1hbmFnZXJfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdJc2xhbmRNYW5hZ2VyLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggYWN0aXZlIHJpZ2lkLWJvZHlcbiAgICAqIG1hbmFnZWQgYnkgdGhpcyBpc2xhbmQgbWFuYWdlci5cbiAgICAqXG4gICAgKiBBZnRlciBhIHNob3J0IHRpbWUgb2YgaW5hY3Rpdml0eSwgYSByaWdpZC1ib2R5IGlzIGF1dG9tYXRpY2FsbHkgZGVhY3RpdmF0ZWQgKFwiYXNsZWVwXCIpIGJ5XG4gICAgKiB0aGUgcGh5c2ljcyBlbmdpbmUgaW4gb3JkZXIgdG8gc2F2ZSBjb21wdXRhdGlvbmFsIHBvd2VyLiBBIHNsZWVwaW5nIHJpZ2lkLWJvZHkgbmV2ZXIgbW92ZXNcbiAgICAqIHVubGVzcyBpdCBpcyBtb3ZlZCBtYW51YWxseSBieSB0aGUgdXNlci5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGYoaGFuZGxlKWA6IHRoZSBmdW5jdGlvbiB0byBhcHBseSB0byB0aGUgaW50ZWdlciBoYW5kbGUgb2YgZWFjaCBhY3RpdmUgcmlnaWQtYm9keSBtYW5hZ2VkIGJ5IHRoaXNcbiAgICAqICAgc2V0LiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAgICAqL1xuICAgIGZvckVhY2hBY3RpdmVSaWdpZEJvZHlIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdpc2xhbmRtYW5hZ2VyX2ZvckVhY2hBY3RpdmVSaWdpZEJvZHlIYW5kbGUodGhpcy5wdHIsIGFkZEJvcnJvd2VkT2JqZWN0KGYpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdNdWx0aWJvZHlKb2ludFNldCB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd011bHRpYm9keUpvaW50U2V0LnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd211bHRpYm9keWpvaW50c2V0X2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgdHlwZSBvZiB0aGlzIGpvaW50LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGpvaW50VHlwZShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9qb2ludFR5cGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGFuZ3VsYXIgcGFydCBvZiB0aGUgam9pbnTigJlzIGxvY2FsIGZyYW1lIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1JvdGF0aW9ufVxuICAgICovXG4gICAgam9pbnRGcmFtZVgxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2pvaW50RnJhbWVYMSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1JvdGF0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBhbmd1bGFyIHBhcnQgb2YgdGhlIGpvaW504oCZcyBsb2NhbCBmcmFtZSByZWxhdGl2ZSB0byB0aGUgc2Vjb25kIHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3Um90YXRpb259XG4gICAgKi9cbiAgICBqb2ludEZyYW1lWDIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bXVsdGlib2R5am9pbnRzZXRfam9pbnRGcmFtZVgyKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3Um90YXRpb24uX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBhbmNob3Igb2YgdGhpcyBqb2ludC5cbiAgICAqXG4gICAgKiBUaGUgZmlyc3QgYW5jaG9yIGdpdmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9pbnRzIGFwcGxpY2F0aW9uIHBvaW50IG9uIHRoZVxuICAgICogbG9jYWwgZnJhbWUgb2YgdGhlIGZpcnN0IHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgam9pbnRBbmNob3IxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2pvaW50QW5jaG9yMSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhpcyBqb2ludC5cbiAgICAqXG4gICAgKiBUaGUgc2Vjb25kIGFuY2hvciBnaXZlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvaW50cyBhcHBsaWNhdGlvbiBwb2ludCBvbiB0aGVcbiAgICAqIGxvY2FsIGZyYW1lIG9mIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBqb2ludEFuY2hvcjIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bXVsdGlib2R5am9pbnRzZXRfam9pbnRBbmNob3IyKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFyZSB0aGUgbGltaXRzIGZvciB0aGlzIGpvaW50IGVuYWJsZWQ/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBqb2ludExpbWl0c0VuYWJsZWQoaGFuZGxlLCBheGlzKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bXVsdGlib2R5am9pbnRzZXRfam9pbnRMaW1pdHNFbmFibGVkKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJldHVybiB0aGUgbG93ZXIgbGltaXQgYWxvbmcgdGhlIGdpdmVuIGpvaW50IGF4aXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGpvaW50TGltaXRzTWluKGhhbmRsZSwgYXhpcykge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2pvaW50TGltaXRzTWluKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIElmIHRoaXMgaXMgYSBwcmlzbWF0aWMgam9pbnQsIHJldHVybnMgaXRzIHVwcGVyIGxpbWl0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBqb2ludExpbWl0c01heChoYW5kbGUsIGF4aXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9qb2ludExpbWl0c01heCh0aGlzLnB0ciwgaGFuZGxlLCBheGlzKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd011bHRpYm9keUpvaW50U2V0Ll9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3R2VuZXJpY0pvaW50fSBwYXJhbXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYXJlbnQxXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcGFyZW50MlxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjcmVhdGVKb2ludChwYXJhbXMsIHBhcmVudDEsIHBhcmVudDIsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocGFyYW1zLCBSYXdHZW5lcmljSm9pbnQpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2NyZWF0ZUpvaW50KHRoaXMucHRyLCBwYXJhbXMucHRyLCBwYXJlbnQxLCBwYXJlbnQyLCB3YWtlVXApO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByZW1vdmUoaGFuZGxlLCB3YWtlVXApIHtcbiAgICAgICAgd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9yZW1vdmUodGhpcy5wdHIsIGhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvbnRhaW5zKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2NvbnRhaW5zKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHBoeXNpY3Mgd29ybGQuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHNldC4gQ2FsbGVkIGFzIGBmKGNvbGxpZGVyKWAuXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgKi9cbiAgICBmb3JFYWNoSm9pbnRIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9mb3JFYWNoSm9pbnRIYW5kbGUodGhpcy5wdHIsIGFkZEJvcnJvd2VkT2JqZWN0KGYpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgYXR0YWNoZWQgdG8gdGhlIGdpdmVuIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgYXR0YWNoZWQgdG8gdGhlIHJpZ2lkLWJvZHkuIENhbGxlZCBhcyBgZihjb2xsaWRlcilgLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGJvZHlcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAgICAqL1xuICAgIGZvckVhY2hKb2ludEF0dGFjaGVkVG9SaWdpZEJvZHkoYm9keSwgZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9mb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5KHRoaXMucHRyLCBib2R5LCBhZGRCb3Jyb3dlZE9iamVjdChmKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3TmFycm93UGhhc2Uge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdOYXJyb3dQaGFzZS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXduYXJyb3dwaGFzZV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bmFycm93cGhhc2VfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdOYXJyb3dQaGFzZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlMVxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICovXG4gICAgY29udGFjdHNfd2l0aChoYW5kbGUxLCBmKSB7XG4gICAgICAgIHdhc20ucmF3bmFycm93cGhhc2VfY29udGFjdHNfd2l0aCh0aGlzLnB0ciwgaGFuZGxlMSwgYWRkSGVhcE9iamVjdChmKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZTFcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUyXG4gICAgKiBAcmV0dXJucyB7UmF3Q29udGFjdFBhaXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb250YWN0X3BhaXIoaGFuZGxlMSwgaGFuZGxlMikge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd25hcnJvd3BoYXNlX2NvbnRhY3RfcGFpcih0aGlzLnB0ciwgaGFuZGxlMSwgaGFuZGxlMik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdDb250YWN0UGFpci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlMVxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICovXG4gICAgaW50ZXJzZWN0aW9uc193aXRoKGhhbmRsZTEsIGYpIHtcbiAgICAgICAgd2FzbS5yYXduYXJyb3dwaGFzZV9pbnRlcnNlY3Rpb25zX3dpdGgodGhpcy5wdHIsIGhhbmRsZTEsIGFkZEhlYXBPYmplY3QoZikpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUxXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlMlxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBpbnRlcnNlY3Rpb25fcGFpcihoYW5kbGUxLCBoYW5kbGUyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bmFycm93cGhhc2VfaW50ZXJzZWN0aW9uX3BhaXIodGhpcy5wdHIsIGhhbmRsZTEsIGhhbmRsZTIpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdQaHlzaWNzUGlwZWxpbmUge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdQaHlzaWNzUGlwZWxpbmUucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cGh5c2ljc3BpcGVsaW5lX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwaHlzaWNzcGlwZWxpbmVfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdQaHlzaWNzUGlwZWxpbmUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGdyYXZpdHlcbiAgICAqIEBwYXJhbSB7UmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzfSBpbnRlZ3JhdGlvblBhcmFtZXRlcnNcbiAgICAqIEBwYXJhbSB7UmF3SXNsYW5kTWFuYWdlcn0gaXNsYW5kc1xuICAgICogQHBhcmFtIHtSYXdCcm9hZFBoYXNlfSBicm9hZFBoYXNlXG4gICAgKiBAcGFyYW0ge1Jhd05hcnJvd1BoYXNlfSBuYXJyb3dQaGFzZVxuICAgICogQHBhcmFtIHtSYXdSaWdpZEJvZHlTZXR9IGJvZGllc1xuICAgICogQHBhcmFtIHtSYXdDb2xsaWRlclNldH0gY29sbGlkZXJzXG4gICAgKiBAcGFyYW0ge1Jhd0ltcHVsc2VKb2ludFNldH0gam9pbnRzXG4gICAgKiBAcGFyYW0ge1Jhd011bHRpYm9keUpvaW50U2V0fSBhcnRpY3VsYXRpb25zXG4gICAgKiBAcGFyYW0ge1Jhd0NDRFNvbHZlcn0gY2NkX3NvbHZlclxuICAgICovXG4gICAgc3RlcChncmF2aXR5LCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMsIGlzbGFuZHMsIGJyb2FkUGhhc2UsIG5hcnJvd1BoYXNlLCBib2RpZXMsIGNvbGxpZGVycywgam9pbnRzLCBhcnRpY3VsYXRpb25zLCBjY2Rfc29sdmVyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhncmF2aXR5LCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhicm9hZFBoYXNlLCBSYXdCcm9hZFBoYXNlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG5hcnJvd1BoYXNlLCBSYXdOYXJyb3dQaGFzZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGpvaW50cywgUmF3SW1wdWxzZUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFydGljdWxhdGlvbnMsIFJhd011bHRpYm9keUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNjZF9zb2x2ZXIsIFJhd0NDRFNvbHZlcik7XG4gICAgICAgIHdhc20ucmF3cGh5c2ljc3BpcGVsaW5lX3N0ZXAodGhpcy5wdHIsIGdyYXZpdHkucHRyLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucHRyLCBpc2xhbmRzLnB0ciwgYnJvYWRQaGFzZS5wdHIsIG5hcnJvd1BoYXNlLnB0ciwgYm9kaWVzLnB0ciwgY29sbGlkZXJzLnB0ciwgam9pbnRzLnB0ciwgYXJ0aWN1bGF0aW9ucy5wdHIsIGNjZF9zb2x2ZXIucHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gZ3Jhdml0eVxuICAgICogQHBhcmFtIHtSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnN9IGludGVncmF0aW9uUGFyYW1ldGVyc1xuICAgICogQHBhcmFtIHtSYXdJc2xhbmRNYW5hZ2VyfSBpc2xhbmRzXG4gICAgKiBAcGFyYW0ge1Jhd0Jyb2FkUGhhc2V9IGJyb2FkUGhhc2VcbiAgICAqIEBwYXJhbSB7UmF3TmFycm93UGhhc2V9IG5hcnJvd1BoYXNlXG4gICAgKiBAcGFyYW0ge1Jhd1JpZ2lkQm9keVNldH0gYm9kaWVzXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3SW1wdWxzZUpvaW50U2V0fSBqb2ludHNcbiAgICAqIEBwYXJhbSB7UmF3TXVsdGlib2R5Sm9pbnRTZXR9IGFydGljdWxhdGlvbnNcbiAgICAqIEBwYXJhbSB7UmF3Q0NEU29sdmVyfSBjY2Rfc29sdmVyXG4gICAgKiBAcGFyYW0ge1Jhd0V2ZW50UXVldWV9IGV2ZW50UXVldWVcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBob29rT2JqZWN0XG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBob29rRmlsdGVyQ29udGFjdFBhaXJcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhvb2tGaWx0ZXJJbnRlcnNlY3Rpb25QYWlyXG4gICAgKi9cbiAgICBzdGVwV2l0aEV2ZW50cyhncmF2aXR5LCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMsIGlzbGFuZHMsIGJyb2FkUGhhc2UsIG5hcnJvd1BoYXNlLCBib2RpZXMsIGNvbGxpZGVycywgam9pbnRzLCBhcnRpY3VsYXRpb25zLCBjY2Rfc29sdmVyLCBldmVudFF1ZXVlLCBob29rT2JqZWN0LCBob29rRmlsdGVyQ29udGFjdFBhaXIsIGhvb2tGaWx0ZXJJbnRlcnNlY3Rpb25QYWlyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhncmF2aXR5LCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhicm9hZFBoYXNlLCBSYXdCcm9hZFBoYXNlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG5hcnJvd1BoYXNlLCBSYXdOYXJyb3dQaGFzZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGpvaW50cywgUmF3SW1wdWxzZUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFydGljdWxhdGlvbnMsIFJhd011bHRpYm9keUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNjZF9zb2x2ZXIsIFJhd0NDRFNvbHZlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhldmVudFF1ZXVlLCBSYXdFdmVudFF1ZXVlKTtcbiAgICAgICAgd2FzbS5yYXdwaHlzaWNzcGlwZWxpbmVfc3RlcFdpdGhFdmVudHModGhpcy5wdHIsIGdyYXZpdHkucHRyLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucHRyLCBpc2xhbmRzLnB0ciwgYnJvYWRQaGFzZS5wdHIsIG5hcnJvd1BoYXNlLnB0ciwgYm9kaWVzLnB0ciwgY29sbGlkZXJzLnB0ciwgam9pbnRzLnB0ciwgYXJ0aWN1bGF0aW9ucy5wdHIsIGNjZF9zb2x2ZXIucHRyLCBldmVudFF1ZXVlLnB0ciwgYWRkSGVhcE9iamVjdChob29rT2JqZWN0KSwgYWRkSGVhcE9iamVjdChob29rRmlsdGVyQ29udGFjdFBhaXIpLCBhZGRIZWFwT2JqZWN0KGhvb2tGaWx0ZXJJbnRlcnNlY3Rpb25QYWlyKSk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1BvaW50Q29sbGlkZXJQcm9qZWN0aW9uIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3UG9pbnRDb2xsaWRlclByb2plY3Rpb24ucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb2xsaWRlckhhbmRsZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwb2ludGNvbGxpZGVycHJvamVjdGlvbl9jb2xsaWRlckhhbmRsZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHBvaW50KCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX3BvaW50KHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGlzSW5zaWRlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX2lzSW5zaWRlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZmVhdHVyZVR5cGUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fZmVhdHVyZVR5cGUodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBmZWF0dXJlSWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fZmVhdHVyZUlkKHJldHB0ciwgdGhpcy5wdHIpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICAgICAgcmV0dXJuIHIwID09PSAwID8gdW5kZWZpbmVkIDogcjEgPj4+IDA7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1BvaW50UHJvamVjdGlvbiB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1BvaW50UHJvamVjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdwb2ludHByb2plY3Rpb25fZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBwb2ludCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwb2ludHByb2plY3Rpb25fcG9pbnQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgaXNJbnNpZGUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cG9pbnRwcm9qZWN0aW9uX2lzSW5zaWRlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3UXVlcnlQaXBlbGluZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1F1ZXJ5UGlwZWxpbmUucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cXVlcnlwaXBlbGluZV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd1F1ZXJ5UGlwZWxpbmUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdJc2xhbmRNYW5hZ2VyfSBpc2xhbmRzXG4gICAgKiBAcGFyYW0ge1Jhd1JpZ2lkQm9keVNldH0gYm9kaWVzXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqL1xuICAgIHVwZGF0ZShpc2xhbmRzLCBib2RpZXMsIGNvbGxpZGVycykge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgd2FzbS5yYXdxdWVyeXBpcGVsaW5lX3VwZGF0ZSh0aGlzLnB0ciwgaXNsYW5kcy5wdHIsIGJvZGllcy5wdHIsIGNvbGxpZGVycy5wdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICogQHJldHVybnMge1Jhd1JheUNvbGxpZGVyVG9pIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY2FzdFJheShjb2xsaWRlcnMsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9jYXN0UmF5KHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCByYXlPcmlnLnB0ciwgcmF5RGlyLnB0ciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdSYXlDb2xsaWRlclRvaS5fX3dyYXAocmV0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICogQHJldHVybnMge1Jhd1JheUNvbGxpZGVySW50ZXJzZWN0aW9uIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY2FzdFJheUFuZEdldE5vcm1hbChjb2xsaWRlcnMsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9jYXN0UmF5QW5kR2V0Tm9ybWFsKHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCByYXlPcmlnLnB0ciwgcmF5RGlyLnB0ciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdSYXlDb2xsaWRlckludGVyc2VjdGlvbi5fX3dyYXAocmV0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJcbiAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoUmF5KGNvbGxpZGVycywgcmF5T3JpZywgcmF5RGlyLCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIHdhc20ucmF3cXVlcnlwaXBlbGluZV9pbnRlcnNlY3Rpb25zV2l0aFJheSh0aGlzLnB0ciwgY29sbGlkZXJzLnB0ciwgcmF5T3JpZy5wdHIsIHJheURpci5wdHIsIG1heFRvaSwgc29saWQsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoY2FsbGJhY2spLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGludGVyc2VjdGlvbldpdGhTaGFwZShjb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvcywgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlLCBSYXdTaGFwZSk7XG4gICAgICAgICAgICB3YXNtLnJhd3F1ZXJ5cGlwZWxpbmVfaW50ZXJzZWN0aW9uV2l0aFNoYXBlKHJldHB0ciwgdGhpcy5wdHIsIGNvbGxpZGVycy5wdHIsIHNoYXBlUG9zLnB0ciwgc2hhcGVSb3QucHRyLCBzaGFwZS5wdHIsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoZmlsdGVyKSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjIgPSBnZXRGbG9hdDY0TWVtb3J5MCgpW3JldHB0ciAvIDggKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZ3JvdXBzXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJcbiAgICAqIEByZXR1cm5zIHtSYXdQb2ludENvbGxpZGVyUHJvamVjdGlvbiB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHByb2plY3RQb2ludChjb2xsaWRlcnMsIHBvaW50LCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9wcm9qZWN0UG9pbnQodGhpcy5wdHIsIGNvbGxpZGVycy5wdHIsIHBvaW50LnB0ciwgc29saWQsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoZmlsdGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3UG9pbnRDb2xsaWRlclByb2plY3Rpb24uX193cmFwKHJldCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwb2ludFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICogQHJldHVybnMge1Jhd1BvaW50Q29sbGlkZXJQcm9qZWN0aW9uIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgcHJvamVjdFBvaW50QW5kR2V0RmVhdHVyZShjb2xsaWRlcnMsIHBvaW50LCBncm91cHMpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNvbGxpZGVycywgUmF3Q29sbGlkZXJTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocG9pbnQsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9wcm9qZWN0UG9pbnRBbmRHZXRGZWF0dXJlKHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCBwb2ludC5wdHIsIGdyb3Vwcyk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdQb2ludENvbGxpZGVyUHJvamVjdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwb2ludFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGhQb2ludChjb2xsaWRlcnMsIHBvaW50LCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIHdhc20ucmF3cXVlcnlwaXBlbGluZV9pbnRlcnNlY3Rpb25zV2l0aFBvaW50KHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCBwb2ludC5wdHIsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoY2FsbGJhY2spLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlVmVsXG4gICAgKiBAcGFyYW0ge1Jhd1NoYXBlfSBzaGFwZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRvaVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGVDb2xsaWRlclRPSSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNhc3RTaGFwZShjb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGVWZWwsIHNoYXBlLCBtYXhUb2ksIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3MoY29sbGlkZXJzLCBSYXdDb2xsaWRlclNldCk7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVZlbCwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZSwgUmF3U2hhcGUpO1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdxdWVyeXBpcGVsaW5lX2Nhc3RTaGFwZSh0aGlzLnB0ciwgY29sbGlkZXJzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHNoYXBlVmVsLnB0ciwgc2hhcGUucHRyLCBtYXhUb2ksIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoZmlsdGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3U2hhcGVDb2xsaWRlclRPSS5fX3dyYXAocmV0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJcbiAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoU2hhcGUoY29sbGlkZXJzLCBzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvcywgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlLCBSYXdTaGFwZSk7XG4gICAgICAgICAgICB3YXNtLnJhd3F1ZXJ5cGlwZWxpbmVfaW50ZXJzZWN0aW9uc1dpdGhTaGFwZSh0aGlzLnB0ciwgY29sbGlkZXJzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHNoYXBlLnB0ciwgZ3JvdXBzLCBhZGRCb3Jyb3dlZE9iamVjdChjYWxsYmFjayksIGFkZEJvcnJvd2VkT2JqZWN0KGZpbHRlcikpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaGVhcFtzdGFja19wb2ludGVyKytdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaGVhcFtzdGFja19wb2ludGVyKytdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFhYmJDZW50ZXJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBhYWJiSGFsZkV4dGVudHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgKi9cbiAgICBjb2xsaWRlcnNXaXRoQWFiYkludGVyc2VjdGluZ0FhYmIoYWFiYkNlbnRlciwgYWFiYkhhbGZFeHRlbnRzLCBjYWxsYmFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKGFhYmJDZW50ZXIsIFJhd1ZlY3Rvcik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3MoYWFiYkhhbGZFeHRlbnRzLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgd2FzbS5yYXdxdWVyeXBpcGVsaW5lX2NvbGxpZGVyc1dpdGhBYWJiSW50ZXJzZWN0aW5nQWFiYih0aGlzLnB0ciwgYWFiYkNlbnRlci5wdHIsIGFhYmJIYWxmRXh0ZW50cy5wdHIsIGFkZEJvcnJvd2VkT2JqZWN0KGNhbGxiYWNrKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3UmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24ge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdSYXlDb2xsaWRlckludGVyc2VjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdyYXljb2xsaWRlcmludGVyc2VjdGlvbl9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbGxpZGVySGFuZGxlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX2NvbGxpZGVySGFuZGxlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbm9ybWFsKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JheWNvbGxpZGVyaW50ZXJzZWN0aW9uX25vcm1hbCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHRvaSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyYXljb2xsaWRlcmludGVyc2VjdGlvbl90b2kodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBmZWF0dXJlVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwb2ludGNvbGxpZGVycHJvamVjdGlvbl9mZWF0dXJlVHlwZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGZlYXR1cmVJZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgd2FzbS5yYXdwb2ludGNvbGxpZGVycHJvamVjdGlvbl9mZWF0dXJlSWQocmV0cHRyLCB0aGlzLnB0cik7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMSA+Pj4gMDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3UmF5Q29sbGlkZXJUb2kge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdSYXlDb2xsaWRlclRvaS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdyYXljb2xsaWRlcnRvaV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbGxpZGVySGFuZGxlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX2NvbGxpZGVySGFuZGxlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgdG9pKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JheWNvbGxpZGVyaW50ZXJzZWN0aW9uX3RvaSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1JheUludGVyc2VjdGlvbiB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1JheUludGVyc2VjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdyYXlpbnRlcnNlY3Rpb25fZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBub3JtYWwoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmF5aW50ZXJzZWN0aW9uX25vcm1hbCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHRvaSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfZHQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBmZWF0dXJlVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyYXlpbnRlcnNlY3Rpb25fZmVhdHVyZVR5cGUodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBmZWF0dXJlSWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3cmF5aW50ZXJzZWN0aW9uX2ZlYXR1cmVJZChyZXRwdHIsIHRoaXMucHRyKTtcbiAgICAgICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgICAgIHZhciByMSA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIxID4+PiAwO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdSaWdpZEJvZHlTZXQge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdSaWdpZEJvZHlTZXQucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cmlnaWRib2R5c2V0X2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgd29ybGQtc3BhY2UgdHJhbnNsYXRpb24gb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHJiVHJhbnNsYXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiVHJhbnNsYXRpb24odGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHdvcmxkLXNwYWNlIG9yaWVudGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdSb3RhdGlvbn1cbiAgICAqL1xuICAgIHJiUm90YXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiUm90YXRpb24odGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdSb3RhdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBQdXQgdGhlIGdpdmVuIHJpZ2lkLWJvZHkgdG8gc2xlZXAuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKi9cbiAgICByYlNsZWVwKGhhbmRsZSkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNsZWVwKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElzIHRoaXMgcmlnaWQtYm9keSBzbGVlcGluZz9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc1NsZWVwaW5nKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYklzU2xlZXBpbmcodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogSXMgdGhlIHZlbG9jaXR5IG9mIHRoaXMgcmlnaWQtYm9keSBub3QgemVybz9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc01vdmluZyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJJc01vdmluZyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgd29ybGQtc3BhY2UgcHJlZGljdGVkIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiBJZiB0aGlzIHJpZ2lkLWJvZHkgaXMga2luZW1hdGljIHRoaXMgdmFsdWUgaXMgc2V0IGJ5IHRoZSBgc2V0TmV4dEtpbmVtYXRpY1RyYW5zbGF0aW9uYFxuICAgICogbWV0aG9kIGFuZCBpcyB1c2VkIGZvciBlc3RpbWF0aW5nIHRoZSBraW5lbWF0aWMgYm9keSB2ZWxvY2l0eSBhdCB0aGUgbmV4dCB0aW1lc3RlcC5cbiAgICAqIEZvciBub24ta2luZW1hdGljIGJvZGllcywgdGhpcyB2YWx1ZSBpcyBjdXJyZW50bHkgdW5zcGVjaWZpZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgcmJOZXh0VHJhbnNsYXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiTmV4dFRyYW5zbGF0aW9uKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB3b3JsZC1zcGFjZSBwcmVkaWN0ZWQgb3JpZW50YXRpb24gb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqIElmIHRoaXMgcmlnaWQtYm9keSBpcyBraW5lbWF0aWMgdGhpcyB2YWx1ZSBpcyBzZXQgYnkgdGhlIGBzZXROZXh0S2luZW1hdGljUm90YXRpb25gXG4gICAgKiBtZXRob2QgYW5kIGlzIHVzZWQgZm9yIGVzdGltYXRpbmcgdGhlIGtpbmVtYXRpYyBib2R5IHZlbG9jaXR5IGF0IHRoZSBuZXh0IHRpbWVzdGVwLlxuICAgICogRm9yIG5vbi1raW5lbWF0aWMgYm9kaWVzLCB0aGlzIHZhbHVlIGlzIGN1cnJlbnRseSB1bnNwZWNpZmllZC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdSb3RhdGlvbn1cbiAgICAqL1xuICAgIHJiTmV4dFJvdGF0aW9uKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYk5leHRSb3RhdGlvbih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1JvdGF0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHhgOiB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIHJpZ2lkLWJvZHkgYWxvbmcgdGhlIGB4YCBheGlzLlxuICAgICogLSBgeWA6IHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiB0aGUgcmlnaWQtYm9keSBhbG9uZyB0aGUgYHlgIGF4aXMuXG4gICAgKiAtIGB3YWtlVXBgOiBmb3JjZXMgdGhlIHJpZ2lkLWJvZHkgdG8gd2FrZS11cCBzbyBpdCBpcyBwcm9wZXJseSBhZmZlY3RlZCBieSBmb3JjZXMgaWYgaXRcbiAgICAqIHdhc24ndCBtb3ZpbmcgYmVmb3JlIG1vZGlmeWluZyBpdHMgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYlNldFRyYW5zbGF0aW9uKGhhbmRsZSwgeCwgeSwgd2FrZVVwKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiU2V0VHJhbnNsYXRpb24odGhpcy5wdHIsIGhhbmRsZSwgeCwgeSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSByb3RhdGlvbiBhbmdsZSBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBhbmdsZWA6IHRoZSByb3RhdGlvbiBhbmdsZSwgaW4gcmFkaWFucy5cbiAgICAqIC0gYHdha2VVcGA6IGZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIHNvIGl0IGlzIHByb3Blcmx5IGFmZmVjdGVkIGJ5IGZvcmNlcyBpZiBpdFxuICAgICogd2Fzbid0IG1vdmluZyBiZWZvcmUgbW9kaWZ5aW5nIGl0cyBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJiU2V0Um90YXRpb24oaGFuZGxlLCBhbmdsZSwgd2FrZVVwKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiU2V0Um90YXRpb24odGhpcy5wdHIsIGhhbmRsZSwgYW5nbGUsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgbGluZWFyIHZlbG9jaXR5IG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBsaW52ZWxcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYlNldExpbnZlbChoYW5kbGUsIGxpbnZlbCwgd2FrZVVwKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhsaW52ZWwsIFJhd1ZlY3Rvcik7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiU2V0TGludmVsKHRoaXMucHRyLCBoYW5kbGUsIGxpbnZlbC5wdHIsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYW5ndmVsXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJTZXRBbmd2ZWwoaGFuZGxlLCBhbmd2ZWwsIHdha2VVcCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldEFuZ3ZlbCh0aGlzLnB0ciwgaGFuZGxlLCBhbmd2ZWwsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogSWYgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYywgc2V0cyBpdHMgZnV0dXJlIHRyYW5zbGF0aW9uIGFmdGVyIHRoZSBuZXh0IHRpbWVzdGVwIGludGVncmF0aW9uLlxuICAgICpcbiAgICAqIFRoaXMgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBgcmlnaWRCb2R5LnNldFRyYW5zbGF0aW9uYCB0byBtYWtlIHRoZSBkeW5hbWljIG9iamVjdFxuICAgICogaW50ZXJhY3Rpbmcgd2l0aCB0aGlzIGtpbmVtYXRpYyBib2R5IGJlaGF2ZSBhcyBleHBlY3RlZC4gSW50ZXJuYWxseSwgUmFwaWVyIHdpbGwgY29tcHV0ZVxuICAgICogYW4gYXJ0aWZpY2lhbCB2ZWxvY2l0eSBmb3IgdGhpcyByaWdpZC1ib2R5IGZyb20gaXRzIGN1cnJlbnQgcG9zaXRpb24gYW5kIGl0cyBuZXh0IGtpbmVtYXRpY1xuICAgICogcG9zaXRpb24uIFRoaXMgdmVsb2NpdHkgd2lsbCBiZSB1c2VkIHRvIGNvbXB1dGUgZm9yY2VzIG9uIGR5bmFtaWMgYm9kaWVzIGludGVyYWN0aW5nIHdpdGhcbiAgICAqIHRoaXMgYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHhgOiB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIHJpZ2lkLWJvZHkgYWxvbmcgdGhlIGB4YCBheGlzLlxuICAgICogLSBgeWA6IHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiB0aGUgcmlnaWQtYm9keSBhbG9uZyB0aGUgYHlgIGF4aXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAqL1xuICAgIHJiU2V0TmV4dEtpbmVtYXRpY1RyYW5zbGF0aW9uKGhhbmRsZSwgeCwgeSkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldE5leHRLaW5lbWF0aWNUcmFuc2xhdGlvbih0aGlzLnB0ciwgaGFuZGxlLCB4LCB5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBJZiB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLCBzZXRzIGl0cyBmdXR1cmUgcm90YXRpb24gYWZ0ZXIgdGhlIG5leHQgdGltZXN0ZXAgaW50ZWdyYXRpb24uXG4gICAgKlxuICAgICogVGhpcyBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGByaWdpZEJvZHkuc2V0Um90YXRpb25gIHRvIG1ha2UgdGhlIGR5bmFtaWMgb2JqZWN0XG4gICAgKiBpbnRlcmFjdGluZyB3aXRoIHRoaXMga2luZW1hdGljIGJvZHkgYmVoYXZlIGFzIGV4cGVjdGVkLiBJbnRlcm5hbGx5LCBSYXBpZXIgd2lsbCBjb21wdXRlXG4gICAgKiBhbiBhcnRpZmljaWFsIHZlbG9jaXR5IGZvciB0aGlzIHJpZ2lkLWJvZHkgZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvbiBhbmQgaXRzIG5leHQga2luZW1hdGljXG4gICAgKiBwb3NpdGlvbi4gVGhpcyB2ZWxvY2l0eSB3aWxsIGJlIHVzZWQgdG8gY29tcHV0ZSBmb3JjZXMgb24gZHluYW1pYyBib2RpZXMgaW50ZXJhY3Rpbmcgd2l0aFxuICAgICogdGhpcyBib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgYW5nbGVgOiB0aGUgcm90YXRpb24gYW5nbGUsIGluIHJhZGlhbnMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAqL1xuICAgIHJiU2V0TmV4dEtpbmVtYXRpY1JvdGF0aW9uKGhhbmRsZSwgYW5nbGUpIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXROZXh0S2luZW1hdGljUm90YXRpb24odGhpcy5wdHIsIGhhbmRsZSwgYW5nbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBsaW5lYXIgdmVsb2NpdHkgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHJiTGludmVsKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkxpbnZlbCh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJBbmd2ZWwoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiQW5ndmVsKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9ja2VkXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VfdXBcbiAgICAqL1xuICAgIHJiTG9ja1RyYW5zbGF0aW9ucyhoYW5kbGUsIGxvY2tlZCwgd2FrZV91cCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkxvY2tUcmFuc2xhdGlvbnModGhpcy5wdHIsIGhhbmRsZSwgbG9ja2VkLCB3YWtlX3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93X3hcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dfeVxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlX3VwXG4gICAgKi9cbiAgICByYlJlc3RyaWN0VHJhbnNsYXRpb25zKGhhbmRsZSwgYWxsb3dfeCwgYWxsb3dfeSwgd2FrZV91cCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlJlc3RyaWN0VHJhbnNsYXRpb25zKHRoaXMucHRyLCBoYW5kbGUsIGFsbG93X3gsIGFsbG93X3ksIHdha2VfdXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9ja2VkXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VfdXBcbiAgICAqL1xuICAgIHJiTG9ja1JvdGF0aW9ucyhoYW5kbGUsIGxvY2tlZCwgd2FrZV91cCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkxvY2tSb3RhdGlvbnModGhpcy5wdHIsIGhhbmRsZSwgbG9ja2VkLCB3YWtlX3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJEb21pbmFuY2VHcm91cChoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJEb21pbmFuY2VHcm91cCh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZ3JvdXBcbiAgICAqL1xuICAgIHJiU2V0RG9taW5hbmNlR3JvdXAoaGFuZGxlLCBncm91cCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldERvbWluYW5jZUdyb3VwKHRoaXMucHRyLCBoYW5kbGUsIGdyb3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWRcbiAgICAqL1xuICAgIHJiRW5hYmxlQ2NkKGhhbmRsZSwgZW5hYmxlZCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkVuYWJsZUNjZCh0aGlzLnB0ciwgaGFuZGxlLCBlbmFibGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgbWFzcyBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJNYXNzKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYk1hc3ModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogV2FrZXMgdGhpcyByaWdpZC1ib2R5IHVwLlxuICAgICpcbiAgICAqIEEgZHluYW1pYyByaWdpZC1ib2R5IHRoYXQgZG9lcyBub3QgbW92ZSBkdXJpbmcgc2V2ZXJhbCBjb25zZWN1dGl2ZSBmcmFtZXMgd2lsbFxuICAgICogYmUgcHV0IHRvIHNsZWVwIGJ5IHRoZSBwaHlzaWNzIGVuZ2luZSwgaS5lLiwgaXQgd2lsbCBzdG9wIGJlaW5nIHNpbXVsYXRlZCBpbiBvcmRlclxuICAgICogdG8gYXZvaWQgdXNlbGVzcyBjb21wdXRhdGlvbnMuXG4gICAgKiBUaGlzIG1ldGhvZHMgZm9yY2VzIGEgc2xlZXBpbmcgcmlnaWQtYm9keSB0byB3YWtlLXVwLiBUaGlzIGlzIHVzZWZ1bCwgZS5nLiwgYmVmb3JlIG1vZGlmeWluZ1xuICAgICogdGhlIHBvc2l0aW9uIG9mIGEgZHluYW1pYyBib2R5IHNvIHRoYXQgaXQgaXMgcHJvcGVybHkgc2ltdWxhdGVkIGFmdGVyd2FyZHMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKi9cbiAgICByYldha2VVcChoYW5kbGUpIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJXYWtlVXAodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogSXMgQ29udGludW91cyBDb2xsaXNpb24gRGV0ZWN0aW9uIGVuYWJsZWQgZm9yIHRoaXMgcmlnaWQtYm9keT9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc0NjZEVuYWJsZWQoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiSXNDY2RFbmFibGVkKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBudW1iZXIgb2YgY29sbGlkZXJzIGF0dGFjaGVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICByYk51bUNvbGxpZGVycyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJOdW1Db2xsaWRlcnModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0cmlldmVzIHRoZSBgaS10aGAgY29sbGlkZXIgYXR0YWNoZWQgdG8gdGhpcyByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgYXRgOiBUaGUgaW5kZXggb2YgdGhlIGNvbGxpZGVyIHRvIHJldHJpZXZlLiBNdXN0IGJlIGEgbnVtYmVyIGluIGBbMCwgdGhpcy5udW1Db2xsaWRlcnMoKVtgLlxuICAgICogICAgICAgICBUaGlzIGluZGV4IGlzICoqbm90KiogdGhlIHNhbWUgYXMgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdFxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHJiQ29sbGlkZXIoaGFuZGxlLCBhdCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkNvbGxpZGVyKHRoaXMucHRyLCBoYW5kbGUsIGF0KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgc3RhdHVzIG9mIHRoaXMgcmlnaWQtYm9keTogZml4ZWQsIGR5bmFtaWMsIG9yIGtpbmVtYXRpYy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICByYkJvZHlUeXBlKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkJvZHlUeXBlKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldCBhIG5ldyBzdGF0dXMgZm9yIHRoaXMgcmlnaWQtYm9keTogZml4ZWQsIGR5bmFtaWMsIG9yIGtpbmVtYXRpYy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXNcbiAgICAqL1xuICAgIHJiU2V0Qm9keVR5cGUoaGFuZGxlLCBzdGF0dXMpIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXRCb2R5VHlwZSh0aGlzLnB0ciwgaGFuZGxlLCBzdGF0dXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElzIHRoaXMgcmlnaWQtYm9keSBmaXhlZD9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc0ZpeGVkKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYklzRml4ZWQodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogSXMgdGhpcyByaWdpZC1ib2R5IGtpbmVtYXRpYz9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc0tpbmVtYXRpYyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJJc0tpbmVtYXRpYyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBJcyB0aGlzIHJpZ2lkLWJvZHkgZHluYW1pYz9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc0R5bmFtaWMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiSXNEeW5hbWljKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBsaW5lYXIgZGFtcGluZyBjb2VmZmljaWVudCBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJMaW5lYXJEYW1waW5nKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkxpbmVhckRhbXBpbmcodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGFuZ3VsYXIgZGFtcGluZyBjb2VmZmljaWVudCBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJBbmd1bGFyRGFtcGluZyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJBbmd1bGFyRGFtcGluZyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZmFjdG9yXG4gICAgKi9cbiAgICByYlNldExpbmVhckRhbXBpbmcoaGFuZGxlLCBmYWN0b3IpIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXRMaW5lYXJEYW1waW5nKHRoaXMucHRyLCBoYW5kbGUsIGZhY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvclxuICAgICovXG4gICAgcmJTZXRBbmd1bGFyRGFtcGluZyhoYW5kbGUsIGZhY3Rvcikge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldEFuZ3VsYXJEYW1waW5nKHRoaXMucHRyLCBoYW5kbGUsIGZhY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHJiR3Jhdml0eVNjYWxlKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkdyYXZpdHlTY2FsZSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZmFjdG9yXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJTZXRHcmF2aXR5U2NhbGUoaGFuZGxlLCBmYWN0b3IsIHdha2VVcCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldEdyYXZpdHlTY2FsZSh0aGlzLnB0ciwgaGFuZGxlLCBmYWN0b3IsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmVzZXRzIHRvIHplcm8gYWxsIHVzZXItYWRkZWQgZm9yY2VzIGFkZGVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYlJlc2V0Rm9yY2VzKGhhbmRsZSwgd2FrZVVwKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiUmVzZXRGb3JjZXModGhpcy5wdHIsIGhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZXNldHMgdG8gemVybyBhbGwgdXNlci1hZGRlZCB0b3JxdWVzIGFkZGVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYlJlc2V0VG9ycXVlcyhoYW5kbGUsIHdha2VVcCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlJlc2V0VG9ycXVlcyh0aGlzLnB0ciwgaGFuZGxlLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFkZHMgYSBmb3JjZSBhdCB0aGUgY2VudGVyLW9mLW1hc3Mgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgZm9yY2VgOiB0aGUgd29ybGQtc3BhY2UgZm9yY2UgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgKiAtIGB3YWtlVXBgOiBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBmb3JjZVxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJiQWRkRm9yY2UoaGFuZGxlLCBmb3JjZSwgd2FrZVVwKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhmb3JjZSwgUmF3VmVjdG9yKTtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJBZGRGb3JjZSh0aGlzLnB0ciwgaGFuZGxlLCBmb3JjZS5wdHIsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQXBwbGllcyBhbiBpbXB1bHNlIGF0IHRoZSBjZW50ZXItb2YtbWFzcyBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBpbXB1bHNlYDogdGhlIHdvcmxkLXNwYWNlIGltcHVsc2UgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgKiAtIGB3YWtlVXBgOiBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBpbXB1bHNlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJBcHBseUltcHVsc2UoaGFuZGxlLCBpbXB1bHNlLCB3YWtlVXApIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKGltcHVsc2UsIFJhd1ZlY3Rvcik7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiQXBwbHlJbXB1bHNlKHRoaXMucHRyLCBoYW5kbGUsIGltcHVsc2UucHRyLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFkZHMgYSB0b3JxdWUgYXQgdGhlIGNlbnRlci1vZi1tYXNzIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHRvcnF1ZWA6IHRoZSB0b3JxdWUgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgKiAtIGB3YWtlVXBgOiBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b3JxdWVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYkFkZFRvcnF1ZShoYW5kbGUsIHRvcnF1ZSwgd2FrZVVwKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiQWRkVG9ycXVlKHRoaXMucHRyLCBoYW5kbGUsIHRvcnF1ZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcHBsaWVzIGFuIGltcHVsc2l2ZSB0b3JxdWUgYXQgdGhlIGNlbnRlci1vZi1tYXNzIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHRvcnF1ZSBpbXB1bHNlYDogdGhlIHRvcnF1ZSBpbXB1bHNlIHRvIGFwcGx5IG9uIHRoZSByaWdpZC1ib2R5LlxuICAgICogLSBgd2FrZVVwYDogc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdG9ycXVlX2ltcHVsc2VcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYkFwcGx5VG9ycXVlSW1wdWxzZShoYW5kbGUsIHRvcnF1ZV9pbXB1bHNlLCB3YWtlVXApIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJBcHBseVRvcnF1ZUltcHVsc2UodGhpcy5wdHIsIGhhbmRsZSwgdG9ycXVlX2ltcHVsc2UsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQWRkcyBhIGZvcmNlIGF0IHRoZSBnaXZlbiB3b3JsZC1zcGFjZSBwb2ludCBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmb3JjZWA6IHRoZSB3b3JsZC1zcGFjZSBmb3JjZSB0byBhcHBseSBvbiB0aGUgcmlnaWQtYm9keS5cbiAgICAqIC0gYHBvaW50YDogdGhlIHdvcmxkLXNwYWNlIHBvaW50IHdoZXJlIHRoZSBpbXB1bHNlIGlzIHRvIGJlIGFwcGxpZWQgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgKiAtIGB3YWtlVXBgOiBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBmb3JjZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJBZGRGb3JjZUF0UG9pbnQoaGFuZGxlLCBmb3JjZSwgcG9pbnQsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoZm9yY2UsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJBZGRGb3JjZUF0UG9pbnQodGhpcy5wdHIsIGhhbmRsZSwgZm9yY2UucHRyLCBwb2ludC5wdHIsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQXBwbGllcyBhbiBpbXB1bHNlIGF0IHRoZSBnaXZlbiB3b3JsZC1zcGFjZSBwb2ludCBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBpbXB1bHNlYDogdGhlIHdvcmxkLXNwYWNlIGltcHVsc2UgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgKiAtIGBwb2ludGA6IHRoZSB3b3JsZC1zcGFjZSBwb2ludCB3aGVyZSB0aGUgaW1wdWxzZSBpcyB0byBiZSBhcHBsaWVkIG9uIHRoZSByaWdpZC1ib2R5LlxuICAgICogLSBgd2FrZVVwYDogc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gaW1wdWxzZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJBcHBseUltcHVsc2VBdFBvaW50KGhhbmRsZSwgaW1wdWxzZSwgcG9pbnQsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaW1wdWxzZSwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHBvaW50LCBSYXdWZWN0b3IpO1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkFwcGx5SW1wdWxzZUF0UG9pbnQodGhpcy5wdHIsIGhhbmRsZSwgaW1wdWxzZS5wdHIsIHBvaW50LnB0ciwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBbiBhcmJpdHJhcnkgdXNlci1kZWZpbmVkIDMyLWJpdCBpbnRlZ2VyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJVc2VyRGF0YShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJVc2VyRGF0YSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSB1c2VyLWRlZmluZWQgMzItYml0IGludGVnZXIgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgZGF0YWA6IGFuIGFyYml0cmFyeSB1c2VyLWRlZmluZWQgMzItYml0IGludGVnZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZGF0YVxuICAgICovXG4gICAgcmJTZXRVc2VyRGF0YShoYW5kbGUsIGRhdGEpIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXRVc2VyRGF0YSh0aGlzLnB0ciwgaGFuZGxlLCBkYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdSaWdpZEJvZHlTZXQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHRyYW5zbGF0aW9uXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSByb3RhdGlvblxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyYXZpdHlTY2FsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IG1hc3NcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBjZW50ZXJPZk1hc3NcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBsaW52ZWxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmd2ZWxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcmluY2lwYWxBbmd1bGFySW5lcnRpYVxuICAgICogQHBhcmFtIHtib29sZWFufSB0cmFuc2xhdGlvbkVuYWJsZWRYXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zbGF0aW9uRW5hYmxlZFlcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRpb25zRW5hYmxlZFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVhckRhbXBpbmdcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmd1bGFyRGFtcGluZ1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHJiX3R5cGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuU2xlZXBcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2xlZXBpbmdcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2NkRW5hYmxlZFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGRvbWluYW5jZUdyb3VwXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY3JlYXRlUmlnaWRCb2R5KHRyYW5zbGF0aW9uLCByb3RhdGlvbiwgZ3Jhdml0eVNjYWxlLCBtYXNzLCBjZW50ZXJPZk1hc3MsIGxpbnZlbCwgYW5ndmVsLCBwcmluY2lwYWxBbmd1bGFySW5lcnRpYSwgdHJhbnNsYXRpb25FbmFibGVkWCwgdHJhbnNsYXRpb25FbmFibGVkWSwgcm90YXRpb25zRW5hYmxlZCwgbGluZWFyRGFtcGluZywgYW5ndWxhckRhbXBpbmcsIHJiX3R5cGUsIGNhblNsZWVwLCBzbGVlcGluZywgY2NkRW5hYmxlZCwgZG9taW5hbmNlR3JvdXApIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHRyYW5zbGF0aW9uLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Mocm90YXRpb24sIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNlbnRlck9mTWFzcywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGxpbnZlbCwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfY3JlYXRlUmlnaWRCb2R5KHRoaXMucHRyLCB0cmFuc2xhdGlvbi5wdHIsIHJvdGF0aW9uLnB0ciwgZ3Jhdml0eVNjYWxlLCBtYXNzLCBjZW50ZXJPZk1hc3MucHRyLCBsaW52ZWwucHRyLCBhbmd2ZWwsIHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhLCB0cmFuc2xhdGlvbkVuYWJsZWRYLCB0cmFuc2xhdGlvbkVuYWJsZWRZLCByb3RhdGlvbnNFbmFibGVkLCBsaW5lYXJEYW1waW5nLCBhbmd1bGFyRGFtcGluZywgcmJfdHlwZSwgY2FuU2xlZXAsIHNsZWVwaW5nLCBjY2RFbmFibGVkLCBkb21pbmFuY2VHcm91cCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdJc2xhbmRNYW5hZ2VyfSBpc2xhbmRzXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3SW1wdWxzZUpvaW50U2V0fSBqb2ludHNcbiAgICAqIEBwYXJhbSB7UmF3TXVsdGlib2R5Sm9pbnRTZXR9IGFydGljdWxhdGlvbnNcbiAgICAqL1xuICAgIHJlbW92ZShoYW5kbGUsIGlzbGFuZHMsIGNvbGxpZGVycywgam9pbnRzLCBhcnRpY3VsYXRpb25zKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhpc2xhbmRzLCBSYXdJc2xhbmRNYW5hZ2VyKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNvbGxpZGVycywgUmF3Q29sbGlkZXJTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moam9pbnRzLCBSYXdJbXB1bHNlSm9pbnRTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYXJ0aWN1bGF0aW9ucywgUmF3TXVsdGlib2R5Sm9pbnRTZXQpO1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yZW1vdmUodGhpcy5wdHIsIGhhbmRsZSwgaXNsYW5kcy5wdHIsIGNvbGxpZGVycy5wdHIsIGpvaW50cy5wdHIsIGFydGljdWxhdGlvbnMucHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgbnVtYmVyIG9mIHJpZ2lkLWJvZGllcyBvbiB0aGlzIHNldC5cbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X2xlbih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ2hlY2tzIGlmIGEgcmlnaWQtYm9keSB3aXRoIHRoZSBnaXZlbiBpbnRlZ2VyIGhhbmRsZSBleGlzdHMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvbnRhaW5zKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9jb250YWlucyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBKYXZhU2NyaXB0IGZ1bmN0aW9uIHRvIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIHJpZ2lkLWJvZHkgbWFuYWdlZCBieSB0aGlzIHNldC5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGYoaGFuZGxlKWA6IHRoZSBmdW5jdGlvbiB0byBhcHBseSB0byB0aGUgaW50ZWdlciBoYW5kbGUgb2YgZWFjaCByaWdpZC1ib2R5IG1hbmFnZWQgYnkgdGhpcyBzZXQuIENhbGxlZCBhcyBgZihjb2xsaWRlcilgLlxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICovXG4gICAgZm9yRWFjaFJpZ2lkQm9keUhhbmRsZShmKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9mb3JFYWNoUmlnaWRCb2R5SGFuZGxlKHRoaXMucHRyLCBhZGRCb3Jyb3dlZE9iamVjdChmKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiogQSByb3RhdGlvbiBxdWF0ZXJuaW9uLlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdSb3RhdGlvbiB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1JvdGF0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd3JvdGF0aW9uX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgaWRlbnRpdHkgcm90YXRpb24uXG4gICAgKiBAcmV0dXJucyB7UmF3Um90YXRpb259XG4gICAgKi9cbiAgICBzdGF0aWMgaWRlbnRpdHkoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cm90YXRpb25faWRlbnRpdHkoKTtcbiAgICAgICAgcmV0dXJuIFJhd1JvdGF0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSByb3RhdGlvbiB3aXRoIHRoZWdpdmVuIGFuZ2xlLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgKiBAcmV0dXJucyB7UmF3Um90YXRpb259XG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cm90YXRpb25fZnJvbUFuZ2xlKGFuZ2xlKTtcbiAgICAgICAgcmV0dXJuIFJhd1JvdGF0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBpbWFnaW5hcnkgcGFydCBvZiB0aGlzIGNvbXBsZXggbnVtYmVyLlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCBpbSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyb3RhdGlvbl9pbSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHJlYWwgcGFydCBvZiB0aGlzIGNvbXBsZXggbnVtYmVyLlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCByZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfZHQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSByb3RhdGlvbiBhbmdsZSBpbiByYWRpYW5zLlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCBhbmdsZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyb3RhdGlvbl9hbmdsZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdzZXJpYWxpemF0aW9ucGlwZWxpbmVfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NlcmlhbGl6YXRpb25waXBlbGluZV9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gZ3Jhdml0eVxuICAgICogQHBhcmFtIHtSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnN9IGludGVncmF0aW9uUGFyYW1ldGVyc1xuICAgICogQHBhcmFtIHtSYXdJc2xhbmRNYW5hZ2VyfSBpc2xhbmRzXG4gICAgKiBAcGFyYW0ge1Jhd0Jyb2FkUGhhc2V9IGJyb2FkUGhhc2VcbiAgICAqIEBwYXJhbSB7UmF3TmFycm93UGhhc2V9IG5hcnJvd1BoYXNlXG4gICAgKiBAcGFyYW0ge1Jhd1JpZ2lkQm9keVNldH0gYm9kaWVzXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3SW1wdWxzZUpvaW50U2V0fSBpbXB1bHNlX2pvaW50c1xuICAgICogQHBhcmFtIHtSYXdNdWx0aWJvZHlKb2ludFNldH0gbXVsdGlib2R5X2pvaW50c1xuICAgICogQHJldHVybnMge1VpbnQ4QXJyYXkgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzZXJpYWxpemVBbGwoZ3Jhdml0eSwgaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBpc2xhbmRzLCBicm9hZFBoYXNlLCBuYXJyb3dQaGFzZSwgYm9kaWVzLCBjb2xsaWRlcnMsIGltcHVsc2Vfam9pbnRzLCBtdWx0aWJvZHlfam9pbnRzKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhncmF2aXR5LCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhicm9hZFBoYXNlLCBSYXdCcm9hZFBoYXNlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG5hcnJvd1BoYXNlLCBSYXdOYXJyb3dQaGFzZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGltcHVsc2Vfam9pbnRzLCBSYXdJbXB1bHNlSm9pbnRTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MobXVsdGlib2R5X2pvaW50cywgUmF3TXVsdGlib2R5Sm9pbnRTZXQpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NlcmlhbGl6YXRpb25waXBlbGluZV9zZXJpYWxpemVBbGwodGhpcy5wdHIsIGdyYXZpdHkucHRyLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucHRyLCBpc2xhbmRzLnB0ciwgYnJvYWRQaGFzZS5wdHIsIG5hcnJvd1BoYXNlLnB0ciwgYm9kaWVzLnB0ciwgY29sbGlkZXJzLnB0ciwgaW1wdWxzZV9qb2ludHMucHRyLCBtdWx0aWJvZHlfam9pbnRzLnB0cik7XG4gICAgICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhXG4gICAgKiBAcmV0dXJucyB7UmF3RGVzZXJpYWxpemVkV29ybGQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBkZXNlcmlhbGl6ZUFsbChkYXRhKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2VyaWFsaXphdGlvbnBpcGVsaW5lX2Rlc2VyaWFsaXplQWxsKHRoaXMucHRyLCBhZGRIZWFwT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0Rlc2VyaWFsaXplZFdvcmxkLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdTaGFwZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1NoYXBlLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd3NoYXBlX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoeVxuICAgICogQHJldHVybnMge1Jhd1NoYXBlfVxuICAgICovXG4gICAgc3RhdGljIGN1Ym9pZChoeCwgaHkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jdWJvaWQoaHgsIGh5KTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoeFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGh5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gYm9yZGVyUmFkaXVzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgcm91bmRDdWJvaWQoaHgsIGh5LCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9yb3VuZEN1Ym9pZChoeCwgaHksIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgYmFsbChyYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9iYWxsKHJhZGl1cyk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZkhlaWdodFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgICogQHJldHVybnMge1Jhd1NoYXBlfVxuICAgICovXG4gICAgc3RhdGljIGNhcHN1bGUoaGFsZkhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfY2Fwc3VsZShoYWxmSGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzXG4gICAgKiBAcGFyYW0ge1VpbnQzMkFycmF5fSBpbmRpY2VzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgcG9seWxpbmUodmVydGljZXMsIGluZGljZXMpIHtcbiAgICAgICAgY29uc3QgcHRyMCA9IHBhc3NBcnJheUYzMlRvV2FzbTAodmVydGljZXMsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBjb25zdCBwdHIxID0gcGFzc0FycmF5MzJUb1dhc20wKGluZGljZXMsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4xID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX3BvbHlsaW5lKHB0cjAsIGxlbjAsIHB0cjEsIGxlbjEpO1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzXG4gICAgKiBAcGFyYW0ge1VpbnQzMkFycmF5fSBpbmRpY2VzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgdHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc0FycmF5RjMyVG9XYXNtMCh2ZXJ0aWNlcywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHB0cjEgPSBwYXNzQXJyYXkzMlRvV2FzbTAoaW5kaWNlcywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjEgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfdHJpbWVzaChwdHIwLCBsZW4wLCBwdHIxLCBsZW4xKTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBoZWlnaHRzXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2NhbGVcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyBoZWlnaHRmaWVsZChoZWlnaHRzLCBzY2FsZSkge1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc0FycmF5RjMyVG9XYXNtMChoZWlnaHRzLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNjYWxlLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2hlaWdodGZpZWxkKHB0cjAsIGxlbjAsIHNjYWxlLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcDFcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwMlxuICAgICogQHJldHVybnMge1Jhd1NoYXBlfVxuICAgICovXG4gICAgc3RhdGljIHNlZ21lbnQocDEsIHAyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwMSwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHAyLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX3NlZ21lbnQocDEucHRyLCBwMi5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHAxXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcDJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwM1xuICAgICogQHJldHVybnMge1Jhd1NoYXBlfVxuICAgICovXG4gICAgc3RhdGljIHRyaWFuZ2xlKHAxLCBwMiwgcDMpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHAxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocDIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwMywgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV90cmlhbmdsZShwMS5wdHIsIHAyLnB0ciwgcDMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHAyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcDNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBib3JkZXJSYWRpdXNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyByb3VuZFRyaWFuZ2xlKHAxLCBwMiwgcDMsIGJvcmRlclJhZGl1cykge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocDEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHAzLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX3JvdW5kVHJpYW5nbGUocDEucHRyLCBwMi5wdHIsIHAzLnB0ciwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBwb2ludHNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHN0YXRpYyBjb252ZXhIdWxsKHBvaW50cykge1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc0FycmF5RjMyVG9XYXNtMChwb2ludHMsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2NvbnZleEh1bGwocHRyMCwgbGVuMCk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gcG9pbnRzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYm9yZGVyUmFkaXVzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGUgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzdGF0aWMgcm91bmRDb252ZXhIdWxsKHBvaW50cywgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHB0cjAgPSBwYXNzQXJyYXlGMzJUb1dhc20wKHBvaW50cywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfcm91bmRDb252ZXhIdWxsKHB0cjAsIGxlbjAsIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHN0YXRpYyBjb252ZXhQb2x5bGluZSh2ZXJ0aWNlcykge1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc0FycmF5RjMyVG9XYXNtMCh2ZXJ0aWNlcywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfY29udmV4UG9seWxpbmUocHRyMCwgbGVuMCk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBib3JkZXJSYWRpdXNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHN0YXRpYyByb3VuZENvbnZleFBvbHlsaW5lKHZlcnRpY2VzLCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcHRyMCA9IHBhc3NBcnJheUYzMlRvV2FzbTAodmVydGljZXMsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX3JvdW5kQ29udmV4UG9seWxpbmUocHRyMCwgbGVuMCwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvczFcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHNoYXBlUm90MVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlVmVsMVxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGUyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3MyXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdDJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVZlbDJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZVRPSSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNhc3RTaGFwZShzaGFwZVBvczEsIHNoYXBlUm90MSwgc2hhcGVWZWwxLCBzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyLCBzaGFwZVZlbDIsIG1heFRvaSkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QxLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVZlbDEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZTIsIFJhd1NoYXBlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUG9zMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUm90MiwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVWZWwyLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2Nhc3RTaGFwZSh0aGlzLnB0ciwgc2hhcGVQb3MxLnB0ciwgc2hhcGVSb3QxLnB0ciwgc2hhcGVWZWwxLnB0ciwgc2hhcGUyLnB0ciwgc2hhcGVQb3MyLnB0ciwgc2hhcGVSb3QyLnB0ciwgc2hhcGVWZWwyLnB0ciwgbWF4VG9pKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlVE9JLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvczFcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHNoYXBlUm90MVxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGUyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3MyXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdDJcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgaW50ZXJzZWN0c1NoYXBlKHNoYXBlUG9zMSwgc2hhcGVSb3QxLCBzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvczEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdDEsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlMiwgUmF3U2hhcGUpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MyLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QyLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfaW50ZXJzZWN0c1NoYXBlKHRoaXMucHRyLCBzaGFwZVBvczEucHRyLCBzaGFwZVJvdDEucHRyLCBzaGFwZTIucHRyLCBzaGFwZVBvczIucHRyLCBzaGFwZVJvdDIucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3MxXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdDFcbiAgICAqIEBwYXJhbSB7UmF3U2hhcGV9IHNoYXBlMlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zMlxuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3QyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcHJlZGljdGlvblxuICAgICogQHJldHVybnMge1Jhd1NoYXBlQ29udGFjdCB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvbnRhY3RTaGFwZShzaGFwZVBvczEsIHNoYXBlUm90MSwgc2hhcGUyLCBzaGFwZVBvczIsIHNoYXBlUm90MiwgcHJlZGljdGlvbikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QxLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZTIsIFJhd1NoYXBlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUG9zMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUm90MiwgUmF3Um90YXRpb24pO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2NvbnRhY3RTaGFwZSh0aGlzLnB0ciwgc2hhcGVQb3MxLnB0ciwgc2hhcGVSb3QxLnB0ciwgc2hhcGUyLnB0ciwgc2hhcGVQb3MyLnB0ciwgc2hhcGVSb3QyLnB0ciwgcHJlZGljdGlvbik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZUNvbnRhY3QuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQoc2hhcGVQb3MsIHNoYXBlUm90LCBwb2ludCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocG9pbnQsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfY29udGFpbnNQb2ludCh0aGlzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHBvaW50LnB0cik7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7UmF3UG9pbnRQcm9qZWN0aW9ufVxuICAgICovXG4gICAgcHJvamVjdFBvaW50KHNoYXBlUG9zLCBzaGFwZVJvdCwgcG9pbnQsIHNvbGlkKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvcywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUm90LCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9wcm9qZWN0UG9pbnQodGhpcy5wdHIsIHNoYXBlUG9zLnB0ciwgc2hhcGVSb3QucHRyLCBwb2ludC5wdHIsIHNvbGlkKTtcbiAgICAgICAgcmV0dXJuIFJhd1BvaW50UHJvamVjdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3NcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHNoYXBlUm90XG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5T3JpZ1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheURpclxuICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRvaVxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBpbnRlcnNlY3RzUmF5KHNoYXBlUG9zLCBzaGFwZVJvdCwgcmF5T3JpZywgcmF5RGlyLCBtYXhUb2kpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUG9zLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheU9yaWcsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyYXlEaXIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfaW50ZXJzZWN0c1JheSh0aGlzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHJheU9yaWcucHRyLCByYXlEaXIucHRyLCBtYXhUb2kpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvc1xuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3RcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlPcmlnXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5RGlyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY2FzdFJheShzaGFwZVBvcywgc2hhcGVSb3QsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5T3JpZywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jYXN0UmF5KHRoaXMucHRyLCBzaGFwZVBvcy5wdHIsIHNoYXBlUm90LnB0ciwgcmF5T3JpZy5wdHIsIHJheURpci5wdHIsIG1heFRvaSwgc29saWQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvc1xuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3RcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlPcmlnXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5RGlyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7UmF3UmF5SW50ZXJzZWN0aW9uIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY2FzdFJheUFuZEdldE5vcm1hbChzaGFwZVBvcywgc2hhcGVSb3QsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5T3JpZywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jYXN0UmF5QW5kR2V0Tm9ybWFsKHRoaXMucHRyLCBzaGFwZVBvcy5wdHIsIHNoYXBlUm90LnB0ciwgcmF5T3JpZy5wdHIsIHJheURpci5wdHIsIG1heFRvaSwgc29saWQpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3UmF5SW50ZXJzZWN0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdTaGFwZUNvbGxpZGVyVE9JIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3U2hhcGVDb2xsaWRlclRPSS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdzaGFwZWNvbGxpZGVydG9pX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29sbGlkZXJIYW5kbGUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fY29sbGlkZXJIYW5kbGUodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICB0b2koKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmF5Y29sbGlkZXJpbnRlcnNlY3Rpb25fdG9pKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgd2l0bmVzczEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmF5Y29sbGlkZXJpbnRlcnNlY3Rpb25fbm9ybWFsKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgd2l0bmVzczIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb2xsaWRlcnRvaV93aXRuZXNzMih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIG5vcm1hbDEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb2xsaWRlcnRvaV9ub3JtYWwxKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbm9ybWFsMigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZWNvbGxpZGVydG9pX25vcm1hbDIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdTaGFwZUNvbnRhY3Qge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdTaGFwZUNvbnRhY3QucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3c2hhcGVjb250YWN0X2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZGlzdGFuY2UoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX3ByZWRpY3Rpb25EaXN0YW5jZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHBvaW50MSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwb2ludHByb2plY3Rpb25fcG9pbnQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBwb2ludDIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb250YWN0X3BvaW50Mih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIG5vcm1hbDEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb250YWN0X25vcm1hbDEodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBub3JtYWwyKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlY29udGFjdF9ub3JtYWwyKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3U2hhcGVUT0kge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdTaGFwZVRPSS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdzaGFwZXRvaV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHRvaSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfZHQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB3aXRuZXNzMSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyYXlpbnRlcnNlY3Rpb25fbm9ybWFsKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgd2l0bmVzczIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGV0b2lfd2l0bmVzczIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBub3JtYWwxKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBldG9pX25vcm1hbDEodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBub3JtYWwyKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBldG9pX25vcm1hbDIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKiBBIHZlY3Rvci5cbiovXG5leHBvcnQgY2xhc3MgUmF3VmVjdG9yIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3VmVjdG9yLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd3ZlY3Rvcl9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlcyBhIG5ldyB2ZWN0b3IgZmlsbGVkIHdpdGggemVyb3MuXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgc3RhdGljIHplcm8oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3dmVjdG9yX3plcm8oKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBDcmVhdGVzIGEgbmV3IDJEIHZlY3RvciBmcm9tIGl0cyB0d28gY29tcG9uZW50cy5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHhgOiB0aGUgYHhgIGNvbXBvbmVudCBvZiB0aGlzIDJEIHZlY3Rvci5cbiAgICAqIC0gYHlgOiB0aGUgYHlgIGNvbXBvbmVudCBvZiB0aGlzIDJEIHZlY3Rvci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICovXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3ZlY3Rvcl9uZXcoeCwgeSk7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGB4YCBjb21wb25lbnQgb2YgdGhpcyB2ZWN0b3IuXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX2R0KHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSBgeGAgY29tcG9uZW50IG9mIHRoaXMgdmVjdG9yLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqL1xuICAgIHNldCB4KHgpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X2R0KHRoaXMucHRyLCB4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgYHlgIGNvbXBvbmVudCBvZiB0aGlzIHZlY3Rvci5cbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyb3RhdGlvbl9pbSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgYHlgIGNvbXBvbmVudCBvZiB0aGlzIHZlY3Rvci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgKi9cbiAgICBzZXQgeSh5KSB7XG4gICAgICAgIHdhc20ucmF3dmVjdG9yX3NldF95KHRoaXMucHRyLCB5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBDcmVhdGUgYSBuZXcgMkQgdmVjdG9yIGZyb20gdGhpcyB2ZWN0b3Igd2l0aCBpdHMgY29tcG9uZW50cyByZWFycmFuZ2VkIGFzIGB7eCwgeX1gLlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHh5KCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3ZlY3Rvcl94eSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IDJEIHZlY3RvciBmcm9tIHRoaXMgdmVjdG9yIHdpdGggaXRzIGNvbXBvbmVudHMgcmVhcnJhbmdlZCBhcyBge3ksIHh9YC5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB5eCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXd2ZWN0b3JfeXgodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmKGFyZzApIHtcbiAgICB0YWtlT2JqZWN0KGFyZzApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fbnVtYmVyX25ldyhhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gYXJnMDtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fbnVtYmVyX2dldChhcmcwLCBhcmcxKSB7XG4gICAgY29uc3Qgb2JqID0gZ2V0T2JqZWN0KGFyZzEpO1xuICAgIGNvbnN0IHJldCA9IHR5cGVvZihvYmopID09PSAnbnVtYmVyJyA/IG9iaiA6IHVuZGVmaW5lZDtcbiAgICBnZXRGbG9hdDY0TWVtb3J5MCgpW2FyZzAgLyA4ICsgMV0gPSBpc0xpa2VOb25lKHJldCkgPyAwIDogcmV0O1xuICAgIGdldEludDMyTWVtb3J5MCgpW2FyZzAgLyA0ICsgMF0gPSAhaXNMaWtlTm9uZShyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fYm9vbGVhbl9nZXQoYXJnMCkge1xuICAgIGNvbnN0IHYgPSBnZXRPYmplY3QoYXJnMCk7XG4gICAgY29uc3QgcmV0ID0gdHlwZW9mKHYpID09PSAnYm9vbGVhbicgPyAodiA/IDEgOiAwKSA6IDI7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19yYXdyYXljb2xsaWRlcmludGVyc2VjdGlvbl9uZXcoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IFJhd1JheUNvbGxpZGVySW50ZXJzZWN0aW9uLl9fd3JhcChhcmcwKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5faXNfZnVuY3Rpb24oYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IHR5cGVvZihnZXRPYmplY3QoYXJnMCkpID09PSAnZnVuY3Rpb24nO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfY2FsbF8zZWQyODhhMjQ3ZjEzZWE1KCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuY2FsbChnZXRPYmplY3QoYXJnMSksIGdldE9iamVjdChhcmcyKSk7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn0sIGFyZ3VtZW50cykgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX2NhbGxfYTE5ZDMxNzNmM2UxZDNjNSgpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmNhbGwoZ2V0T2JqZWN0KGFyZzEpLCBnZXRPYmplY3QoYXJnMiksIGdldE9iamVjdChhcmczKSk7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn0sIGFyZ3VtZW50cykgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX2NhbGxfNmVkNzEyMWNmYjQyY2ZlZCgpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmNhbGwoZ2V0T2JqZWN0KGFyZzEpLCBnZXRPYmplY3QoYXJnMiksIGdldE9iamVjdChhcmczKSwgZ2V0T2JqZWN0KGFyZzQpKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufSwgYXJndW1lbnRzKSB9O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfYmluZF9jMDlhMTY0MWMxNTgwYzA3KGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuYmluZChnZXRPYmplY3QoYXJnMSksIGdldE9iamVjdChhcmcyKSwgZ2V0T2JqZWN0KGFyZzMpKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX2J1ZmZlcl83YWYyM2Y2NWY2YzY0NTQ4KGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuYnVmZmVyO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfbmV3d2l0aGJ5dGVvZmZzZXRhbmRsZW5ndGhfY2UxZTc1ZjBjZTVmNzk3NChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgY29uc3QgcmV0ID0gbmV3IFVpbnQ4QXJyYXkoZ2V0T2JqZWN0KGFyZzApLCBhcmcxID4+PiAwLCBhcmcyID4+PiAwKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX25ld19jYzkwMThiZDZmMjgzYjZmKGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBuZXcgVWludDhBcnJheShnZXRPYmplY3QoYXJnMCkpO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193Ymdfc2V0X2YyNWU4NjllNDU2NWQyYTIoYXJnMCwgYXJnMSwgYXJnMikge1xuICAgIGdldE9iamVjdChhcmcwKS5zZXQoZ2V0T2JqZWN0KGFyZzEpLCBhcmcyID4+PiAwKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19sZW5ndGhfMGFjYjFjZjliYmFmODUxOShhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmxlbmd0aDtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX25ld3dpdGhieXRlb2Zmc2V0YW5kbGVuZ3RoXzNmNTU0OTc4ZDg3OTNiMTQoYXJnMCwgYXJnMSwgYXJnMikge1xuICAgIGNvbnN0IHJldCA9IG5ldyBGbG9hdDMyQXJyYXkoZ2V0T2JqZWN0KGFyZzApLCBhcmcxID4+PiAwLCBhcmcyID4+PiAwKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX3NldF85YTk2MDRjNjg4OGY2NDY4KGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICBnZXRPYmplY3QoYXJnMCkuc2V0KGdldE9iamVjdChhcmcxKSwgYXJnMiA+Pj4gMCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfbGVuZ3RoXzM3MWNjMWM5MmFhOGZlYWUoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5sZW5ndGg7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19uZXd3aXRobGVuZ3RoX2U1MzgyNThjYjJhNmJhZDAoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IG5ldyBGbG9hdDMyQXJyYXkoYXJnMCA+Pj4gMCk7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diaW5kZ2VuX3Rocm93KGFyZzAsIGFyZzEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzAsIGFyZzEpKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diaW5kZ2VuX21lbW9yeSgpIHtcbiAgICBjb25zdCByZXQgPSB3YXNtLm1lbW9yeTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuIl0sIm5hbWVzIjpbIkNvYXJlbmEiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJmY29udiIsIkZsb2F0NjRBcnJheSIsInVjb252IiwiVWludDMyQXJyYXkiLCJidWZmZXIiLCJkYXRhIiwiQXJyYXkiLCJzaXplIiwic2V0IiwiaGFuZGxlIiwiaSIsImluZGV4IiwibGVuZ3RoIiwicHVzaCIsImxlbiIsImRlbGV0ZSIsImNsZWFyIiwiZ2V0IiwiZm9yRWFjaCIsImYiLCJlbHQiLCJnZXRBbGwiLCJmaWx0ZXIiLCJDQ0RTb2x2ZXIiLCJyYXciLCJmcmVlIiwidW5kZWZpbmVkIiwiQ29lZmZpY2llbnRDb21iaW5lUnVsZSIsIkpvaW50VHlwZSIsIk1vdG9yTW9kZWwiLCJJbXB1bHNlSm9pbnQiLCJyYXdTZXQiLCJib2R5U2V0Iiwic3RhdGljIiwiam9pbnRUeXBlIiwiUmV2b2x1dGUiLCJSZXZvbHV0ZUltcHVsc2VKb2ludCIsIlByaXNtYXRpYyIsIlByaXNtYXRpY0ltcHVsc2VKb2ludCIsIkZpeGVkIiwiRml4ZWRJbXB1bHNlSm9pbnQiLCJmaW5hbGl6ZURlc2VyaWFsaXphdGlvbiIsImlzVmFsaWQiLCJjb250YWlucyIsImJvZHkxIiwiam9pbnRCb2R5SGFuZGxlMSIsImJvZHkyIiwiam9pbnRCb2R5SGFuZGxlMiIsInR5cGUiLCJhbmNob3IxIiwiam9pbnRBbmNob3IxIiwiYW5jaG9yMiIsImpvaW50QW5jaG9yMiIsIlVuaXRJbXB1bHNlSm9pbnQiLCJsaW1pdHNFbmFibGVkIiwiam9pbnRMaW1pdHNFbmFibGVkIiwicmF3QXhpcyIsImxpbWl0c01pbiIsImpvaW50TGltaXRzTWluIiwibGltaXRzTWF4Iiwiam9pbnRMaW1pdHNNYXgiLCJjb25maWd1cmVNb3Rvck1vZGVsIiwibW9kZWwiLCJqb2ludENvbmZpZ3VyZU1vdG9yTW9kZWwiLCJjb25maWd1cmVNb3RvclZlbG9jaXR5IiwidGFyZ2V0VmVsIiwiZmFjdG9yIiwiam9pbnRDb25maWd1cmVNb3RvclZlbG9jaXR5IiwiY29uZmlndXJlTW90b3JQb3NpdGlvbiIsInRhcmdldFBvcyIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJqb2ludENvbmZpZ3VyZU1vdG9yUG9zaXRpb24iLCJjb25maWd1cmVNb3RvciIsImpvaW50Q29uZmlndXJlTW90b3IiLCJKb2ludERhdGEiLCJmcmFtZTEiLCJmcmFtZTIiLCJyZXMiLCJheGlzIiwiaW50b1JhdyIsInJhd0F4IiwicmVzdWx0IiwicmF3QTEiLCJyYXdBMiIsInJhd0ZyYTEiLCJyYXdGcmEyIiwibGltaXRzIiwiSW1wdWxzZUpvaW50U2V0IiwibWFwIiwiZm9yRWFjaEpvaW50SGFuZGxlIiwiYm9kaWVzIiwiam9pbnQiLCJjcmVhdGVKb2ludCIsImRlc2MiLCJwYXJlbnQxIiwicGFyZW50MiIsIndha2VVcCIsInJhd1BhcmFtcyIsInJlbW92ZSIsInVubWFwIiwiZm9yRWFjaEpvaW50SGFuZGxlQXR0YWNoZWRUb1JpZ2lkQm9keSIsImZvckVhY2hKb2ludEF0dGFjaGVkVG9SaWdpZEJvZHkiLCJJbnRlZ3JhdGlvblBhcmFtZXRlcnMiLCJkdCIsImVycCIsImFsbG93ZWRMaW5lYXJFcnJvciIsInByZWRpY3Rpb25EaXN0YW5jZSIsIm1heFZlbG9jaXR5SXRlcmF0aW9ucyIsIm1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zIiwibWF4U3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMiLCJtaW5Jc2xhbmRTaXplIiwibWF4Q2NkU3Vic3RlcHMiLCJ2YWx1ZSIsIklzbGFuZE1hbmFnZXIiLCJmb3JFYWNoQWN0aXZlUmlnaWRCb2R5SGFuZGxlIiwiTXVsdGlib2R5Sm9pbnQiLCJSZXZvbHV0ZU11bHRpYm9keUpvaW50IiwiUHJpc21hdGljTXVsdGlib2R5Sm9pbnQiLCJGaXhlZE11bHRpYm9keUpvaW50IiwiVW5pdE11bHRpYm9keUpvaW50IiwiTXVsdGlib2R5Sm9pbnRTZXQiLCJ3YWtlX3VwIiwiUmlnaWRCb2R5VHlwZSIsIlJpZ2lkQm9keSIsImNvbGxpZGVyU2V0IiwibG9ja1RyYW5zbGF0aW9ucyIsImxvY2tlZCIsInJiTG9ja1RyYW5zbGF0aW9ucyIsImxvY2tSb3RhdGlvbnMiLCJyYkxvY2tSb3RhdGlvbnMiLCJyZXN0cmljdFRyYW5zbGF0aW9ucyIsImVuYWJsZVgiLCJlbmFibGVZIiwicmJSZXN0cmljdFRyYW5zbGF0aW9ucyIsImRvbWluYW5jZUdyb3VwIiwicmJEb21pbmFuY2VHcm91cCIsInNldERvbWluYW5jZUdyb3VwIiwiZ3JvdXAiLCJyYlNldERvbWluYW5jZUdyb3VwIiwiZW5hYmxlQ2NkIiwiZW5hYmxlZCIsInJiRW5hYmxlQ2NkIiwidHJhbnNsYXRpb24iLCJyYlRyYW5zbGF0aW9uIiwicm90YXRpb24iLCJyYlJvdGF0aW9uIiwibmV4dFRyYW5zbGF0aW9uIiwicmJOZXh0VHJhbnNsYXRpb24iLCJuZXh0Um90YXRpb24iLCJyYk5leHRSb3RhdGlvbiIsInNldFRyYW5zbGF0aW9uIiwidHJhIiwicmJTZXRUcmFuc2xhdGlvbiIsIngiLCJ5Iiwic2V0TGludmVsIiwidmVsIiwicmF3VmVsIiwicmJTZXRMaW52ZWwiLCJncmF2aXR5U2NhbGUiLCJyYkdyYXZpdHlTY2FsZSIsInNldEdyYXZpdHlTY2FsZSIsInJiU2V0R3Jhdml0eVNjYWxlIiwic2V0Um90YXRpb24iLCJhbmdsZSIsInJiU2V0Um90YXRpb24iLCJzZXRBbmd2ZWwiLCJyYlNldEFuZ3ZlbCIsInNldE5leHRLaW5lbWF0aWNUcmFuc2xhdGlvbiIsInQiLCJyYlNldE5leHRLaW5lbWF0aWNUcmFuc2xhdGlvbiIsInNldE5leHRLaW5lbWF0aWNSb3RhdGlvbiIsInJiU2V0TmV4dEtpbmVtYXRpY1JvdGF0aW9uIiwibGludmVsIiwicmJMaW52ZWwiLCJhbmd2ZWwiLCJyYkFuZ3ZlbCIsIm1hc3MiLCJyYk1hc3MiLCJzbGVlcCIsInJiU2xlZXAiLCJyYldha2VVcCIsImlzQ2NkRW5hYmxlZCIsInJiSXNDY2RFbmFibGVkIiwibnVtQ29sbGlkZXJzIiwicmJOdW1Db2xsaWRlcnMiLCJjb2xsaWRlciIsInJiQ29sbGlkZXIiLCJib2R5VHlwZSIsInJiQm9keVR5cGUiLCJzZXRCb2R5VHlwZSIsInJiU2V0Qm9keVR5cGUiLCJpc1NsZWVwaW5nIiwicmJJc1NsZWVwaW5nIiwiaXNNb3ZpbmciLCJyYklzTW92aW5nIiwiaXNGaXhlZCIsInJiSXNGaXhlZCIsImlzS2luZW1hdGljIiwicmJJc0tpbmVtYXRpYyIsImlzRHluYW1pYyIsInJiSXNEeW5hbWljIiwibGluZWFyRGFtcGluZyIsInJiTGluZWFyRGFtcGluZyIsImFuZ3VsYXJEYW1waW5nIiwicmJBbmd1bGFyRGFtcGluZyIsInNldExpbmVhckRhbXBpbmciLCJyYlNldExpbmVhckRhbXBpbmciLCJzZXRBbmd1bGFyRGFtcGluZyIsInJiU2V0QW5ndWxhckRhbXBpbmciLCJyZXNldEZvcmNlcyIsInJiUmVzZXRGb3JjZXMiLCJyZXNldFRvcnF1ZXMiLCJyYlJlc2V0VG9ycXVlcyIsImFkZEZvcmNlIiwiZm9yY2UiLCJyYXdGb3JjZSIsInJiQWRkRm9yY2UiLCJhcHBseUltcHVsc2UiLCJpbXB1bHNlIiwicmF3SW1wdWxzZSIsInJiQXBwbHlJbXB1bHNlIiwiYWRkVG9ycXVlIiwidG9ycXVlIiwicmJBZGRUb3JxdWUiLCJhcHBseVRvcnF1ZUltcHVsc2UiLCJ0b3JxdWVJbXB1bHNlIiwicmJBcHBseVRvcnF1ZUltcHVsc2UiLCJhZGRGb3JjZUF0UG9pbnQiLCJwb2ludCIsInJhd1BvaW50IiwicmJBZGRGb3JjZUF0UG9pbnQiLCJhcHBseUltcHVsc2VBdFBvaW50IiwicmJBcHBseUltcHVsc2VBdFBvaW50IiwiUmlnaWRCb2R5RGVzYyIsInN0YXR1cyIsImNlbnRlck9mTWFzcyIsInRyYW5zbGF0aW9uc0VuYWJsZWRYIiwidHJhbnNsYXRpb25zRW5hYmxlZFkiLCJwcmluY2lwYWxBbmd1bGFySW5lcnRpYSIsInJvdGF0aW9uc0VuYWJsZWQiLCJjYW5TbGVlcCIsInNsZWVwaW5nIiwiY2NkRW5hYmxlZCIsIkR5bmFtaWMiLCJLaW5lbWF0aWNQb3NpdGlvbkJhc2VkIiwiS2luZW1hdGljVmVsb2NpdHlCYXNlZCIsIlR5cGVFcnJvciIsInJvdCIsInNjYWxlIiwic2V0QWRkaXRpb25hbE1hc3MiLCJzZXRBZGRpdGlvbmFsTWFzc1Byb3BlcnRpZXMiLCJzZXRBZGRpdGlvbmFsUHJpbmNpcGFsQW5ndWxhckluZXJ0aWEiLCJzZXRDYW5TbGVlcCIsImNhbiIsInNldFNsZWVwaW5nIiwic2V0Q2NkRW5hYmxlZCIsInNldFVzZXJEYXRhIiwidXNlckRhdGEiLCJSaWdpZEJvZHlTZXQiLCJmb3JFYWNoUmlnaWRCb2R5SGFuZGxlIiwicmIiLCJjcmVhdGVSaWdpZEJvZHkiLCJyYXdUcmEiLCJyYXdSb3QiLCJyYXdMdiIsInJhd0NvbSIsImJvZHkiLCJpc2xhbmRzIiwiY29sbGlkZXJzIiwiaW1wdWxzZUpvaW50cyIsIm11bHRpYm9keUpvaW50cyIsImZvckVhY2hBY3RpdmVSaWdpZEJvZHkiLCJ2ZXJzaW9uIiwiQnJvYWRQaGFzZSIsIkFjdGl2ZUNvbGxpc2lvblR5cGVzIiwiQ29sbGlkZXIiLCJwYXJlbnQiLCJzaGFwZSIsIl9wYXJlbnQiLCJfc2hhcGUiLCJjb1BhcmVudCIsImVuc3VyZVNoYXBlSXNDYWNoZWQiLCJjb1RyYW5zbGF0aW9uIiwiY29Sb3RhdGlvbiIsImlzU2Vuc29yIiwiY29Jc1NlbnNvciIsInNldFNlbnNvciIsImNvU2V0U2Vuc29yIiwic2V0U2hhcGUiLCJyYXdTaGFwZSIsImNvU2V0U2hhcGUiLCJzZXRSZXN0aXR1dGlvbiIsInJlc3RpdHV0aW9uIiwiY29TZXRSZXN0aXR1dGlvbiIsInNldEZyaWN0aW9uIiwiZnJpY3Rpb24iLCJjb1NldEZyaWN0aW9uIiwiZnJpY3Rpb25Db21iaW5lUnVsZSIsImNvRnJpY3Rpb25Db21iaW5lUnVsZSIsInNldEZyaWN0aW9uQ29tYmluZVJ1bGUiLCJydWxlIiwiY29TZXRGcmljdGlvbkNvbWJpbmVSdWxlIiwicmVzdGl0dXRpb25Db21iaW5lUnVsZSIsImNvUmVzdGl0dXRpb25Db21iaW5lUnVsZSIsInNldFJlc3RpdHV0aW9uQ29tYmluZVJ1bGUiLCJjb1NldFJlc3RpdHV0aW9uQ29tYmluZVJ1bGUiLCJzZXRDb2xsaXNpb25Hcm91cHMiLCJncm91cHMiLCJjb1NldENvbGxpc2lvbkdyb3VwcyIsInNldFNvbHZlckdyb3VwcyIsImNvU2V0U29sdmVyR3JvdXBzIiwiYWN0aXZlSG9va3MiLCJjb0FjdGl2ZUhvb2tzIiwic2V0QWN0aXZlSG9va3MiLCJjb1NldEFjdGl2ZUhvb2tzIiwiYWN0aXZlRXZlbnRzIiwiY29BY3RpdmVFdmVudHMiLCJzZXRBY3RpdmVFdmVudHMiLCJjb1NldEFjdGl2ZUV2ZW50cyIsImFjdGl2ZUNvbGxpc2lvblR5cGVzIiwiY29BY3RpdmVDb2xsaXNpb25UeXBlcyIsInNldEFjdGl2ZUNvbGxpc2lvblR5cGVzIiwiY29TZXRBY3RpdmVDb2xsaXNpb25UeXBlcyIsImNvU2V0VHJhbnNsYXRpb24iLCJzZXRUcmFuc2xhdGlvbldydFBhcmVudCIsImNvU2V0VHJhbnNsYXRpb25XcnRQYXJlbnQiLCJjb1NldFJvdGF0aW9uIiwic2V0Um90YXRpb25XcnRQYXJlbnQiLCJjb1NldFJvdGF0aW9uV3J0UGFyZW50Iiwic2hhcGVUeXBlIiwiY29TaGFwZVR5cGUiLCJoYWxmRXh0ZW50cyIsImNvSGFsZkV4dGVudHMiLCJyYWRpdXMiLCJjb1JhZGl1cyIsInJvdW5kUmFkaXVzIiwiY29Sb3VuZFJhZGl1cyIsImhhbGZIZWlnaHQiLCJjb0hhbGZIZWlnaHQiLCJ2ZXJ0aWNlcyIsImNvVmVydGljZXMiLCJpbmRpY2VzIiwiY29JbmRpY2VzIiwiaGVpZ2h0ZmllbGRIZWlnaHRzIiwiY29IZWlnaHRmaWVsZEhlaWdodHMiLCJoZWlnaHRmaWVsZFNjYWxlIiwiY29IZWlnaHRmaWVsZFNjYWxlIiwiY29GcmljdGlvbiIsImNvUmVzdGl0dXRpb24iLCJkZW5zaXR5IiwiY29EZW5zaXR5IiwiY29sbGlzaW9uR3JvdXBzIiwiY29Db2xsaXNpb25Hcm91cHMiLCJzb2x2ZXJHcm91cHMiLCJjb1NvbHZlckdyb3VwcyIsImNvbnRhaW5zUG9pbnQiLCJjb0NvbnRhaW5zUG9pbnQiLCJwcm9qZWN0UG9pbnQiLCJzb2xpZCIsImNvUHJvamVjdFBvaW50IiwiaW50ZXJzZWN0c1JheSIsInJheSIsIm1heFRvaSIsInJhd09yaWciLCJvcmlnaW4iLCJyYXdEaXIiLCJkaXIiLCJjb0ludGVyc2VjdHNSYXkiLCJjYXN0U2hhcGUiLCJjb2xsaWRlcjFWZWwiLCJzaGFwZTIiLCJzaGFwZTJQb3MiLCJzaGFwZTJSb3QiLCJzaGFwZTJWZWwiLCJyYXdDb2xsaWRlcjFWZWwiLCJyYXdTaGFwZTJQb3MiLCJyYXdTaGFwZTJSb3QiLCJyYXdTaGFwZTJWZWwiLCJyYXdTaGFwZTIiLCJjb0Nhc3RTaGFwZSIsImNhc3RDb2xsaWRlciIsImNvbGxpZGVyMiIsImNvbGxpZGVyMlZlbCIsInJhd0NvbGxpZGVyMlZlbCIsImNvQ2FzdENvbGxpZGVyIiwiaW50ZXJzZWN0c1NoYXBlIiwic2hhcGVQb3MyIiwic2hhcGVSb3QyIiwicmF3UG9zMiIsInJhd1JvdDIiLCJjb0ludGVyc2VjdHNTaGFwZSIsImNvbnRhY3RTaGFwZSIsInByZWRpY3Rpb24iLCJjb0NvbnRhY3RTaGFwZSIsImNvbnRhY3RDb2xsaWRlciIsImNvQ29udGFjdENvbGxpZGVyIiwiY2FzdFJheSIsImNvQ2FzdFJheSIsImNhc3RSYXlBbmRHZXROb3JtYWwiLCJjb0Nhc3RSYXlBbmRHZXROb3JtYWwiLCJDb2xsaWRlckRlc2MiLCJ1c2VNYXNzUHJvcHMiLCJERUZBVUxUIiwiYSIsImIiLCJjIiwiYm9yZGVyUmFkaXVzIiwiaHgiLCJoeSIsImhlaWdodHMiLCJwb2ludHMiLCJpcyIsInNldERlbnNpdHkiLCJzZXRNYXNzUHJvcGVydGllcyIsIkNvbGxpZGVyU2V0IiwiZm9yRWFjaENvbGxpZGVySGFuZGxlIiwiY3JlYXRlQ29sbGlkZXIiLCJwYXJlbnRIYW5kbGUiLCJoYXNQYXJlbnQiLCJpc05hTiIsIkVycm9yIiwiU2hhcGVDb250YWN0IiwiZGlzdCIsInBvaW50MSIsInBvaW50MiIsIm5vcm1hbDEiLCJub3JtYWwyIiwiZGlzdGFuY2UiLCJGZWF0dXJlVHlwZSIsIk5hcnJvd1BoYXNlIiwidGVtcE1hbmlmb2xkIiwiVGVtcENvbnRhY3RNYW5pZm9sZCIsImNvbnRhY3RzV2l0aCIsImNvbGxpZGVyMSIsImNvbnRhY3RzX3dpdGgiLCJpbnRlcnNlY3Rpb25zV2l0aCIsImludGVyc2VjdGlvbnNfd2l0aCIsImNvbnRhY3RQYWlyIiwicmF3UGFpciIsImNvbnRhY3RfcGFpciIsImZsaXBwZWQiLCJudW1Db250YWN0TWFuaWZvbGRzIiwiY29udGFjdE1hbmlmb2xkIiwiaW50ZXJzZWN0aW9uUGFpciIsImludGVyc2VjdGlvbl9wYWlyIiwibm9ybWFsIiwibG9jYWxOb3JtYWwxIiwibG9jYWxfbjEiLCJsb2NhbE5vcm1hbDIiLCJsb2NhbF9uMiIsInN1YnNoYXBlMSIsInN1YnNoYXBlMiIsIm51bUNvbnRhY3RzIiwibnVtX2NvbnRhY3RzIiwibG9jYWxDb250YWN0UG9pbnQxIiwiY29udGFjdF9sb2NhbF9wMSIsImxvY2FsQ29udGFjdFBvaW50MiIsImNvbnRhY3RfbG9jYWxfcDIiLCJjb250YWN0RGlzdCIsImNvbnRhY3RfZGlzdCIsImNvbnRhY3RGaWQxIiwiY29udGFjdF9maWQxIiwiY29udGFjdEZpZDIiLCJjb250YWN0X2ZpZDIiLCJjb250YWN0SW1wdWxzZSIsImNvbnRhY3RfaW1wdWxzZSIsImNvbnRhY3RUYW5nZW50SW1wdWxzZSIsImNvbnRhY3RfdGFuZ2VudF9pbXB1bHNlIiwibnVtU29sdmVyQ29udGFjdHMiLCJudW1fc29sdmVyX2NvbnRhY3RzIiwic29sdmVyQ29udGFjdFBvaW50Iiwic29sdmVyX2NvbnRhY3RfcG9pbnQiLCJzb2x2ZXJDb250YWN0RGlzdCIsInNvbHZlcl9jb250YWN0X2Rpc3QiLCJzb2x2ZXJDb250YWN0RnJpY3Rpb24iLCJzb2x2ZXJfY29udGFjdF9mcmljdGlvbiIsInNvbHZlckNvbnRhY3RSZXN0aXR1dGlvbiIsInNvbHZlcl9jb250YWN0X3Jlc3RpdHV0aW9uIiwic29sdmVyQ29udGFjdFRhbmdlbnRWZWxvY2l0eSIsInNvbHZlcl9jb250YWN0X3RhbmdlbnRfdmVsb2NpdHkiLCJQb2ludFByb2plY3Rpb24iLCJpc0luc2lkZSIsIlBvaW50Q29sbGlkZXJQcm9qZWN0aW9uIiwiZmVhdHVyZVR5cGUiLCJmZWF0dXJlSWQiLCJjb2xsaWRlckhhbmRsZSIsIlJheSIsInBvaW50QXQiLCJSYXlJbnRlcnNlY3Rpb24iLCJ0b2kiLCJSYXlDb2xsaWRlckludGVyc2VjdGlvbiIsIlJheUNvbGxpZGVyVG9pIiwiU2hhcGVUeXBlIiwiU2hhcGUiLCJyYXdUeXBlIiwiZXh0ZW50cyIsInZzIiwiQmFsbCIsIkN1Ym9pZCIsIlJvdW5kQ3Vib2lkIiwiQ2Fwc3VsZSIsIlNlZ21lbnQiLCJQb2x5bGluZSIsIlRyaWFuZ2xlIiwiUm91bmRUcmlhbmdsZSIsIlRyaU1lc2giLCJIZWlnaHRGaWVsZCIsIkhlaWdodGZpZWxkIiwiQ29udmV4UG9seWdvbiIsIlJvdW5kQ29udmV4UG9seWdvbiIsInNoYXBlUG9zMSIsInNoYXBlUm90MSIsInNoYXBlVmVsMSIsInNoYXBlVmVsMiIsInJhd1BvczEiLCJyYXdSb3QxIiwicmF3VmVsMSIsInJhd1ZlbDIiLCJyYXdTaGFwZTEiLCJzaGFwZVBvcyIsInNoYXBlUm90IiwicmF3UG9zIiwicmF3UmF5T3JpZyIsInJhd1JheURpciIsInN1cGVyIiwicmEiLCJyYyIsInNraXBDb252ZXhIdWxsQ29tcHV0YXRpb24iLCJyYXdTY2FsZSIsIlNoYXBlVE9JIiwid2l0bmVzczEiLCJ3aXRuZXNzMiIsIlNoYXBlQ29sbGlkZXJUT0kiLCJWZWN0b3IyIiwiVmVjdG9yT3BzIiwibmV3IiwidiIsIlJvdGF0aW9uT3BzIiwiRGVidWdSZW5kZXJCdWZmZXJzIiwiY29sb3JzIiwiRGVidWdSZW5kZXJQaXBlbGluZSIsInJlbmRlciIsImltcHVsc2Vfam9pbnRzIiwibXVsdGlib2R5X2pvaW50cyIsIm5hcnJvd19waGFzZSIsIkFjdGl2ZUV2ZW50cyIsIkV2ZW50UXVldWUiLCJhdXRvRHJhaW4iLCJkcmFpbkNvbGxpc2lvbkV2ZW50cyIsIkFjdGl2ZUhvb2tzIiwiU29sdmVyRmxhZ3MiLCJQaHlzaWNzUGlwZWxpbmUiLCJzdGVwIiwiZ3Jhdml0eSIsImludGVncmF0aW9uUGFyYW1ldGVycyIsImJyb2FkUGhhc2UiLCJuYXJyb3dQaGFzZSIsImNjZFNvbHZlciIsImV2ZW50UXVldWUiLCJob29rcyIsInJhd0ciLCJzdGVwV2l0aEV2ZW50cyIsImZpbHRlckNvbnRhY3RQYWlyIiwiZmlsdGVySW50ZXJzZWN0aW9uUGFpciIsIlF1ZXJ5UGlwZWxpbmUiLCJ1cGRhdGUiLCJpbnRlcnNlY3Rpb25zV2l0aFJheSIsImNhbGxiYWNrIiwicmF3SW50ZXIiLCJpbnRlcnNlY3Rpb25XaXRoU2hhcGUiLCJwcm9qZWN0UG9pbnRBbmRHZXRGZWF0dXJlIiwiaW50ZXJzZWN0aW9uc1dpdGhQb2ludCIsInNoYXBlVmVsIiwiaW50ZXJzZWN0aW9uc1dpdGhTaGFwZSIsImNvbGxpZGVyc1dpdGhBYWJiSW50ZXJzZWN0aW5nQWFiYiIsImFhYmJDZW50ZXIiLCJhYWJiSGFsZkV4dGVudHMiLCJyYXdDZW50ZXIiLCJyYXdIYWxmRXh0ZW50cyIsIlNlcmlhbGl6YXRpb25QaXBlbGluZSIsInNlcmlhbGl6ZUFsbCIsInJhd0dyYSIsImRlc2VyaWFsaXplQWxsIiwiV29ybGQiLCJyYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMiLCJyYXdJc2xhbmRzIiwicmF3QnJvYWRQaGFzZSIsInJhd05hcnJvd1BoYXNlIiwicmF3Qm9kaWVzIiwicmF3Q29sbGlkZXJzIiwicmF3SW1wdWxzZUpvaW50cyIsInJhd011bHRpYm9keUpvaW50cyIsInJhd0NDRFNvbHZlciIsInJhd1F1ZXJ5UGlwZWxpbmUiLCJyYXdQaHlzaWNzUGlwZWxpbmUiLCJyYXdTZXJpYWxpemF0aW9uUGlwZWxpbmUiLCJyYXdEZWJ1Z1JlbmRlclBpcGVsaW5lIiwicXVlcnlQaXBlbGluZSIsInBoeXNpY3NQaXBlbGluZSIsInNlcmlhbGl6YXRpb25QaXBlbGluZSIsImRlYnVnUmVuZGVyUGlwZWxpbmUiLCJ0YWtlR3Jhdml0eSIsInRha2VJbnRlZ3JhdGlvblBhcmFtZXRlcnMiLCJ0YWtlSXNsYW5kTWFuYWdlciIsInRha2VCcm9hZFBoYXNlIiwidGFrZU5hcnJvd1BoYXNlIiwidGFrZUJvZGllcyIsInRha2VDb2xsaWRlcnMiLCJ0YWtlSW1wdWxzZUpvaW50cyIsInRha2VNdWx0aWJvZHlKb2ludHMiLCJ0YWtlU25hcHNob3QiLCJkZWJ1Z1JlbmRlciIsInRpbWVzdGVwIiwibml0ZXIiLCJjcmVhdGVJbXB1bHNlSm9pbnQiLCJwYXJhbXMiLCJjcmVhdGVNdWx0aWJvZHlKb2ludCIsImdldFJpZ2lkQm9keSIsImdldENvbGxpZGVyIiwiZ2V0SW1wdWxzZUpvaW50IiwiZ2V0TXVsdGlib2R5Sm9pbnQiLCJyZW1vdmVSaWdpZEJvZHkiLCJyZW1vdmVDb2xsaWRlciIsInJlbW92ZUltcHVsc2VKb2ludCIsInJlbW92ZU11bHRpYm9keUpvaW50IiwiZm9yRWFjaENvbGxpZGVyIiwiZm9yRWFjaFJpZ2lkQm9keSIsImNhc3RDbG9zdXJlIiwiaGVhcCIsImZpbGwiLCJnZXRPYmplY3QiLCJpZHgiLCJoZWFwX25leHQiLCJkcm9wT2JqZWN0IiwidGFrZU9iamVjdCIsInJldCIsImFkZEhlYXBPYmplY3QiLCJvYmoiLCJpc0xpa2VOb25lIiwiY2FjaGVnZXRGbG9hdDY0TWVtb3J5MCIsImdldEZsb2F0NjRNZW1vcnkwIiwiY2FjaGVnZXRJbnQzMk1lbW9yeTAiLCJnZXRJbnQzMk1lbW9yeTAiLCJJbnQzMkFycmF5IiwiY2FjaGVkVGV4dERlY29kZXIiLCJUZXh0RGVjb2RlciIsIm1vZHVsZSIsInJlcXVpcmUiLCJpZ25vcmVCT00iLCJmYXRhbCIsImRlY29kZSIsImNhY2hlZ2V0VWludDhNZW1vcnkwIiwiZ2V0U3RyaW5nRnJvbVdhc20wIiwicHRyIiwiVWludDhBcnJheSIsInN1YmFycmF5IiwicmV0cHRyIiwicjAiLCJyMSIsIl9hc3NlcnRDbGFzcyIsImluc3RhbmNlIiwia2xhc3MiLCJuYW1lIiwic3RhY2tfcG9pbnRlciIsImFkZEJvcnJvd2VkT2JqZWN0IiwiY2FjaGVnZXRGbG9hdDMyTWVtb3J5MCIsImdldEZsb2F0MzJNZW1vcnkwIiwiRmxvYXQzMkFycmF5IiwiZ2V0QXJyYXlGMzJGcm9tV2FzbTAiLCJjYWNoZWdldFVpbnQzMk1lbW9yeTAiLCJnZXRVaW50MzJNZW1vcnkwIiwiV0FTTV9WRUNUT1JfTEVOIiwicGFzc0FycmF5RjMyVG9XYXNtMCIsImFyZyIsIm1hbGxvYyIsInBhc3NBcnJheTMyVG9XYXNtMCIsImhhbmRsZUVycm9yIiwiYXJncyIsImFwcGx5IiwiZSIsIk9iamVjdCIsImZyZWV6ZSIsIkdlbmVyaWMiLCJBY2NlbGVyYXRpb25CYXNlZCIsIkZvcmNlQmFzZWQiLCJSYXdKb2ludEF4aXMiLCJYIiwiWSIsIkFuZ1giLCJWZXJ0ZXgiLCJGYWNlIiwiVW5rbm93biIsIkNvbXBvdW5kIiwiUmF3QnJvYWRQaGFzZSIsImNyZWF0ZSIsInByb3RvdHlwZSIsIl9fZGVzdHJveV9pbnRvX3JhdyIsIl9fd3JhcCIsIlJhd0NDRFNvbHZlciIsIlJhd0NvbGxpZGVyU2V0IiwiUmF3VmVjdG9yIiwiUmF3Um90YXRpb24iLCJ2MCIsInNsaWNlIiwicjIiLCJjb2xsaWRlclZlbCIsIlJhd1NoYXBlIiwiUmF3U2hhcGVUT0kiLCJjb2xsaWRlcjJoYW5kbGUiLCJtYXhfdG9pIiwiUmF3U2hhcGVDb2xsaWRlclRPSSIsIlJhd1NoYXBlQ29udGFjdCIsIlJhd1BvaW50UHJvamVjdGlvbiIsInJheU9yaWciLCJyYXlEaXIiLCJSYXdSYXlJbnRlcnNlY3Rpb24iLCJpc19zZW5zb3IiLCJldmVudHMiLCJ0eXBlcyIsIlJhd1JpZ2lkQm9keVNldCIsIlJhd0lzbGFuZE1hbmFnZXIiLCJpc0hhbmRsZVZhbGlkIiwiUmF3Q29udGFjdE1hbmlmb2xkIiwiUmF3Q29udGFjdFBhaXIiLCJSYXdEZWJ1Z1JlbmRlclBpcGVsaW5lIiwiUmF3SW1wdWxzZUpvaW50U2V0IiwiUmF3TXVsdGlib2R5Sm9pbnRTZXQiLCJSYXdOYXJyb3dQaGFzZSIsIlJhd0Rlc2VyaWFsaXplZFdvcmxkIiwiUmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzIiwiUmF3RXZlbnRRdWV1ZSIsIlJhd0dlbmVyaWNKb2ludCIsImF4ZXMxIiwiYXhlczIiLCJqb2ludEZyYW1lWDEiLCJqb2ludEZyYW1lWDIiLCJoYW5kbGUxIiwiaGFuZGxlMiIsIlJhd1BoeXNpY3NQaXBlbGluZSIsImpvaW50cyIsImFydGljdWxhdGlvbnMiLCJjY2Rfc29sdmVyIiwiaG9va09iamVjdCIsImhvb2tGaWx0ZXJDb250YWN0UGFpciIsImhvb2tGaWx0ZXJJbnRlcnNlY3Rpb25QYWlyIiwiUmF3UG9pbnRDb2xsaWRlclByb2plY3Rpb24iLCJSYXdRdWVyeVBpcGVsaW5lIiwiUmF3UmF5Q29sbGlkZXJUb2kiLCJSYXdSYXlDb2xsaWRlckludGVyc2VjdGlvbiIsImFsbG93X3giLCJhbGxvd195IiwiYXQiLCJ0b3JxdWVfaW1wdWxzZSIsInJiVXNlckRhdGEiLCJyYlNldFVzZXJEYXRhIiwidHJhbnNsYXRpb25FbmFibGVkWCIsInRyYW5zbGF0aW9uRW5hYmxlZFkiLCJyYl90eXBlIiwiaW0iLCJyZSIsIlJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSIsInB0cjAiLCJsZW4wIiwicHRyMSIsImxlbjEiLCJwMSIsInAyIiwicDMiLCJ4eSIsInl4IiwiX193YmluZGdlbl9vYmplY3RfZHJvcF9yZWYiLCJhcmcwIiwiX193YmluZGdlbl9udW1iZXJfbmV3IiwiX193YmluZGdlbl9udW1iZXJfZ2V0IiwiYXJnMSIsIl9fd2JpbmRnZW5fYm9vbGVhbl9nZXQiLCJfX3diZ19yYXdyYXljb2xsaWRlcmludGVyc2VjdGlvbl9uZXciLCJfX3diaW5kZ2VuX2lzX2Z1bmN0aW9uIiwiX193YmdfY2FsbF8zZWQyODhhMjQ3ZjEzZWE1IiwiYXJnMiIsImNhbGwiLCJhcmd1bWVudHMiLCJfX3diZ19jYWxsX2ExOWQzMTczZjNlMWQzYzUiLCJhcmczIiwiX193YmdfY2FsbF82ZWQ3MTIxY2ZiNDJjZmVkIiwiYXJnNCIsIl9fd2JnX2JpbmRfYzA5YTE2NDFjMTU4MGMwNyIsImJpbmQiLCJfX3diZ19idWZmZXJfN2FmMjNmNjVmNmM2NDU0OCIsIl9fd2JnX25ld3dpdGhieXRlb2Zmc2V0YW5kbGVuZ3RoX2NlMWU3NWYwY2U1Zjc5NzQiLCJfX3diZ19uZXdfY2M5MDE4YmQ2ZjI4M2I2ZiIsIl9fd2JnX3NldF9mMjVlODY5ZTQ1NjVkMmEyIiwiX193YmdfbGVuZ3RoXzBhY2IxY2Y5YmJhZjg1MTkiLCJfX3diZ19uZXd3aXRoYnl0ZW9mZnNldGFuZGxlbmd0aF8zZjU1NDk3OGQ4NzkzYjE0IiwiX193Ymdfc2V0XzlhOTYwNGM2ODg4ZjY0NjgiLCJfX3diZ19sZW5ndGhfMzcxY2MxYzkyYWE4ZmVhZSIsIl9fd2JnX25ld3dpdGhsZW5ndGhfZTUzODI1OGNiMmE2YmFkMCIsIl9fd2JpbmRnZW5fdGhyb3ciLCJfX3diaW5kZ2VuX21lbW9yeSJdLCJzb3VyY2VSb290IjoiIn0=