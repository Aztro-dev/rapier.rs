"use strict";(self.webpackChunkrapier_testbed3d=self.webpackChunkrapier_testbed3d||[]).push([[87],{8709:(t,e,r)=>{r.d(e,{F:()=>i});class i{constructor(){this.fconv=new Float64Array(1),this.uconv=new Uint32Array(this.fconv.buffer),this.data=new Array,this.size=0}set(t,e){let r=this.index(t);for(;this.data.length<=r;)this.data.push(null);null==this.data[r]&&(this.size+=1),this.data[r]=e}len(){return this.size}delete(t){let e=this.index(t);e<this.data.length&&(null!=this.data[e]&&(this.size-=1),this.data[e]=null)}clear(){this.data=new Array}get(t){let e=this.index(t);return e<this.data.length?this.data[e]:null}forEach(t){for(const e of this.data)null!=e&&t(e)}getAll(){return this.data.filter((t=>null!=t))}index(t){return this.fconv[0]=t,this.uconv[0]}}},8448:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{K:()=>s});var n=r(2184),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.LE}free(){this.raw.free(),this.raw=void 0}}i()}catch(t){i(t)}}))},8042:(t,e,r)=>{var i;r.d(e,{j:()=>i}),function(t){t[t.Average=0]="Average",t[t.Min=1]="Min",t[t.Multiply=2]="Multiply",t[t.Max=3]="Max"}(i||(i={}))},9380:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{C1:()=>h,JW:()=>d,VH:()=>w,Vt:()=>a,_h:()=>_,au:()=>p,dl:()=>n,eZ:()=>u,s2:()=>l});var n,a,s=r(7383),o=r(2184),c=t([s,o]);[s,o]=c.then?(await c)():c,function(t){t[t.Revolute=0]="Revolute",t[t.Fixed=1]="Fixed",t[t.Prismatic=2]="Prismatic",t[t.Spherical=3]="Spherical"}(n||(n={})),function(t){t[t.AccelerationBased=0]="AccelerationBased",t[t.ForceBased=1]="ForceBased"}(a||(a={}));class l{constructor(t,e,r){this.rawSet=t,this.bodySet=e,this.handle=r}static newTyped(t,e,r){switch(t.jointType(r)){case n.Revolute:return new p(t,e,r);case n.Prismatic:return new u(t,e,r);case n.Fixed:return new d(t,e,r);case n.Spherical:return new w(t,e,r);default:return new l(t,e,r)}}finalizeDeserialization(t){this.bodySet=t}isValid(){return this.rawSet.contains(this.handle)}body1(){return this.bodySet.get(this.rawSet.jointBodyHandle1(this.handle))}body2(){return this.bodySet.get(this.rawSet.jointBodyHandle2(this.handle))}type(){return this.rawSet.jointType(this.handle)}frameX1(){return s.T3.fromRaw(this.rawSet.jointFrameX1(this.handle))}frameX2(){return s.T3.fromRaw(this.rawSet.jointFrameX2(this.handle))}anchor1(){return s.ut.fromRaw(this.rawSet.jointAnchor1(this.handle))}anchor2(){return s.ut.fromRaw(this.rawSet.jointAnchor2(this.handle))}}class h extends l{limitsEnabled(){return this.rawSet.jointLimitsEnabled(this.handle,this.rawAxis())}limitsMin(){return this.rawSet.jointLimitsMin(this.handle,this.rawAxis())}limitsMax(){return this.rawSet.jointLimitsMax(this.handle,this.rawAxis())}configureMotorModel(t){this.rawSet.jointConfigureMotorModel(this.handle,this.rawAxis(),t)}configureMotorVelocity(t,e){this.rawSet.jointConfigureMotorVelocity(this.handle,this.rawAxis(),t,e)}configureMotorPosition(t,e,r){this.rawSet.jointConfigureMotorPosition(this.handle,this.rawAxis(),t,e,r)}configureMotor(t,e,r,i){this.rawSet.jointConfigureMotor(this.handle,this.rawAxis(),t,e,r,i)}}class d extends l{}class u extends h{rawAxis(){return o.JM.X}}class p extends h{rawAxis(){return o.JM.AngX}}class w extends l{}class _{constructor(){}static fixed(t,e,r,i){let a=new _;return a.anchor1=t,a.anchor2=r,a.frame1=e,a.frame2=i,a.jointType=n.Fixed,a}static spherical(t,e){let r=new _;return r.anchor1=t,r.anchor2=e,r.jointType=n.Spherical,r}static prismatic(t,e,r){let i=new _;return i.anchor1=t,i.anchor2=e,i.axis=r,i.jointType=n.Prismatic,i}static revolute(t,e,r){let i=new _;return i.anchor1=t,i.anchor2=e,i.axis=r,i.jointType=n.Revolute,i}intoRaw(){let t,e,r=s.ut.intoRaw(this.anchor1),i=s.ut.intoRaw(this.anchor2),a=!1,c=0,l=0;switch(this.jointType){case n.Fixed:let h=s.T3.intoRaw(this.frame1),d=s.T3.intoRaw(this.frame2);e=o.cQ.fixed(r,h,i,d),h.free(),d.free();break;case n.Prismatic:t=s.ut.intoRaw(this.axis),this.limitsEnabled&&(a=!0,c=this.limits[0],l=this.limits[1]),e=o.cQ.prismatic(r,i,t,a,c,l),t.free();break;case n.Spherical:e=o.cQ.spherical(r,i);break;case n.Revolute:t=s.ut.intoRaw(this.axis),e=o.cQ.revolute(r,i,t),t.free()}return r.free(),i.free(),e}}i()}catch(t){i(t)}}))},9206:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{l:()=>c});var n=r(2184),a=r(8709),s=r(9380),o=t([n,s]);[n,s]=o.then?(await o)():o;class c{constructor(t){this.raw=t||new n.Qc,this.map=new a.F,t&&t.forEachJointHandle((e=>{this.map.set(e,s.s2.newTyped(t,null,e))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createJoint(t,e,r,i,n){const a=e.intoRaw(),o=this.raw.createJoint(a,r,i,n);a.free();let c=s.s2.newTyped(this.raw,t,o);return this.map.set(o,c),c}remove(t,e){this.raw.remove(t,e),this.unmap(t)}forEachJointHandleAttachedToRigidBody(t,e){this.raw.forEachJointAttachedToRigidBody(t,e)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},8715:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Am:()=>l.Am,C1:()=>o.C1,JW:()=>o.JW,Jj:()=>n.Jj,Kd:()=>u.K,RT:()=>s.R,UW:()=>l.UW,VH:()=>o.VH,Vt:()=>o.Vt,_h:()=>o._h,au:()=>o.au,dl:()=>o.dl,dx:()=>l.dx,eZ:()=>o.eZ,h1:()=>h.h,ib:()=>n.ib,jK:()=>d.j,jp:()=>l.jp,lX:()=>c.l,rF:()=>a.r,s2:()=>o.s2,wI:()=>l.wI,xr:()=>n.xr,yB:()=>p.y,yf:()=>l.yf});var n=r(1522),a=r(676),s=r(6),o=r(9380),c=r(9206),l=r(3346),h=r(8136),d=r(8042),u=r(8448),p=r(7332),w=t([n,a,s,o,c,l,h,u,p]);[n,a,s,o,c,l,h,u,p]=w.then?(await w)():w,i()}catch(t){i(t)}}))},6:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{R:()=>s});var n=r(2184),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.zu}free(){this.raw.free(),this.raw=void 0}get dt(){return this.raw.dt}get erp(){return this.raw.erp}get allowedLinearError(){return this.raw.allowedLinearError}get predictionDistance(){return this.raw.predictionDistance}get maxVelocityIterations(){return this.raw.maxVelocityIterations}get maxVelocityFrictionIterations(){return this.raw.maxVelocityFrictionIterations}get maxStabilizationIterations(){return this.raw.maxStabilizationIterations}get minIslandSize(){return this.raw.minIslandSize}get maxCcdSubsteps(){return this.raw.maxCcdSubsteps}set dt(t){this.raw.dt=t}set erp(t){this.raw.erp=t}set allowedLinearError(t){this.raw.allowedLinearError=t}set predictionDistance(t){this.raw.predictionDistance=t}set maxVelocityIterations(t){this.raw.maxVelocityIterations=t}set maxVelocityFrictionIterations(t){this.raw.maxVelocityFrictionIterations=t}set maxStabilizationIterations(t){this.raw.maxStabilizationIterations=t}set minIslandSize(t){this.raw.minIslandSize=t}set maxCcdSubsteps(t){this.raw.maxCcdSubsteps=t}}i()}catch(t){i(t)}}))},7332:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{y:()=>s});var n=r(2184),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.Is}free(){this.raw.free(),this.raw=void 0}forEachActiveRigidBodyHandle(t){this.raw.forEachActiveRigidBodyHandle(t)}}i()}catch(t){i(t)}}))},3346:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Am:()=>d,UW:()=>l,dx:()=>u,jp:()=>h,wI:()=>c,yf:()=>o});var n=r(2184),a=r(9380),s=t([a,n]);[a,n]=s.then?(await s)():s;class o{constructor(t,e){this.rawSet=t,this.handle=e}static newTyped(t,e){switch(t.jointType(e)){case a.dl.Revolute:return new d(t,e);case a.dl.Prismatic:return new h(t,e);case a.dl.Fixed:return new l(t,e);case a.dl.Spherical:return new u(t,e);default:return new o(t,e)}}isValid(){return this.rawSet.contains(this.handle)}}class c extends o{}class l extends o{}class h extends c{rawAxis(){return n.JM.X}}class d extends c{rawAxis(){return n.JM.AngX}}class u extends o{}i()}catch(t){i(t)}}))},8136:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{h:()=>c});var n=r(2184),a=r(8709),s=r(3346),o=t([n,s]);[n,s]=o.then?(await o)():o;class c{constructor(t){this.raw=t||new n.fl,this.map=new a.F,t&&t.forEachJointHandle((t=>{this.map.set(t,s.yf.newTyped(this.raw,t))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}createJoint(t,e,r,i){const n=t.intoRaw(),a=this.raw.createJoint(n,e,r,i);n.free();let o=s.yf.newTyped(this.raw,a);return this.map.set(a,o),o}remove(t,e){this.raw.remove(t,e),this.map.delete(t)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachJointHandleAttachedToRigidBody(t,e){this.raw.forEachJointAttachedToRigidBody(t,e)}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},1522:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Jj:()=>n,ib:()=>o,xr:()=>c});var n,a=r(7383),s=t([a]);a=(s.then?(await s)():s)[0],function(t){t[t.Dynamic=0]="Dynamic",t[t.Fixed=1]="Fixed",t[t.KinematicPositionBased=2]="KinematicPositionBased",t[t.KinematicVelocityBased=3]="KinematicVelocityBased"}(n||(n={}));class o{constructor(t,e,r){this.rawSet=t,this.colliderSet=e,this.handle=r}finalizeDeserialization(t){this.colliderSet=t}isValid(){return this.rawSet.contains(this.handle)}lockTranslations(t,e){return this.rawSet.rbLockTranslations(this.handle,t,e)}lockRotations(t,e){return this.rawSet.rbLockRotations(this.handle,t,e)}restrictTranslations(t,e,r,i){return this.rawSet.rbRestrictTranslations(this.handle,t,e,r,i)}restrictRotations(t,e,r,i){return this.rawSet.rbRestrictRotations(this.handle,t,e,r,i)}dominanceGroup(){return this.rawSet.rbDominanceGroup(this.handle)}setDominanceGroup(t){this.rawSet.rbSetDominanceGroup(this.handle,t)}enableCcd(t){this.rawSet.rbEnableCcd(this.handle,t)}translation(){let t=this.rawSet.rbTranslation(this.handle);return a.ut.fromRaw(t)}rotation(){let t=this.rawSet.rbRotation(this.handle);return a.T3.fromRaw(t)}nextTranslation(){let t=this.rawSet.rbNextTranslation(this.handle);return a.ut.fromRaw(t)}nextRotation(){let t=this.rawSet.rbNextRotation(this.handle);return a.T3.fromRaw(t)}setTranslation(t,e){this.rawSet.rbSetTranslation(this.handle,t.x,t.y,t.z,e)}setLinvel(t,e){let r=a.ut.intoRaw(t);this.rawSet.rbSetLinvel(this.handle,r,e),r.free()}gravityScale(){return this.rawSet.rbGravityScale(this.handle)}setGravityScale(t,e){this.rawSet.rbSetGravityScale(this.handle,t,e)}setRotation(t,e){this.rawSet.rbSetRotation(this.handle,t.x,t.y,t.z,t.w,e)}setAngvel(t,e){let r=a.ut.intoRaw(t);this.rawSet.rbSetAngvel(this.handle,r,e),r.free()}setNextKinematicTranslation(t){this.rawSet.rbSetNextKinematicTranslation(this.handle,t.x,t.y,t.z)}setNextKinematicRotation(t){this.rawSet.rbSetNextKinematicRotation(this.handle,t.x,t.y,t.z,t.w)}linvel(){return a.ut.fromRaw(this.rawSet.rbLinvel(this.handle))}angvel(){return a.ut.fromRaw(this.rawSet.rbAngvel(this.handle))}mass(){return this.rawSet.rbMass(this.handle)}sleep(){this.rawSet.rbSleep(this.handle)}wakeUp(){this.rawSet.rbWakeUp(this.handle)}isCcdEnabled(){this.rawSet.rbIsCcdEnabled(this.handle)}numColliders(){return this.rawSet.rbNumColliders(this.handle)}collider(t){return this.colliderSet.get(this.rawSet.rbCollider(this.handle,t))}bodyType(){return this.rawSet.rbBodyType(this.handle)}setBodyType(t){return this.rawSet.rbSetBodyType(this.handle,t)}isSleeping(){return this.rawSet.rbIsSleeping(this.handle)}isMoving(){return this.rawSet.rbIsMoving(this.handle)}isFixed(){return this.rawSet.rbIsFixed(this.handle)}isKinematic(){return this.rawSet.rbIsKinematic(this.handle)}isDynamic(){return this.rawSet.rbIsDynamic(this.handle)}linearDamping(){return this.rawSet.rbLinearDamping(this.handle)}angularDamping(){return this.rawSet.rbAngularDamping(this.handle)}setLinearDamping(t){this.rawSet.rbSetLinearDamping(this.handle,t)}setAngularDamping(t){this.rawSet.rbSetAngularDamping(this.handle,t)}resetForces(t){this.rawSet.rbResetForces(this.handle,t)}resetTorques(t){this.rawSet.rbResetTorques(this.handle,t)}addForce(t,e){const r=a.ut.intoRaw(t);this.rawSet.rbAddForce(this.handle,r,e),r.free()}applyImpulse(t,e){const r=a.ut.intoRaw(t);this.rawSet.rbApplyImpulse(this.handle,r,e),r.free()}addTorque(t,e){const r=a.ut.intoRaw(t);this.rawSet.rbAddTorque(this.handle,r,e),r.free()}applyTorqueImpulse(t,e){const r=a.ut.intoRaw(t);this.rawSet.rbApplyTorqueImpulse(this.handle,r,e),r.free()}addForceAtPoint(t,e,r){const i=a.ut.intoRaw(t),n=a.ut.intoRaw(e);this.rawSet.rbAddForceAtPoint(this.handle,i,n,r),i.free(),n.free()}applyImpulseAtPoint(t,e,r){const i=a.ut.intoRaw(t),n=a.ut.intoRaw(e);this.rawSet.rbApplyImpulseAtPoint(this.handle,i,n,r),i.free(),n.free()}}class c{constructor(t){this.status=t,this.translation=a.ut.zeros(),this.rotation=a.T3.identity(),this.gravityScale=1,this.linvel=a.ut.zeros(),this.mass=0,this.centerOfMass=a.ut.zeros(),this.translationsEnabledX=!0,this.translationsEnabledY=!0,this.angvel=a.ut.zeros(),this.principalAngularInertia=a.ut.zeros(),this.angularInertiaLocalFrame=a.T3.identity(),this.translationsEnabledZ=!0,this.rotationsEnabledX=!0,this.rotationsEnabledY=!0,this.rotationsEnabledZ=!0,this.linearDamping=0,this.angularDamping=0,this.canSleep=!0,this.sleeping=!1,this.ccdEnabled=!1,this.dominanceGroup=0}static dynamic(){return new c(n.Dynamic)}static kinematicPositionBased(){return new c(n.KinematicPositionBased)}static kinematicVelocityBased(){return new c(n.KinematicVelocityBased)}static fixed(){return new c(n.Fixed)}static newDynamic(){return new c(n.Dynamic)}static newKinematicPositionBased(){return new c(n.KinematicPositionBased)}static newKinematicVelocityBased(){return new c(n.KinematicVelocityBased)}static newStatic(){return new c(n.Fixed)}setDominanceGroup(t){return this.dominanceGroup=t,this}setTranslation(t,e,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:e,z:r},this}setRotation(t){return this.rotation=t,this}setGravityScale(t){return this.gravityScale=t,this}setAdditionalMass(t){return this.mass=t,this}setLinvel(t,e,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)throw TypeError("The linvel components must be numbers.");return this.linvel={x:t,y:e,z:r},this}setAngvel(t){return this.angvel=t,this}setAdditionalMassProperties(t,e,r,i){return this.mass=t,this.centerOfMass=e,this.principalAngularInertia=r,this.angularInertiaLocalFrame=i,this}setAdditionalPrincipalAngularInertia(t){return this.principalAngularInertia=t,this}restrictTranslations(t,e,r){return this.translationsEnabledX=t,this.translationsEnabledY=e,this.translationsEnabledZ=r,this}lockTranslations(){return this.restrictTranslations(!1,!1,!1)}restrictRotations(t,e,r){return this.rotationsEnabledX=t,this.rotationsEnabledY=e,this.rotationsEnabledZ=r,this}lockRotations(){return this.restrictRotations(!1,!1,!1)}setLinearDamping(t){return this.linearDamping=t,this}setAngularDamping(t){return this.angularDamping=t,this}setCanSleep(t){return this.canSleep=t,this}setSleeping(t){return this.sleeping=t,this}setCcdEnabled(t){return this.ccdEnabled=t,this}setUserData(t){return this.userData=t,this}}i()}catch(t){i(t)}}))},676:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{r:()=>l});var n=r(2184),a=r(8709),s=r(7383),o=r(1522),c=t([n,o,s]);[n,o,s]=c.then?(await c)():c;class l{constructor(t){this.raw=t||new n.fY,this.map=new a.F,t&&t.forEachRigidBodyHandle((e=>{this.map.set(e,new o.ib(t,null,e))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createRigidBody(t,e){let r=s.ut.intoRaw(e.translation),i=s.T3.intoRaw(e.rotation),n=s.ut.intoRaw(e.linvel),a=s.ut.intoRaw(e.centerOfMass),c=s.ut.intoRaw(e.angvel),l=s.ut.intoRaw(e.principalAngularInertia),h=s.T3.intoRaw(e.angularInertiaLocalFrame),d=this.raw.createRigidBody(r,i,e.gravityScale,e.mass,a,n,c,l,h,e.translationsEnabledX,e.translationsEnabledY,e.translationsEnabledZ,e.rotationsEnabledX,e.rotationsEnabledY,e.rotationsEnabledZ,e.linearDamping,e.angularDamping,e.status,e.canSleep,e.sleeping,e.ccdEnabled,e.dominanceGroup);r.free(),i.free(),n.free(),a.free(),c.free(),l.free(),h.free();const u=new o.ib(this.raw,t,d);return u.userData=e.userData,this.map.set(d,u),u}remove(t,e,r,i,n){for(let e=0;e<this.raw.rbNumColliders(t);e+=1)r.unmap(this.raw.rbCollider(t,e));i.forEachJointHandleAttachedToRigidBody(t,(t=>i.unmap(t))),n.forEachJointHandleAttachedToRigidBody(t,(t=>n.unmap(t))),this.raw.remove(t,e.raw,r.raw,i.raw,n.raw),this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachActiveRigidBody(t,e){t.forEachActiveRigidBodyHandle((t=>{e(this.get(t))}))}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},2324:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.r(e),r.d(e,{ActiveCollisionTypes:()=>o.vq,ActiveEvents:()=>c.Md,ActiveHooks:()=>c.iX,Ball:()=>o.ec,BroadPhase:()=>o.NT,CCDSolver:()=>s.Kd,Capsule:()=>o.sw,CoefficientCombineRule:()=>s.jK,Collider:()=>o.YM,ColliderDesc:()=>o.ic,ColliderSet:()=>o.zY,Cone:()=>o.Qq,ConvexPolyhedron:()=>o.YD,Cuboid:()=>o.jv,Cylinder:()=>o.Ab,DebugRenderBuffers:()=>c.tt,DebugRenderPipeline:()=>c.kh,EventQueue:()=>c.NH,FeatureType:()=>o.Te,FixedImpulseJoint:()=>s.JW,FixedMultibodyJoint:()=>s.UW,Heightfield:()=>o.f4,ImpulseJoint:()=>s.s2,ImpulseJointSet:()=>s.lX,IntegrationParameters:()=>s.RT,IslandManager:()=>s.yB,JointData:()=>s._h,JointType:()=>s.dl,MotorModel:()=>s.Vt,MultibodyJoint:()=>s.yf,MultibodyJointSet:()=>s.h1,NarrowPhase:()=>o.L4,PhysicsPipeline:()=>c.DJ,PointColliderProjection:()=>o.Vl,PointProjection:()=>o.FP,Polyline:()=>o.aH,PrismaticImpulseJoint:()=>s.eZ,PrismaticMultibodyJoint:()=>s.jp,Quaternion:()=>a._f,Ray:()=>o.zH,RayColliderIntersection:()=>o.No,RayColliderToi:()=>o.cu,RayIntersection:()=>o.Gz,RevoluteImpulseJoint:()=>s.au,RevoluteMultibodyJoint:()=>s.Am,RigidBody:()=>s.ib,RigidBodyDesc:()=>s.xr,RigidBodySet:()=>s.rF,RigidBodyType:()=>s.Jj,RotationOps:()=>a.T3,RoundCone:()=>o.eT,RoundConvexPolyhedron:()=>o.Ch,RoundCuboid:()=>o.iA,RoundCylinder:()=>o.$t,RoundTriangle:()=>o.$R,Segment:()=>o.XX,SerializationPipeline:()=>c.y9,Shape:()=>o.bn,ShapeColliderTOI:()=>o.mB,ShapeContact:()=>o.Qi,ShapeTOI:()=>o.GJ,ShapeType:()=>o.DY,SolverFlags:()=>c.Nv,SphericalImpulseJoint:()=>s.VH,SphericalMultibodyJoint:()=>s.dx,TempContactManifold:()=>o.eL,TriMesh:()=>o.az,Triangle:()=>o.CJ,UnitImpulseJoint:()=>s.C1,UnitMultibodyJoint:()=>s.wI,Vector3:()=>a.P,VectorOps:()=>a.ut,World:()=>c.q3,version:()=>h});var n=r(2184),a=r(7383),s=r(8715),o=r(5328),c=r(161),l=t([n,a,s,o,c]);function h(){return(0,n.i8)()}[n,a,s,o,c]=l.then?(await l)():l,i()}catch(d){i(d)}}))},2261:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{N:()=>s});var n=r(2184),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t){this.raw=t||new n.FU}free(){this.raw.free(),this.raw=void 0}}i()}catch(t){i(t)}}))},377:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{YM:()=>p,ic:()=>w,vq:()=>n});var n,a=r(7383),s=r(8042),o=r(7429),c=r(3238),l=r(8461),h=r(5961),d=r(6254),u=t([o,a,l,h,d,c]);[o,a,l,h,d,c]=u.then?(await u)():u,function(t){t[t.DYNAMIC_DYNAMIC=1]="DYNAMIC_DYNAMIC",t[t.DYNAMIC_KINEMATIC=12]="DYNAMIC_KINEMATIC",t[t.DYNAMIC_FIXED=2]="DYNAMIC_FIXED",t[t.KINEMATIC_KINEMATIC=52224]="KINEMATIC_KINEMATIC",t[t.KINEMATIC_FIXED=8704]="KINEMATIC_FIXED",t[t.FIXED_FIXED=32]="FIXED_FIXED",t[t.DEFAULT=15]="DEFAULT",t[t.ALL=60943]="ALL"}(n||(n={}));class p{constructor(t,e,r,i){this.colliderSet=t,this.handle=e,this._parent=r,this._shape=i}finalizeDeserialization(t){null!=this.handle&&(this._parent=t.get(this.colliderSet.raw.coParent(this.handle)))}ensureShapeIsCached(){this._shape||(this._shape=o.bn.fromRaw(this.colliderSet.raw,this.handle))}get shape(){return this.ensureShapeIsCached(),this._shape}isValid(){return this.colliderSet.raw.contains(this.handle)}translation(){return a.ut.fromRaw(this.colliderSet.raw.coTranslation(this.handle))}rotation(){return a.T3.fromRaw(this.colliderSet.raw.coRotation(this.handle))}isSensor(){return this.colliderSet.raw.coIsSensor(this.handle)}setSensor(t){this.colliderSet.raw.coSetSensor(this.handle,t)}setShape(t){let e=t.intoRaw();this.colliderSet.raw.coSetShape(this.handle,e),e.free(),this._shape=t}setRestitution(t){this.colliderSet.raw.coSetRestitution(this.handle,t)}setFriction(t){this.colliderSet.raw.coSetFriction(this.handle,t)}frictionCombineRule(){return this.colliderSet.raw.coFrictionCombineRule(this.handle)}setFrictionCombineRule(t){this.colliderSet.raw.coSetFrictionCombineRule(this.handle,t)}restitutionCombineRule(){return this.colliderSet.raw.coRestitutionCombineRule(this.handle)}setRestitutionCombineRule(t){this.colliderSet.raw.coSetRestitutionCombineRule(this.handle,t)}setCollisionGroups(t){this.colliderSet.raw.coSetCollisionGroups(this.handle,t)}setSolverGroups(t){this.colliderSet.raw.coSetSolverGroups(this.handle,t)}activeHooks(){return this.colliderSet.raw.coActiveHooks(this.handle)}setActiveHooks(t){this.colliderSet.raw.coSetActiveHooks(this.handle,t)}activeEvents(){return this.colliderSet.raw.coActiveEvents(this.handle)}setActiveEvents(t){this.colliderSet.raw.coSetActiveEvents(this.handle,t)}activeCollisionTypes(){return this.colliderSet.raw.coActiveCollisionTypes(this.handle)}setActiveCollisionTypes(t){this.colliderSet.raw.coSetActiveCollisionTypes(this.handle,t)}setTranslation(t){this.colliderSet.raw.coSetTranslation(this.handle,t.x,t.y,t.z)}setTranslationWrtParent(t){this.colliderSet.raw.coSetTranslationWrtParent(this.handle,t.x,t.y,t.z)}setRotation(t){this.colliderSet.raw.coSetRotation(this.handle,t.x,t.y,t.z,t.w)}setRotationWrtParent(t){this.colliderSet.raw.coSetRotationWrtParent(this.handle,t.x,t.y,t.z,t.w)}shapeType(){return this.colliderSet.raw.coShapeType(this.handle)}halfExtents(){return a.ut.fromRaw(this.colliderSet.raw.coHalfExtents(this.handle))}radius(){return this.colliderSet.raw.coRadius(this.handle)}roundRadius(){return this.colliderSet.raw.coRoundRadius(this.handle)}halfHeight(){return this.colliderSet.raw.coHalfHeight(this.handle)}vertices(){return this.colliderSet.raw.coVertices(this.handle)}indices(){return this.colliderSet.raw.coIndices(this.handle)}heightfieldHeights(){return this.colliderSet.raw.coHeightfieldHeights(this.handle)}heightfieldScale(){let t=this.colliderSet.raw.coHeightfieldScale(this.handle);return a.ut.fromRaw(t)}heightfieldNRows(){return this.colliderSet.raw.coHeightfieldNRows(this.handle)}heightfieldNCols(){return this.colliderSet.raw.coHeightfieldNCols(this.handle)}parent(){return this._parent}friction(){return this.colliderSet.raw.coFriction(this.handle)}restitution(){return this.colliderSet.raw.coRestitution(this.handle)}density(){return this.colliderSet.raw.coDensity(this.handle)}collisionGroups(){return this.colliderSet.raw.coCollisionGroups(this.handle)}solverGroups(){return this.colliderSet.raw.coSolverGroups(this.handle)}containsPoint(t){let e=a.ut.intoRaw(t),r=this.colliderSet.raw.coContainsPoint(this.handle,e);return e.free(),r}projectPoint(t,e){let r=a.ut.intoRaw(t),i=l.F.fromRaw(this.colliderSet.raw.coProjectPoint(this.handle,r,e));return r.free(),i}intersectsRay(t,e){let r=a.ut.intoRaw(t.origin),i=a.ut.intoRaw(t.dir),n=this.colliderSet.raw.coIntersectsRay(this.handle,r,i,e);return r.free(),i.free(),n}castShape(t,e,r,i,n,s){let o=a.ut.intoRaw(t),c=a.ut.intoRaw(r),l=a.T3.intoRaw(i),d=a.ut.intoRaw(n),u=e.intoRaw(),p=h.G.fromRaw(this.colliderSet,this.colliderSet.raw.coCastShape(this.handle,o,u,c,l,d,s));return o.free(),c.free(),l.free(),d.free(),u.free(),p}castCollider(t,e,r,i){let n=a.ut.intoRaw(t),s=a.ut.intoRaw(r),o=h.m.fromRaw(this.colliderSet,this.colliderSet.raw.coCastCollider(this.handle,n,e.handle,s,i));return n.free(),s.free(),o}intersectsShape(t,e,r){let i=a.ut.intoRaw(e),n=a.T3.intoRaw(r),s=t.intoRaw(),o=this.colliderSet.raw.coIntersectsShape(this.handle,s,i,n);return i.free(),n.free(),s.free(),o}contactShape(t,e,r,i){let n=a.ut.intoRaw(e),s=a.T3.intoRaw(r),o=t.intoRaw(),c=d.Q.fromRaw(this.colliderSet.raw.coContactShape(this.handle,o,n,s,i));return n.free(),s.free(),o.free(),c}contactCollider(t,e){return d.Q.fromRaw(this.colliderSet.raw.coContactCollider(this.handle,t.handle,e))}castRay(t,e,r){let i=a.ut.intoRaw(t.origin),n=a.ut.intoRaw(t.dir),s=this.colliderSet.raw.coCastRay(this.handle,i,n,e,r);return i.free(),n.free(),s}castRayAndGetNormal(t,e,r){let i=a.ut.intoRaw(t.origin),n=a.ut.intoRaw(t.dir),s=c.Gz.fromRaw(this.colliderSet.raw.coCastRayAndGetNormal(this.handle,i,n,e,r));return i.free(),n.free(),s}}class w{constructor(t){this.shape=t,this.useMassProps=!1,this.density=1,this.friction=.5,this.restitution=0,this.rotation=a.T3.identity(),this.translation=a.ut.zeros(),this.isSensor=!1,this.collisionGroups=4294967295,this.solverGroups=4294967295,this.frictionCombineRule=s.j.Average,this.restitutionCombineRule=s.j.Average,this.activeCollisionTypes=n.DEFAULT,this.activeEvents=0,this.activeHooks=0,this.mass=0,this.centerOfMass=a.ut.zeros(),this.principalAngularInertia=a.ut.zeros(),this.angularInertiaLocalFrame=a.T3.identity()}static ball(t){const e=new o.ec(t);return new w(e)}static capsule(t,e){const r=new o.sw(t,e);return new w(r)}static segment(t,e){const r=new o.XX(t,e);return new w(r)}static triangle(t,e,r){const i=new o.CJ(t,e,r);return new w(i)}static roundTriangle(t,e,r,i){const n=new o.$R(t,e,r,i);return new w(n)}static polyline(t,e){const r=new o.aH(t,e);return new w(r)}static trimesh(t,e){const r=new o.az(t,e);return new w(r)}static cuboid(t,e,r){const i=new o.jv(t,e,r);return new w(i)}static roundCuboid(t,e,r,i){const n=new o.iA(t,e,r,i);return new w(n)}static heightfield(t,e,r,i){const n=new o.f4(t,e,r,i);return new w(n)}static cylinder(t,e){const r=new o.Ab(t,e);return new w(r)}static roundCylinder(t,e,r){const i=new o.$t(t,e,r);return new w(i)}static cone(t,e){const r=new o.Qq(t,e);return new w(r)}static roundCone(t,e,r){const i=new o.eT(t,e,r);return new w(i)}static convexHull(t){const e=new o.YD(t,null);return new w(e)}static convexMesh(t,e){const r=new o.YD(t,e);return new w(r)}static roundConvexHull(t,e){const r=new o.Ch(t,null,e);return new w(r)}static roundConvexMesh(t,e,r){const i=new o.Ch(t,e,r);return new w(i)}setTranslation(t,e,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:e,z:r},this}setRotation(t){return this.rotation=t,this}setSensor(t){return this.isSensor=t,this}setDensity(t){return this.useMassProps=!1,this.density=t,this}setMassProperties(t,e,r,i){return this.useMassProps=!0,this.mass=t,this.centerOfMass=e,this.principalAngularInertia=r,this.angularInertiaLocalFrame=i,this}setRestitution(t){return this.restitution=t,this}setFriction(t){return this.friction=t,this}setFrictionCombineRule(t){return this.frictionCombineRule=t,this}setRestitutionCombineRule(t){return this.restitutionCombineRule=t,this}setCollisionGroups(t){return this.collisionGroups=t,this}setSolverGroups(t){return this.solverGroups=t,this}setActiveHooks(t){return this.activeHooks=t,this}setActiveEvents(t){return this.activeEvents=t,this}setActiveCollisionTypes(t){return this.activeCollisionTypes=t,this}}i()}catch(t){i(t)}}))},1927:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{z:()=>l});var n=r(2184),a=r(8709),s=r(7383),o=r(377),c=t([n,o,s]);[n,o,s]=c.then?(await c)():c;class l{constructor(t){this.raw=t||new n.IQ,this.map=new a.F,t&&t.forEachColliderHandle((t=>{this.map.set(t,new o.YM(this,t,null))}))}free(){this.raw.free(),this.raw=void 0,this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createCollider(t,e,r){let i=null!=r&&null!=r;if(i&&isNaN(r))throw Error("Cannot create a collider with a parent rigid-body handle that is not a number.");let n=e.shape.intoRaw(),a=s.ut.intoRaw(e.translation),c=s.T3.intoRaw(e.rotation),l=s.ut.intoRaw(e.centerOfMass),h=s.ut.intoRaw(e.principalAngularInertia),d=s.T3.intoRaw(e.angularInertiaLocalFrame),u=this.raw.createCollider(n,a,c,e.useMassProps,e.mass,l,h,d,e.density,e.friction,e.restitution,e.frictionCombineRule,e.restitutionCombineRule,e.isSensor,e.collisionGroups,e.solverGroups,e.activeCollisionTypes,e.activeHooks,e.activeEvents,i,i?r:0,t.raw);n.free(),a.free(),c.free(),l.free(),h.free(),d.free();let p=i?t.get(r):null,w=new o.YM(this,u,p,e.shape);return this.map.set(u,w),w}remove(t,e,r,i){this.raw.remove(t,e.raw,r.raw,i),this.unmap(t)}unmap(t){this.map.delete(t)}get(t){return this.map.get(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}i()}catch(t){i(t)}}))},6254:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Q:()=>s});var n=r(7383),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e,r,i,n){this.distance=t,this.point1=e,this.point2=r,this.normal1=i,this.normal2=n}static fromRaw(t){if(!t)return null;const e=new s(t.distance(),n.ut.fromRaw(t.point1()),n.ut.fromRaw(t.point2()),n.ut.fromRaw(t.normal1()),n.ut.fromRaw(t.normal2()));return t.free(),e}}i()}catch(t){i(t)}}))},4193:(t,e,r)=>{var i;r.d(e,{T:()=>i}),function(t){t[t.Vertex=0]="Vertex",t[t.Edge=1]="Edge",t[t.Face=2]="Face",t[t.Unknown=3]="Unknown"}(i||(i={}))},5328:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{$R:()=>s.$R,$t:()=>s.$t,Ab:()=>s.Ab,CJ:()=>s.CJ,Ch:()=>s.Ch,DY:()=>s.DY,FP:()=>d.F,GJ:()=>u.G,Gz:()=>h.Gz,L4:()=>a.L,NT:()=>n.N,No:()=>h.No,Qi:()=>p.Q,Qq:()=>s.Qq,Te:()=>l.T,Vl:()=>d.V,XX:()=>s.XX,YD:()=>s.YD,YM:()=>o.YM,aH:()=>s.aH,az:()=>s.az,bn:()=>s.bn,cu:()=>h.cu,eL:()=>a.e,eT:()=>s.eT,ec:()=>s.ec,f4:()=>s.f4,iA:()=>s.iA,ic:()=>o.ic,jv:()=>s.jv,mB:()=>u.m,sw:()=>s.sw,vq:()=>o.vq,zH:()=>h.zH,zY:()=>c.z});var n=r(2261),a=r(1322),s=r(7429),o=r(377),c=r(1927),l=r(4193),h=r(3238),d=r(8461),u=r(5961),p=r(6254),w=t([n,a,s,o,c,h,d,u,p]);[n,a,s,o,c,h,d,u,p]=w.then?(await w)():w,i()}catch(t){i(t)}}))},1322:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{L:()=>o,e:()=>c});var n=r(2184),a=r(7383),s=t([n,a]);[n,a]=s.then?(await s)():s;class o{constructor(t){this.raw=t||new n.uU,this.tempManifold=new c(null)}free(){this.raw.free(),this.raw=void 0}contactsWith(t,e){this.raw.contacts_with(t,e)}intersectionsWith(t,e){this.raw.intersections_with(t,e)}contactPair(t,e,r){const i=this.raw.contact_pair(t,e);if(i){const e=i.collider1()!=t;let n;for(n=0;n<i.numContactManifolds();++n)this.tempManifold.raw=i.contactManifold(n),this.tempManifold.raw&&r(this.tempManifold,e),this.tempManifold.free();i.free()}}intersectionPair(t,e){return this.raw.intersection_pair(t,e)}}class c{constructor(t){this.raw=t}free(){this.raw.free(),this.raw=void 0}normal(){return a.ut.fromRaw(this.raw.normal())}localNormal1(){return a.ut.fromRaw(this.raw.local_n1())}localNormal2(){return a.ut.fromRaw(this.raw.local_n2())}subshape1(){return this.raw.subshape1()}subshape2(){return this.raw.subshape2()}numContacts(){return this.raw.num_contacts()}localContactPoint1(t){return a.ut.fromRaw(this.raw.contact_local_p1(t))}localContactPoint2(t){return a.ut.fromRaw(this.raw.contact_local_p2(t))}contactDist(t){return this.raw.contact_dist(t)}contactFid1(t){return this.raw.contact_fid1(t)}contactFid2(t){return this.raw.contact_fid2(t)}contactImpulse(t){return this.raw.contact_impulse(t)}contactTangentImpulseX(t){return this.raw.contact_tangent_impulse_x(t)}contactTangentImpulseY(t){return this.raw.contact_tangent_impulse_y(t)}numSolverContacts(){return this.raw.num_solver_contacts()}solverContactPoint(t){return a.ut.fromRaw(this.raw.solver_contact_point(t))}solverContactDist(t){return this.raw.solver_contact_dist(t)}solverContactFriction(t){return this.raw.solver_contact_friction(t)}solverContactRestitution(t){return this.raw.solver_contact_restitution(t)}solverContactTangentVelocity(t){return a.ut.fromRaw(this.raw.solver_contact_tangent_velocity(t))}}i()}catch(t){i(t)}}))},8461:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{F:()=>o,V:()=>c});var n=r(7383),a=r(4193),s=t([n]);n=(s.then?(await s)():s)[0];class o{constructor(t,e){this.point=t,this.isInside=e}static fromRaw(t){if(!t)return null;const e=new o(n.ut.fromRaw(t.point()),t.isInside());return t.free(),e}}class c{constructor(t,e,r,i,n){this.featureType=a.T.Unknown,this.featureId=void 0,this.collider=t,this.point=e,this.isInside=r,void 0!==n&&(this.featureId=n),void 0!==i&&(this.featureType=i)}static fromRaw(t,e){if(!e)return null;const r=new c(t.get(e.colliderHandle()),n.ut.fromRaw(e.point()),e.isInside(),e.featureType(),e.featureId());return e.free(),r}}i()}catch(t){i(t)}}))},3238:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{Gz:()=>c,No:()=>l,cu:()=>h,zH:()=>o});var n=r(7383),a=r(4193),s=t([n]);n=(s.then?(await s)():s)[0];class o{constructor(t,e){this.origin=t,this.dir=e}pointAt(t){return{x:this.origin.x+this.dir.x*t,y:this.origin.y+this.dir.y*t,z:this.origin.z+this.dir.z*t}}}class c{constructor(t,e,r,i){this.featureType=a.T.Unknown,this.featureId=void 0,this.toi=t,this.normal=e,void 0!==i&&(this.featureId=i),void 0!==r&&(this.featureType=r)}static fromRaw(t){if(!t)return null;const e=new c(t.toi(),n.ut.fromRaw(t.normal()),t.featureType(),t.featureId());return t.free(),e}}class l{constructor(t,e,r,i,n){this.featureType=a.T.Unknown,this.featureId=void 0,this.collider=t,this.toi=e,this.normal=r,void 0!==n&&(this.featureId=n),void 0!==i&&(this.featureType=i)}static fromRaw(t,e){if(!e)return null;const r=new l(t.get(e.colliderHandle()),e.toi(),n.ut.fromRaw(e.normal()),e.featureType(),e.featureId());return e.free(),r}}class h{constructor(t,e){this.collider=t,this.toi=e}static fromRaw(t,e){if(!e)return null;const r=new h(t.get(e.colliderHandle()),e.toi());return e.free(),r}}i()}catch(t){i(t)}}))},7429:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{$R:()=>b,$t:()=>I,Ab:()=>T,CJ:()=>m,Ch:()=>S,DY:()=>n,Qq:()=>x,XX:()=>f,YD:()=>v,aH:()=>g,az:()=>R,bn:()=>u,eT:()=>A,ec:()=>p,f4:()=>C,iA:()=>_,jv:()=>w,sw:()=>y});var n,a=r(7383),s=r(2184),o=r(6254),c=r(8461),l=r(3238),h=r(5961),d=t([a,h,o,c,l,s]);[a,h,o,c,l,s]=d.then?(await d)():d;class u{static fromRaw(t,e){const r=t.coShapeType(e);let i,s,o,c,l,h;switch(r){case n.Ball:return new p(t.coRadius(e));case n.Cuboid:return i=t.coHalfExtents(e),new w(i.x,i.y,i.z);case n.RoundCuboid:return i=t.coHalfExtents(e),s=t.coRoundRadius(e),new _(i.x,i.y,i.z,s);case n.Capsule:return l=t.coHalfHeight(e),h=t.coRadius(e),new y(l,h);case n.Segment:return o=t.coVertices(e),new f(a.ut.new(o[0],o[1],o[2]),a.ut.new(o[3],o[4],o[5]));case n.Polyline:return o=t.coVertices(e),c=t.coIndices(e),new g(o,c);case n.Triangle:return o=t.coVertices(e),new m(a.ut.new(o[0],o[1],o[2]),a.ut.new(o[3],o[4],o[5]),a.ut.new(o[6],o[7],o[8]));case n.RoundTriangle:return o=t.coVertices(e),s=t.coRoundRadius(e),new b(a.ut.new(o[0],o[1],o[2]),a.ut.new(o[3],o[4],o[5]),a.ut.new(o[6],o[7],o[8]),s);case n.TriMesh:return o=t.coVertices(e),c=t.coIndices(e),new R(o,c);case n.HeightField:const d=t.coHeightfieldScale(e),u=t.coHeightfieldHeights(e),P=t.coHeightfieldNRows(e),j=t.coHeightfieldNCols(e);return new C(P,j,u,d);case n.ConvexPolyhedron:return o=t.coVertices(e),c=t.coIndices(e),new v(o,c);case n.RoundConvexPolyhedron:return o=t.coVertices(e),c=t.coIndices(e),s=t.coRoundRadius(e),new S(o,c,s);case n.Cylinder:return l=t.coHalfHeight(e),h=t.coRadius(e),new T(l,h);case n.RoundCylinder:return l=t.coHalfHeight(e),h=t.coRadius(e),s=t.coRoundRadius(e),new I(l,h,s);case n.Cone:return l=t.coHalfHeight(e),h=t.coRadius(e),new x(l,h);case n.RoundCone:return l=t.coHalfHeight(e),h=t.coRadius(e),s=t.coRoundRadius(e),new A(l,h,s);default:throw new Error("unknown shape type: "+r)}}castShape(t,e,r,i,n,s,o,c){let l=a.ut.intoRaw(t),d=a.T3.intoRaw(e),u=a.ut.intoRaw(r),p=a.ut.intoRaw(n),w=a.T3.intoRaw(s),_=a.ut.intoRaw(o),y=this.intoRaw(),f=i.intoRaw(),m=h.G.fromRaw(null,y.castShape(l,d,u,f,p,w,_,c));return l.free(),d.free(),u.free(),p.free(),w.free(),_.free(),y.free(),f.free(),m}intersectsShape(t,e,r,i,n){let s=a.ut.intoRaw(t),o=a.T3.intoRaw(e),c=a.ut.intoRaw(i),l=a.T3.intoRaw(n),h=this.intoRaw(),d=r.intoRaw(),u=h.intersectsShape(s,o,d,c,l);return s.free(),o.free(),c.free(),l.free(),h.free(),d.free(),u}contactShape(t,e,r,i,n,s){let c=a.ut.intoRaw(t),l=a.T3.intoRaw(e),h=a.ut.intoRaw(i),d=a.T3.intoRaw(n),u=this.intoRaw(),p=r.intoRaw(),w=o.Q.fromRaw(u.contactShape(c,l,p,h,d,s));return c.free(),l.free(),h.free(),d.free(),u.free(),p.free(),w}containsPoint(t,e,r){let i=a.ut.intoRaw(t),n=a.T3.intoRaw(e),s=a.ut.intoRaw(r),o=this.intoRaw(),c=o.containsPoint(i,n,s);return i.free(),n.free(),s.free(),o.free(),c}projectPoint(t,e,r,i){let n=a.ut.intoRaw(t),s=a.T3.intoRaw(e),o=a.ut.intoRaw(r),l=this.intoRaw(),h=c.F.fromRaw(l.projectPoint(n,s,o,i));return n.free(),s.free(),o.free(),l.free(),h}intersectsRay(t,e,r,i){let n=a.ut.intoRaw(e),s=a.T3.intoRaw(r),o=a.ut.intoRaw(t.origin),c=a.ut.intoRaw(t.dir),l=this.intoRaw(),h=l.intersectsRay(n,s,o,c,i);return n.free(),s.free(),o.free(),c.free(),l.free(),h}castRay(t,e,r,i,n){let s=a.ut.intoRaw(e),o=a.T3.intoRaw(r),c=a.ut.intoRaw(t.origin),l=a.ut.intoRaw(t.dir),h=this.intoRaw(),d=h.castRay(s,o,c,l,i,n);return s.free(),o.free(),c.free(),l.free(),h.free(),d}castRayAndGetNormal(t,e,r,i,n){let s=a.ut.intoRaw(e),o=a.T3.intoRaw(r),c=a.ut.intoRaw(t.origin),h=a.ut.intoRaw(t.dir),d=this.intoRaw(),u=l.Gz.fromRaw(d.castRayAndGetNormal(s,o,c,h,i,n));return s.free(),o.free(),c.free(),h.free(),d.free(),u}}!function(t){t[t.Ball=0]="Ball",t[t.Cuboid=1]="Cuboid",t[t.Capsule=2]="Capsule",t[t.Segment=3]="Segment",t[t.Polyline=4]="Polyline",t[t.Triangle=5]="Triangle",t[t.TriMesh=6]="TriMesh",t[t.HeightField=7]="HeightField",t[t.ConvexPolyhedron=9]="ConvexPolyhedron",t[t.Cylinder=10]="Cylinder",t[t.Cone=11]="Cone",t[t.RoundCuboid=12]="RoundCuboid",t[t.RoundTriangle=13]="RoundTriangle",t[t.RoundCylinder=14]="RoundCylinder",t[t.RoundCone=15]="RoundCone",t[t.RoundConvexPolyhedron=16]="RoundConvexPolyhedron"}(n||(n={}));class p extends u{constructor(t){super(),this.type=n.Ball,this.radius=t}intoRaw(){return s.X7.ball(this.radius)}}class w extends u{constructor(t,e,r){super(),this.type=n.Cuboid,this.halfExtents=a.ut.new(t,e,r)}intoRaw(){return s.X7.cuboid(this.halfExtents.x,this.halfExtents.y,this.halfExtents.z)}}class _ extends u{constructor(t,e,r,i){super(),this.type=n.RoundCuboid,this.halfExtents=a.ut.new(t,e,r),this.borderRadius=i}intoRaw(){return s.X7.roundCuboid(this.halfExtents.x,this.halfExtents.y,this.halfExtents.z,this.borderRadius)}}class y extends u{constructor(t,e){super(),this.type=n.Capsule,this.halfHeight=t,this.radius=e}intoRaw(){return s.X7.capsule(this.halfHeight,this.radius)}}class f extends u{constructor(t,e){super(),this.type=n.Segment,this.a=t,this.b=e}intoRaw(){let t=a.ut.intoRaw(this.a),e=a.ut.intoRaw(this.b),r=s.X7.segment(t,e);return t.free(),e.free(),r}}class m extends u{constructor(t,e,r){super(),this.type=n.Triangle,this.a=t,this.b=e,this.c=r}intoRaw(){let t=a.ut.intoRaw(this.a),e=a.ut.intoRaw(this.b),r=a.ut.intoRaw(this.c),i=s.X7.triangle(t,e,r);return t.free(),e.free(),r.free(),i}}class b extends u{constructor(t,e,r,i){super(),this.type=n.RoundTriangle,this.a=t,this.b=e,this.c=r,this.borderRadius=i}intoRaw(){let t=a.ut.intoRaw(this.a),e=a.ut.intoRaw(this.b),r=a.ut.intoRaw(this.c),i=s.X7.roundTriangle(t,e,r,this.borderRadius);return t.free(),e.free(),r.free(),i}}class g extends u{constructor(t,e){super(),this.type=n.Polyline,this.vertices=t,this.indices=null!=e?e:new Uint32Array(0)}intoRaw(){return s.X7.polyline(this.vertices,this.indices)}}class R extends u{constructor(t,e){super(),this.type=n.TriMesh,this.vertices=t,this.indices=e}intoRaw(){return s.X7.trimesh(this.vertices,this.indices)}}class v extends u{constructor(t,e){super(),this.type=n.ConvexPolyhedron,this.vertices=t,this.indices=e}intoRaw(){return this.indices?s.X7.convexMesh(this.vertices,this.indices):s.X7.convexHull(this.vertices)}}class S extends u{constructor(t,e,r){super(),this.type=n.RoundConvexPolyhedron,this.vertices=t,this.indices=e,this.borderRadius=r}intoRaw(){return this.indices?s.X7.roundConvexMesh(this.vertices,this.indices,this.borderRadius):s.X7.roundConvexHull(this.vertices,this.borderRadius)}}class C extends u{constructor(t,e,r,i){super(),this.type=n.HeightField,this.nrows=t,this.ncols=e,this.heights=r,this.scale=i}intoRaw(){let t=a.ut.intoRaw(this.scale),e=s.X7.heightfield(this.nrows,this.ncols,this.heights,t);return t.free(),e}}class T extends u{constructor(t,e){super(),this.type=n.Cylinder,this.halfHeight=t,this.radius=e}intoRaw(){return s.X7.cylinder(this.halfHeight,this.radius)}}class I extends u{constructor(t,e,r){super(),this.type=n.RoundCylinder,this.borderRadius=r,this.halfHeight=t,this.radius=e}intoRaw(){return s.X7.roundCylinder(this.halfHeight,this.radius,this.borderRadius)}}class x extends u{constructor(t,e){super(),this.type=n.Cone,this.halfHeight=t,this.radius=e}intoRaw(){return s.X7.cone(this.halfHeight,this.radius)}}class A extends u{constructor(t,e,r){super(),this.type=n.RoundCone,this.halfHeight=t,this.radius=e,this.borderRadius=r}intoRaw(){return s.X7.roundCone(this.halfHeight,this.radius,this.borderRadius)}}i()}catch(t){i(t)}}))},5961:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{G:()=>s,m:()=>o});var n=r(7383),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e,r,i,n){this.toi=t,this.witness1=e,this.witness2=r,this.normal1=i,this.normal2=n}static fromRaw(t,e){if(!e)return null;const r=new s(e.toi(),n.ut.fromRaw(e.witness1()),n.ut.fromRaw(e.witness2()),n.ut.fromRaw(e.normal1()),n.ut.fromRaw(e.normal2()));return e.free(),r}}class o extends s{constructor(t,e,r,i,n,a){super(e,r,i,n,a),this.collider=t}static fromRaw(t,e){if(!e)return null;const r=new o(t.get(e.colliderHandle()),e.toi(),n.ut.fromRaw(e.witness1()),n.ut.fromRaw(e.witness2()),n.ut.fromRaw(e.normal1()),n.ut.fromRaw(e.normal2()));return e.free(),r}}i()}catch(t){i(t)}}))},7383:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{P:()=>s,T3:()=>l,_f:()=>c,ut:()=>o});var n=r(2184),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e,r){this.x=t,this.y=e,this.z=r}}class o{static new(t,e,r){return new s(t,e,r)}static intoRaw(t){return new n.WF(t.x,t.y,t.z)}static zeros(){return o.new(0,0,0)}static fromRaw(t){if(!t)return null;let e=o.new(t.x,t.y,t.z);return t.free(),e}}class c{constructor(t,e,r,i){this.x=t,this.y=e,this.z=r,this.w=i}}class l{static identity(){return new c(0,0,0,1)}static fromRaw(t){if(!t)return null;let e=new c(t.x,t.y,t.z,t.w);return t.free(),e}static intoRaw(t){return new n.$Z(t.x,t.y,t.z,t.w)}}i()}catch(t){i(t)}}))},8339:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{k:()=>o,t:()=>s});var n=r(2184),a=t([n]);n=(a.then?(await a)():a)[0];class s{constructor(t,e){this.vertices=t,this.colors=e}}class o{constructor(t){this.raw=t||new n.wb}free(){this.raw.free(),this.raw=void 0,this.vertices=void 0,this.colors=void 0}render(t,e,r,i,n){this.raw.render(t.raw,e.raw,r.raw,i.raw,n.raw),this.vertices=this.raw.vertices(),this.colors=this.raw.colors()}}i()}catch(t){i(t)}}))},7624:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{M:()=>n,N:()=>o});var n,a=r(2184),s=t([a]);a=(s.then?(await s)():s)[0],function(t){t[t.COLLISION_EVENTS=1]="COLLISION_EVENTS"}(n||(n={}));class o{constructor(t,e){this.raw=e||new a.we(t)}free(){this.raw.free(),this.raw=void 0}drainCollisionEvents(t){this.raw.drainCollisionEvents(t)}clear(){this.raw.clear()}}i()}catch(t){i(t)}}))},161:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{DJ:()=>a.D,Md:()=>o.M,NH:()=>o.N,Nv:()=>c.N,iX:()=>c.i,kh:()=>l.k,q3:()=>n.q,tt:()=>l.t,y9:()=>s.y});var n=r(2641),a=r(7064),s=r(1301),o=r(7624),c=r(8679),l=r(8339),h=t([n,a,s,o,l]);[n,a,s,o,l]=h.then?(await h)():h,i()}catch(t){i(t)}}))},8679:(t,e,r)=>{var i,n;r.d(e,{N:()=>n,i:()=>i}),function(t){t[t.FILTER_CONTACT_PAIRS=1]="FILTER_CONTACT_PAIRS",t[t.FILTER_INTERSECTION_PAIRS=2]="FILTER_INTERSECTION_PAIRS"}(i||(i={})),function(t){t[t.EMPTY=0]="EMPTY",t[t.COMPUTE_IMPULSE=1]="COMPUTE_IMPULSE"}(n||(n={}))},7064:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{D:()=>o});var n=r(2184),a=r(7383),s=t([n,a]);[n,a]=s.then?(await s)():s;class o{constructor(t){this.raw=t||new n._q}free(){this.raw.free(),this.raw=void 0}step(t,e,r,i,n,s,o,c,l,h,d,u){let p=a.ut.intoRaw(t);d?this.raw.stepWithEvents(p,e.raw,r.raw,i.raw,n.raw,s.raw,o.raw,c.raw,l.raw,h.raw,d.raw,u,u?u.filterContactPair:null,u?u.filterIntersectionPair:null):this.raw.step(p,e.raw,r.raw,i.raw,n.raw,s.raw,o.raw,c.raw,l.raw,h.raw),p.free()}}i()}catch(t){i(t)}}))},5094:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{V:()=>h});var n=r(2184),a=r(3238),s=r(8461),o=r(5961),c=r(7383),l=t([n,c,a,s,o]);[n,c,a,s,o]=l.then?(await l)():l;class h{constructor(t){this.raw=t||new n.nv}free(){this.raw.free(),this.raw=void 0}update(t,e,r){this.raw.update(t.raw,e.raw,r.raw)}castRay(t,e,r,i,n,s){let o=c.ut.intoRaw(e.origin),l=c.ut.intoRaw(e.dir),h=a.cu.fromRaw(t,this.raw.castRay(t.raw,o,l,r,i,n,s));return o.free(),l.free(),h}castRayAndGetNormal(t,e,r,i,n,s){let o=c.ut.intoRaw(e.origin),l=c.ut.intoRaw(e.dir),h=a.No.fromRaw(t,this.raw.castRayAndGetNormal(t.raw,o,l,r,i,n,s));return o.free(),l.free(),h}intersectionsWithRay(t,e,r,i,n,s,o){let l=c.ut.intoRaw(e.origin),h=c.ut.intoRaw(e.dir);this.raw.intersectionsWithRay(t.raw,l,h,r,i,n,(e=>s(a.No.fromRaw(t,e))),o),l.free(),h.free()}intersectionWithShape(t,e,r,i,n,a){let s=c.ut.intoRaw(e),o=c.T3.intoRaw(r),l=i.intoRaw(),h=this.raw.intersectionWithShape(t.raw,s,o,l,n,a);return s.free(),o.free(),l.free(),h}projectPoint(t,e,r,i,n){let a=c.ut.intoRaw(e),o=s.V.fromRaw(t,this.raw.projectPoint(t.raw,a,r,i,n));return a.free(),o}projectPointAndGetFeature(t,e,r){let i=c.ut.intoRaw(e),n=s.V.fromRaw(t,this.raw.projectPointAndGetFeature(t.raw,i,r));return i.free(),n}intersectionsWithPoint(t,e,r,i,n){let a=c.ut.intoRaw(e);this.raw.intersectionsWithPoint(t.raw,a,r,i,n),a.free()}castShape(t,e,r,i,n,a,s,l){let h=c.ut.intoRaw(e),d=c.T3.intoRaw(r),u=c.ut.intoRaw(i),p=n.intoRaw(),w=o.m.fromRaw(t,this.raw.castShape(t.raw,h,d,u,p,a,s,l));return h.free(),d.free(),u.free(),p.free(),w}intersectionsWithShape(t,e,r,i,n,a,s){let o=c.ut.intoRaw(e),l=c.T3.intoRaw(r),h=i.intoRaw();this.raw.intersectionsWithShape(t.raw,o,l,h,n,a,s),o.free(),l.free(),h.free()}collidersWithAabbIntersectingAabb(t,e,r){let i=c.ut.intoRaw(t),n=c.ut.intoRaw(e);this.raw.collidersWithAabbIntersectingAabb(i,n,r),i.free(),n.free()}}i()}catch(t){i(t)}}))},1301:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{y:()=>c});var n=r(2184),a=r(7383),s=r(2641),o=t([n,a,s]);[n,a,s]=o.then?(await o)():o;class c{constructor(t){this.raw=t||new n.w0}free(){this.raw.free(),this.raw=void 0}serializeAll(t,e,r,i,n,s,o,c,l){let h=a.ut.intoRaw(t);const d=this.raw.serializeAll(h,e.raw,r.raw,i.raw,n.raw,s.raw,o.raw,c.raw,l.raw);return h.free(),d}deserializeAll(t){return s.q.fromRaw(this.raw.deserializeAll(t))}}i()}catch(t){i(t)}}))},2641:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.d(e,{q:()=>b});var n=r(2261),a=r(1322),s=r(1927),o=r(6),c=r(7332),l=r(676),h=r(9206),d=r(8136),u=r(8448),p=r(7383),w=r(7064),_=r(5094),y=r(1301),f=r(8339),m=t([o,c,n,a,l,s,h,d,u,_,w,y,f,p]);[o,c,n,a,l,s,h,d,u,_,w,y,f,p]=m.then?(await m)():m;class b{constructor(t,e,r,i,p,m,b,g,R,v,S,C,T,I){this.gravity=t,this.integrationParameters=new o.R(e),this.islands=new c.y(r),this.broadPhase=new n.N(i),this.narrowPhase=new a.L(p),this.bodies=new l.r(m),this.colliders=new s.z(b),this.impulseJoints=new h.l(g),this.multibodyJoints=new d.h(R),this.ccdSolver=new u.K(v),this.queryPipeline=new _.V(S),this.physicsPipeline=new w.D(C),this.serializationPipeline=new y.y(T),this.debugRenderPipeline=new f.k(I),this.impulseJoints.finalizeDeserialization(this.bodies),this.bodies.finalizeDeserialization(this.colliders),this.colliders.finalizeDeserialization(this.bodies)}free(){this.integrationParameters.free(),this.islands.free(),this.broadPhase.free(),this.narrowPhase.free(),this.bodies.free(),this.colliders.free(),this.impulseJoints.free(),this.multibodyJoints.free(),this.ccdSolver.free(),this.queryPipeline.free(),this.physicsPipeline.free(),this.serializationPipeline.free(),this.debugRenderPipeline.free(),this.integrationParameters=void 0,this.islands=void 0,this.broadPhase=void 0,this.narrowPhase=void 0,this.bodies=void 0,this.colliders=void 0,this.ccdSolver=void 0,this.impulseJoints=void 0,this.multibodyJoints=void 0,this.queryPipeline=void 0,this.physicsPipeline=void 0,this.serializationPipeline=void 0,this.debugRenderPipeline=void 0}static fromRaw(t){return t?new b(p.ut.fromRaw(t.takeGravity()),t.takeIntegrationParameters(),t.takeIslandManager(),t.takeBroadPhase(),t.takeNarrowPhase(),t.takeBodies(),t.takeColliders(),t.takeImpulseJoints(),t.takeMultibodyJoints()):null}takeSnapshot(){return this.serializationPipeline.serializeAll(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints)}static restoreSnapshot(t){return(new y.y).deserializeAll(t)}debugRender(){return this.debugRenderPipeline.render(this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.narrowPhase),new f.t(this.debugRenderPipeline.vertices,this.debugRenderPipeline.colors)}step(t,e){this.physicsPipeline.step(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.ccdSolver,t,e),this.queryPipeline.update(this.islands,this.bodies,this.colliders)}get timestep(){return this.integrationParameters.dt}set timestep(t){this.integrationParameters.dt=t}get maxVelocityIterations(){return this.integrationParameters.maxVelocityIterations}set maxVelocityIterations(t){this.integrationParameters.maxVelocityIterations=t}get maxVelocityFrictionIterations(){return this.integrationParameters.maxVelocityFrictionIterations}set maxVelocityFrictionIterations(t){this.integrationParameters.maxVelocityFrictionIterations=t}get maxStabilizationIterations(){return this.integrationParameters.maxStabilizationIterations}set maxStabilizationIterations(t){this.integrationParameters.maxStabilizationIterations=t}createRigidBody(t){return this.bodies.createRigidBody(this.colliders,t)}createCollider(t,e){let r=e?e.handle:void 0;return this.colliders.createCollider(this.bodies,t,r)}createImpulseJoint(t,e,r,i){return this.impulseJoints.createJoint(this.bodies,t,e.handle,r.handle,i)}createMultibodyJoint(t,e,r,i){return this.multibodyJoints.createJoint(t,e.handle,r.handle,i)}getRigidBody(t){return this.bodies.get(t)}getCollider(t){return this.colliders.get(t)}getImpulseJoint(t){return this.impulseJoints.get(t)}getMultibodyJoint(t){return this.multibodyJoints.get(t)}removeRigidBody(t){this.bodies&&this.bodies.remove(t.handle,this.islands,this.colliders,this.impulseJoints,this.multibodyJoints)}removeCollider(t,e){this.colliders&&this.colliders.remove(t.handle,this.islands,this.bodies,e)}removeImpulseJoint(t,e){this.impulseJoints&&this.impulseJoints.remove(t.handle,e)}removeMultibodyJoint(t,e){this.impulseJoints&&this.multibodyJoints.remove(t.handle,e)}forEachCollider(t){this.colliders.forEach(t)}forEachRigidBody(t){this.bodies.forEach(t)}forEachActiveRigidBody(t){this.bodies.forEachActiveRigidBody(this.islands,t)}castRay(t,e,r,i,n){return this.queryPipeline.castRay(this.colliders,t,e,r,i,g(this.colliders,n))}castRayAndGetNormal(t,e,r,i,n){return this.queryPipeline.castRayAndGetNormal(this.colliders,t,e,r,i,g(this.colliders,n))}intersectionsWithRay(t,e,r,i,n,a){this.queryPipeline.intersectionsWithRay(this.colliders,t,e,r,i,n,g(this.colliders,a))}intersectionWithShape(t,e,r,i,n){let a=this.queryPipeline.intersectionWithShape(this.colliders,t,e,r,i,g(this.colliders,n));return null!=a?this.colliders.get(a):null}projectPoint(t,e,r,i){return this.queryPipeline.projectPoint(this.colliders,t,e,r,g(this.colliders,i))}projectPointAndGetFeature(t,e){return this.queryPipeline.projectPointAndGetFeature(this.colliders,t,e)}intersectionsWithPoint(t,e,r,i){this.queryPipeline.intersectionsWithPoint(this.colliders,t,e,g(this.colliders,r),g(this.colliders,i))}castShape(t,e,r,i,n,a,s){return this.queryPipeline.castShape(this.colliders,t,e,r,i,n,a,g(this.colliders,s))}intersectionsWithShape(t,e,r,i,n,a){this.queryPipeline.intersectionsWithShape(this.colliders,t,e,r,i,g(this.colliders,n),g(this.colliders,a))}collidersWithAabbIntersectingAabb(t,e,r){this.queryPipeline.collidersWithAabbIntersectingAabb(t,e,g(this.colliders,r))}contactsWith(t,e){this.narrowPhase.contactsWith(t.handle,g(this.colliders,e))}intersectionsWith(t,e){this.narrowPhase.intersectionsWith(t.handle,g(this.colliders,e))}contactPair(t,e,r){this.narrowPhase.contactPair(t.handle,e.handle,r)}intersectionPair(t,e){return this.narrowPhase.intersectionPair(t.handle,e.handle)}}function g(t,e){return r=>e?e(t.get(r)):void 0}i()}catch(R){i(R)}}))},5087:(t,e,r)=>{r.a(t,(async(t,i)=>{try{r.r(e),r.d(e,{ActiveCollisionTypes:()=>n.ActiveCollisionTypes,ActiveEvents:()=>n.ActiveEvents,ActiveHooks:()=>n.ActiveHooks,Ball:()=>n.Ball,BroadPhase:()=>n.BroadPhase,CCDSolver:()=>n.CCDSolver,Capsule:()=>n.Capsule,CoefficientCombineRule:()=>n.CoefficientCombineRule,Collider:()=>n.Collider,ColliderDesc:()=>n.ColliderDesc,ColliderSet:()=>n.ColliderSet,Cone:()=>n.Cone,ConvexPolyhedron:()=>n.ConvexPolyhedron,Cuboid:()=>n.Cuboid,Cylinder:()=>n.Cylinder,DebugRenderBuffers:()=>n.DebugRenderBuffers,DebugRenderPipeline:()=>n.DebugRenderPipeline,EventQueue:()=>n.EventQueue,FeatureType:()=>n.FeatureType,FixedImpulseJoint:()=>n.FixedImpulseJoint,FixedMultibodyJoint:()=>n.FixedMultibodyJoint,Heightfield:()=>n.Heightfield,ImpulseJoint:()=>n.ImpulseJoint,ImpulseJointSet:()=>n.ImpulseJointSet,IntegrationParameters:()=>n.IntegrationParameters,IslandManager:()=>n.IslandManager,JointData:()=>n.JointData,JointType:()=>n.JointType,MotorModel:()=>n.MotorModel,MultibodyJoint:()=>n.MultibodyJoint,MultibodyJointSet:()=>n.MultibodyJointSet,NarrowPhase:()=>n.NarrowPhase,PhysicsPipeline:()=>n.PhysicsPipeline,PointColliderProjection:()=>n.PointColliderProjection,PointProjection:()=>n.PointProjection,Polyline:()=>n.Polyline,PrismaticImpulseJoint:()=>n.PrismaticImpulseJoint,PrismaticMultibodyJoint:()=>n.PrismaticMultibodyJoint,Quaternion:()=>n.Quaternion,Ray:()=>n.Ray,RayColliderIntersection:()=>n.RayColliderIntersection,RayColliderToi:()=>n.RayColliderToi,RayIntersection:()=>n.RayIntersection,RevoluteImpulseJoint:()=>n.RevoluteImpulseJoint,RevoluteMultibodyJoint:()=>n.RevoluteMultibodyJoint,RigidBody:()=>n.RigidBody,RigidBodyDesc:()=>n.RigidBodyDesc,RigidBodySet:()=>n.RigidBodySet,RigidBodyType:()=>n.RigidBodyType,RotationOps:()=>n.RotationOps,RoundCone:()=>n.RoundCone,RoundConvexPolyhedron:()=>n.RoundConvexPolyhedron,RoundCuboid:()=>n.RoundCuboid,RoundCylinder:()=>n.RoundCylinder,RoundTriangle:()=>n.RoundTriangle,Segment:()=>n.Segment,SerializationPipeline:()=>n.SerializationPipeline,Shape:()=>n.Shape,ShapeColliderTOI:()=>n.ShapeColliderTOI,ShapeContact:()=>n.ShapeContact,ShapeTOI:()=>n.ShapeTOI,ShapeType:()=>n.ShapeType,SolverFlags:()=>n.SolverFlags,SphericalImpulseJoint:()=>n.SphericalImpulseJoint,SphericalMultibodyJoint:()=>n.SphericalMultibodyJoint,TempContactManifold:()=>n.TempContactManifold,TriMesh:()=>n.TriMesh,Triangle:()=>n.Triangle,UnitImpulseJoint:()=>n.UnitImpulseJoint,UnitMultibodyJoint:()=>n.UnitMultibodyJoint,Vector3:()=>n.Vector3,VectorOps:()=>n.VectorOps,World:()=>n.World,default:()=>s,version:()=>n.version});var n=r(2324),a=t([n]);const s=n=(a.then?(await a)():a)[0];i()}catch(t){i(t)}}))},2184:(t,e,r)=>{r.a(t,(async(i,n)=>{try{r.d(e,{$Z:()=>it,Dl:()=>It,EF:()=>gt,FU:()=>H,HT:()=>pt,IQ:()=>J,Ip:()=>St,Is:()=>W,JM:()=>F,LE:()=>D,M1:()=>ut,Ne:()=>wt,Oo:()=>Ct,Or:()=>Pt,Qc:()=>X,VR:()=>Rt,WF:()=>lt,X7:()=>at,XJ:()=>Tt,_F:()=>At,_q:()=>K,cQ:()=>L,cb:()=>vt,dm:()=>ft,eG:()=>bt,fY:()=>rt,fl:()=>q,i8:()=>R,n_:()=>mt,nv:()=>Z,o$:()=>_t,oH:()=>jt,oQ:()=>xt,pT:()=>dt,ry:()=>yt,uU:()=>U,ug:()=>ht,w0:()=>nt,wb:()=>N,we:()=>V,zu:()=>O});var a=r(3502);t=r.hmd(t);var s=i([a]);a=(s.then?(await s)():s)[0];const o=new Array(32).fill(void 0);function c(t){return o[t]}o.push(void 0,null,!0,!1);let l=o.length;function h(t){t<36||(o[t]=l,l=t)}function d(t){const e=c(t);return h(t),e}function u(t){l===o.length&&o.push(o.length+1);const e=l;return l=o[e],o[e]=t,e}function p(t){return null==t}let w=null;function _(){return null!==w&&w.buffer===a.memory.buffer||(w=new Float64Array(a.memory.buffer)),w}let y=null;function f(){return null!==y&&y.buffer===a.memory.buffer||(y=new Int32Array(a.memory.buffer)),y}let m=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});m.decode();let b=null;function g(t,e){return m.decode((null!==b&&b.buffer===a.memory.buffer||(b=new Uint8Array(a.memory.buffer)),b).subarray(t,t+e))}function R(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.version(r);var t=f()[r/4+0],e=f()[r/4+1];return g(t,e)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,e)}}function v(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}let S=32;function C(t){if(1==S)throw new Error("out of js stack");return o[--S]=t,S}let T=null;function I(){return null!==T&&T.buffer===a.memory.buffer||(T=new Float32Array(a.memory.buffer)),T}function x(t,e){return I().subarray(t/4,t/4+e)}let A=null;function P(){return null!==A&&A.buffer===a.memory.buffer||(A=new Uint32Array(a.memory.buffer)),A}let j=0;function E(t,e){const r=e(4*t.length);return I().set(t,r/4),j=t.length,r}function M(t,e){const r=e(4*t.length);return P().set(t,r/4),j=t.length,r}function z(t,e){try{return t.apply(this,e)}catch(t){a.__wbindgen_exn_store(u(t))}}Object.freeze({Revolute:0,0:"Revolute",Fixed:1,1:"Fixed",Prismatic:2,2:"Prismatic",Spherical:3,3:"Spherical",Generic:4,4:"Generic"}),Object.freeze({AccelerationBased:0,0:"AccelerationBased",ForceBased:1,1:"ForceBased"});const F=Object.freeze({X:0,0:"X",Y:1,1:"Y",Z:2,2:"Z",AngX:3,3:"AngX",AngY:4,4:"AngY",AngZ:5,5:"AngZ"});Object.freeze({Dynamic:0,0:"Dynamic",Fixed:1,1:"Fixed",KinematicPositionBased:2,2:"KinematicPositionBased",KinematicVelocityBased:3,3:"KinematicVelocityBased"}),Object.freeze({Vertex:0,0:"Vertex",Edge:1,1:"Edge",Face:2,2:"Face",Unknown:3,3:"Unknown"}),Object.freeze({Ball:0,0:"Ball",Cuboid:1,1:"Cuboid",Capsule:2,2:"Capsule",Segment:3,3:"Segment",Polyline:4,4:"Polyline",Triangle:5,5:"Triangle",TriMesh:6,6:"TriMesh",HeightField:7,7:"HeightField",Compound:8,8:"Compound",ConvexPolyhedron:9,9:"ConvexPolyhedron",Cylinder:10,10:"Cylinder",Cone:11,11:"Cone",RoundCuboid:12,12:"RoundCuboid",RoundTriangle:13,13:"RoundTriangle",RoundCylinder:14,14:"RoundCylinder",RoundCone:15,15:"RoundCone",RoundConvexPolyhedron:16,16:"RoundConvexPolyhedron"});class H{static __wrap(t){const e=Object.create(H.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawbroadphase_free(t)}constructor(){const t=a.rawbroadphase_new();return H.__wrap(t)}}class D{static __wrap(t){const e=Object.create(D.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawccdsolver_free(t)}constructor(){const t=a.rawccdsolver_new();return D.__wrap(t)}}class J{static __wrap(t){const e=Object.create(J.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawcolliderset_free(t)}coTranslation(t){const e=a.rawcolliderset_coTranslation(this.ptr,t);return lt.__wrap(e)}coRotation(t){const e=a.rawcolliderset_coRotation(this.ptr,t);return it.__wrap(e)}coSetTranslation(t,e,r,i){a.rawcolliderset_coSetTranslation(this.ptr,t,e,r,i)}coSetTranslationWrtParent(t,e,r,i){a.rawcolliderset_coSetTranslationWrtParent(this.ptr,t,e,r,i)}coSetRotation(t,e,r,i,n){a.rawcolliderset_coSetRotation(this.ptr,t,e,r,i,n)}coSetRotationWrtParent(t,e,r,i,n){a.rawcolliderset_coSetRotationWrtParent(this.ptr,t,e,r,i,n)}coIsSensor(t){return 0!==a.rawcolliderset_coIsSensor(this.ptr,t)}coShapeType(t){return a.rawcolliderset_coShapeType(this.ptr,t)>>>0}coHalfExtents(t){const e=a.rawcolliderset_coHalfExtents(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}coRadius(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coRadius(i,this.ptr,t);var e=f()[i/4+0],r=I()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coHalfHeight(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coHalfHeight(i,this.ptr,t);var e=f()[i/4+0],r=I()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coRoundRadius(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coRoundRadius(i,this.ptr,t);var e=f()[i/4+0],r=I()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coVertices(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coVertices(i,this.ptr,t);var e=f()[i/4+0],r=f()[i/4+1];let n;return 0!==e&&(n=x(e,r).slice(),a.__wbindgen_free(e,4*r)),n}finally{a.__wbindgen_add_to_stack_pointer(16)}}coIndices(t){try{const s=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coIndices(s,this.ptr,t);var e=f()[s/4+0],r=f()[s/4+1];let o;return 0!==e&&(o=(i=e,n=r,P().subarray(i/4,i/4+n)).slice(),a.__wbindgen_free(e,4*r)),o}finally{a.__wbindgen_add_to_stack_pointer(16)}var i,n}coHeightfieldHeights(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coHeightfieldHeights(i,this.ptr,t);var e=f()[i/4+0],r=f()[i/4+1];let n;return 0!==e&&(n=x(e,r).slice(),a.__wbindgen_free(e,4*r)),n}finally{a.__wbindgen_add_to_stack_pointer(16)}}coHeightfieldScale(t){const e=a.rawcolliderset_coHeightfieldScale(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}coHeightfieldNRows(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coHeightfieldNRows(i,this.ptr,t);var e=f()[i/4+0],r=f()[i/4+1];return 0===e?void 0:r>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}coHeightfieldNCols(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coHeightfieldNCols(i,this.ptr,t);var e=f()[i/4+0],r=f()[i/4+1];return 0===e?void 0:r>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}coParent(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coParent(i,this.ptr,t);var e=f()[i/4+0],r=_()[i/8+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coFriction(t){return a.rawcolliderset_coFriction(this.ptr,t)}coRestitution(t){return a.rawcolliderset_coRestitution(this.ptr,t)}coDensity(t){try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.rawcolliderset_coDensity(i,this.ptr,t);var e=f()[i/4+0],r=I()[i/4+1];return 0===e?void 0:r}finally{a.__wbindgen_add_to_stack_pointer(16)}}coCollisionGroups(t){return a.rawcolliderset_coCollisionGroups(this.ptr,t)>>>0}coSolverGroups(t){return a.rawcolliderset_coSolverGroups(this.ptr,t)>>>0}coActiveHooks(t){return a.rawcolliderset_coActiveHooks(this.ptr,t)>>>0}coActiveCollisionTypes(t){return a.rawcolliderset_coActiveCollisionTypes(this.ptr,t)}coActiveEvents(t){return a.rawcolliderset_coActiveEvents(this.ptr,t)>>>0}coContainsPoint(t,e){return v(e,lt),0!==a.rawcolliderset_coContainsPoint(this.ptr,t,e.ptr)}coCastShape(t,e,r,i,n,s,o){v(e,lt),v(r,at),v(i,lt),v(n,it),v(s,lt);const c=a.rawcolliderset_coCastShape(this.ptr,t,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o);return 0===c?void 0:ct.__wrap(c)}coCastCollider(t,e,r,i,n){v(e,lt),v(i,lt);const s=a.rawcolliderset_coCastCollider(this.ptr,t,e.ptr,r,i.ptr,n);return 0===s?void 0:st.__wrap(s)}coIntersectsShape(t,e,r,i){return v(e,at),v(r,lt),v(i,it),0!==a.rawcolliderset_coIntersectsShape(this.ptr,t,e.ptr,r.ptr,i.ptr)}coContactShape(t,e,r,i,n){v(e,at),v(r,lt),v(i,it);const s=a.rawcolliderset_coContactShape(this.ptr,t,e.ptr,r.ptr,i.ptr,n);return 0===s?void 0:ot.__wrap(s)}coContactCollider(t,e,r){const i=a.rawcolliderset_coContactCollider(this.ptr,t,e,r);return 0===i?void 0:ot.__wrap(i)}coProjectPoint(t,e,r){v(e,lt);const i=a.rawcolliderset_coProjectPoint(this.ptr,t,e.ptr,r);return Q.__wrap(i)}coIntersectsRay(t,e,r,i){return v(e,lt),v(r,lt),0!==a.rawcolliderset_coIntersectsRay(this.ptr,t,e.ptr,r.ptr,i)}coCastRay(t,e,r,i,n){return v(e,lt),v(r,lt),a.rawcolliderset_coCastRay(this.ptr,t,e.ptr,r.ptr,i,n)}coCastRayAndGetNormal(t,e,r,i,n){v(e,lt),v(r,lt);const s=a.rawcolliderset_coCastRayAndGetNormal(this.ptr,t,e.ptr,r.ptr,i,n);return 0===s?void 0:et.__wrap(s)}coSetSensor(t,e){a.rawcolliderset_coSetSensor(this.ptr,t,e)}coSetRestitution(t,e){a.rawcolliderset_coSetRestitution(this.ptr,t,e)}coSetFriction(t,e){a.rawcolliderset_coSetFriction(this.ptr,t,e)}coFrictionCombineRule(t){return a.rawcolliderset_coFrictionCombineRule(this.ptr,t)>>>0}coSetFrictionCombineRule(t,e){a.rawcolliderset_coSetFrictionCombineRule(this.ptr,t,e)}coRestitutionCombineRule(t){return a.rawcolliderset_coRestitutionCombineRule(this.ptr,t)>>>0}coSetRestitutionCombineRule(t,e){a.rawcolliderset_coSetRestitutionCombineRule(this.ptr,t,e)}coSetCollisionGroups(t,e){a.rawcolliderset_coSetCollisionGroups(this.ptr,t,e)}coSetSolverGroups(t,e){a.rawcolliderset_coSetSolverGroups(this.ptr,t,e)}coSetActiveHooks(t,e){a.rawcolliderset_coSetActiveHooks(this.ptr,t,e)}coSetActiveEvents(t,e){a.rawcolliderset_coSetActiveEvents(this.ptr,t,e)}coSetActiveCollisionTypes(t,e){a.rawcolliderset_coSetActiveCollisionTypes(this.ptr,t,e)}coSetShape(t,e){v(e,at),a.rawcolliderset_coSetShape(this.ptr,t,e.ptr)}constructor(){const t=a.rawcolliderset_new();return J.__wrap(t)}len(){return a.rawcolliderset_len(this.ptr)>>>0}contains(t){return 0!==a.rawcolliderset_contains(this.ptr,t)}createCollider(t,e,r,i,n,s,o,c,l,h,d,u,p,w,y,m,b,g,R,S,C,T){try{const A=a.__wbindgen_add_to_stack_pointer(-16);v(t,at),v(e,lt),v(r,it),v(s,lt),v(o,lt),v(c,it),v(T,rt),a.rawcolliderset_createCollider(A,this.ptr,t.ptr,e.ptr,r.ptr,i,n,s.ptr,o.ptr,c.ptr,l,h,d,u,p,w,y,m,b,g,R,S,C,T.ptr);var I=f()[A/4+0],x=_()[A/8+1];return 0===I?void 0:x}finally{a.__wbindgen_add_to_stack_pointer(16)}}remove(t,e,r,i){v(e,W),v(r,rt),a.rawcolliderset_remove(this.ptr,t,e.ptr,r.ptr,i)}isHandleValid(t){return 0!==a.rawcolliderset_contains(this.ptr,t)}forEachColliderHandle(t){try{a.rawcolliderset_forEachColliderHandle(this.ptr,C(t))}finally{o[S++]=void 0}}}class k{static __wrap(t){const e=Object.create(k.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawcontactmanifold_free(t)}normal(){const t=a.rawcontactmanifold_normal(this.ptr);return lt.__wrap(t)}local_n1(){const t=a.rawcontactmanifold_local_n1(this.ptr);return lt.__wrap(t)}local_n2(){const t=a.rawcontactmanifold_local_n2(this.ptr);return lt.__wrap(t)}subshape1(){return a.rawcontactmanifold_subshape1(this.ptr)>>>0}subshape2(){return a.rawcontactmanifold_subshape2(this.ptr)>>>0}num_contacts(){return a.rawcontactmanifold_num_contacts(this.ptr)>>>0}contact_local_p1(t){const e=a.rawcontactmanifold_contact_local_p1(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}contact_local_p2(t){const e=a.rawcontactmanifold_contact_local_p2(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}contact_dist(t){return a.rawcontactmanifold_contact_dist(this.ptr,t)}contact_fid1(t){return a.rawcontactmanifold_contact_fid1(this.ptr,t)>>>0}contact_fid2(t){return a.rawcontactmanifold_contact_fid2(this.ptr,t)>>>0}contact_impulse(t){return a.rawcontactmanifold_contact_impulse(this.ptr,t)}contact_tangent_impulse_x(t){return a.rawcontactmanifold_contact_tangent_impulse_x(this.ptr,t)}contact_tangent_impulse_y(t){return a.rawcontactmanifold_contact_tangent_impulse_y(this.ptr,t)}num_solver_contacts(){return a.rawcontactmanifold_num_solver_contacts(this.ptr)>>>0}solver_contact_point(t){const e=a.rawcontactmanifold_solver_contact_point(this.ptr,t);return 0===e?void 0:lt.__wrap(e)}solver_contact_dist(t){return a.rawcontactmanifold_solver_contact_dist(this.ptr,t)}solver_contact_friction(t){return a.rawcontactmanifold_solver_contact_friction(this.ptr,t)}solver_contact_restitution(t){return a.rawcontactmanifold_solver_contact_restitution(this.ptr,t)}solver_contact_tangent_velocity(t){const e=a.rawcontactmanifold_solver_contact_tangent_velocity(this.ptr,t);return lt.__wrap(e)}}class B{static __wrap(t){const e=Object.create(B.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawcontactpair_free(t)}collider1(){return a.rawcontactpair_collider1(this.ptr)}collider2(){return a.rawcontactpair_collider2(this.ptr)}numContactManifolds(){return a.rawcontactpair_numContactManifolds(this.ptr)>>>0}contactManifold(t){const e=a.rawcontactpair_contactManifold(this.ptr,t);return 0===e?void 0:k.__wrap(e)}}class N{static __wrap(t){const e=Object.create(N.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawdebugrenderpipeline_free(t)}constructor(){const t=a.rawdebugrenderpipeline_new();return N.__wrap(t)}vertices(){return d(a.rawdebugrenderpipeline_vertices(this.ptr))}colors(){return d(a.rawdebugrenderpipeline_colors(this.ptr))}render(t,e,r,i,n){v(t,rt),v(e,J),v(r,X),v(i,q),v(n,U),a.rawdebugrenderpipeline_render(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr)}}class G{static __wrap(t){const e=Object.create(G.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawdeserializedworld_free(t)}takeGravity(){const t=a.rawdeserializedworld_takeGravity(this.ptr);return 0===t?void 0:lt.__wrap(t)}takeIntegrationParameters(){const t=a.rawdeserializedworld_takeIntegrationParameters(this.ptr);return 0===t?void 0:O.__wrap(t)}takeIslandManager(){const t=a.rawdeserializedworld_takeIslandManager(this.ptr);return 0===t?void 0:W.__wrap(t)}takeBroadPhase(){const t=a.rawdeserializedworld_takeBroadPhase(this.ptr);return 0===t?void 0:H.__wrap(t)}takeNarrowPhase(){const t=a.rawdeserializedworld_takeNarrowPhase(this.ptr);return 0===t?void 0:U.__wrap(t)}takeBodies(){const t=a.rawdeserializedworld_takeBodies(this.ptr);return 0===t?void 0:rt.__wrap(t)}takeColliders(){const t=a.rawdeserializedworld_takeColliders(this.ptr);return 0===t?void 0:J.__wrap(t)}takeImpulseJoints(){const t=a.rawdeserializedworld_takeImpulseJoints(this.ptr);return 0===t?void 0:X.__wrap(t)}takeMultibodyJoints(){const t=a.rawdeserializedworld_takeMultibodyJoints(this.ptr);return 0===t?void 0:q.__wrap(t)}}class V{static __wrap(t){const e=Object.create(V.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_raweventqueue_free(t)}constructor(t){const e=a.raweventqueue_new(t);return V.__wrap(e)}drainCollisionEvents(t){try{a.raweventqueue_drainCollisionEvents(this.ptr,C(t))}finally{o[S++]=void 0}}clear(){a.raweventqueue_clear(this.ptr)}}class L{static __wrap(t){const e=Object.create(L.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawgenericjoint_free(t)}static spherical(t,e){v(t,lt),v(e,lt);const r=a.rawgenericjoint_spherical(t.ptr,e.ptr);return L.__wrap(r)}static prismatic(t,e,r,i,n,s){v(t,lt),v(e,lt),v(r,lt);const o=a.rawgenericjoint_prismatic(t.ptr,e.ptr,r.ptr,i,n,s);return 0===o?void 0:L.__wrap(o)}static fixed(t,e,r,i){v(t,lt),v(e,it),v(r,lt),v(i,it);const n=a.rawgenericjoint_fixed(t.ptr,e.ptr,r.ptr,i.ptr);return L.__wrap(n)}static revolute(t,e,r){v(t,lt),v(e,lt),v(r,lt);const i=a.rawgenericjoint_revolute(t.ptr,e.ptr,r.ptr);return 0===i?void 0:L.__wrap(i)}}class X{static __wrap(t){const e=Object.create(X.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawimpulsejointset_free(t)}jointType(t){return a.rawimpulsejointset_jointType(this.ptr,t)>>>0}jointBodyHandle1(t){return a.rawimpulsejointset_jointBodyHandle1(this.ptr,t)}jointBodyHandle2(t){return a.rawimpulsejointset_jointBodyHandle2(this.ptr,t)}jointFrameX1(t){const e=a.rawimpulsejointset_jointFrameX1(this.ptr,t);return it.__wrap(e)}jointFrameX2(t){const e=a.rawimpulsejointset_jointFrameX2(this.ptr,t);return it.__wrap(e)}jointAnchor1(t){const e=a.rawimpulsejointset_jointAnchor1(this.ptr,t);return lt.__wrap(e)}jointAnchor2(t){const e=a.rawimpulsejointset_jointAnchor2(this.ptr,t);return lt.__wrap(e)}jointLimitsEnabled(t,e){return 0!==a.rawimpulsejointset_jointLimitsEnabled(this.ptr,t,e)}jointLimitsMin(t,e){return a.rawimpulsejointset_jointLimitsMin(this.ptr,t,e)}jointLimitsMax(t,e){return a.rawimpulsejointset_jointLimitsMax(this.ptr,t,e)}jointConfigureMotorModel(t,e,r){a.rawimpulsejointset_jointConfigureMotorModel(this.ptr,t,e,r)}jointConfigureMotorVelocity(t,e,r,i){a.rawimpulsejointset_jointConfigureMotorVelocity(this.ptr,t,e,r,i)}jointConfigureMotorPosition(t,e,r,i,n){a.rawimpulsejointset_jointConfigureMotorPosition(this.ptr,t,e,r,i,n)}jointConfigureMotor(t,e,r,i,n,s){a.rawimpulsejointset_jointConfigureMotor(this.ptr,t,e,r,i,n,s)}constructor(){const t=a.rawimpulsejointset_new();return X.__wrap(t)}createJoint(t,e,r,i){return v(t,L),a.rawimpulsejointset_createJoint(this.ptr,t.ptr,e,r,i)}remove(t,e){a.rawimpulsejointset_remove(this.ptr,t,e)}len(){return a.rawimpulsejointset_len(this.ptr)>>>0}contains(t){return 0!==a.rawimpulsejointset_contains(this.ptr,t)}forEachJointHandle(t){try{a.rawimpulsejointset_forEachJointHandle(this.ptr,C(t))}finally{o[S++]=void 0}}forEachJointAttachedToRigidBody(t,e){try{a.rawimpulsejointset_forEachJointAttachedToRigidBody(this.ptr,t,C(e))}finally{o[S++]=void 0}}}class O{static __wrap(t){const e=Object.create(O.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawintegrationparameters_free(t)}constructor(){const t=a.rawintegrationparameters_new();return O.__wrap(t)}get dt(){return a.rawintegrationparameters_dt(this.ptr)}get erp(){return a.rawintegrationparameters_erp(this.ptr)}get allowedLinearError(){return a.rawintegrationparameters_allowedLinearError(this.ptr)}get predictionDistance(){return a.rawintegrationparameters_predictionDistance(this.ptr)}get maxVelocityIterations(){return a.rawintegrationparameters_maxVelocityIterations(this.ptr)>>>0}get maxVelocityFrictionIterations(){return a.rawintegrationparameters_maxVelocityFrictionIterations(this.ptr)>>>0}get maxStabilizationIterations(){return a.rawintegrationparameters_maxStabilizationIterations(this.ptr)>>>0}get minIslandSize(){return a.rawintegrationparameters_minIslandSize(this.ptr)>>>0}get maxCcdSubsteps(){return a.rawintegrationparameters_maxCcdSubsteps(this.ptr)>>>0}set dt(t){a.rawintegrationparameters_set_dt(this.ptr,t)}set erp(t){a.rawintegrationparameters_set_erp(this.ptr,t)}set allowedLinearError(t){a.rawintegrationparameters_set_allowedLinearError(this.ptr,t)}set predictionDistance(t){a.rawintegrationparameters_set_predictionDistance(this.ptr,t)}set maxVelocityIterations(t){a.rawintegrationparameters_set_maxVelocityIterations(this.ptr,t)}set maxVelocityFrictionIterations(t){a.rawintegrationparameters_set_maxVelocityFrictionIterations(this.ptr,t)}set maxStabilizationIterations(t){a.rawintegrationparameters_set_maxStabilizationIterations(this.ptr,t)}set minIslandSize(t){a.rawintegrationparameters_set_minIslandSize(this.ptr,t)}set maxCcdSubsteps(t){a.rawintegrationparameters_set_maxCcdSubsteps(this.ptr,t)}}class W{static __wrap(t){const e=Object.create(W.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawislandmanager_free(t)}constructor(){const t=a.rawislandmanager_new();return W.__wrap(t)}forEachActiveRigidBodyHandle(t){try{a.rawislandmanager_forEachActiveRigidBodyHandle(this.ptr,C(t))}finally{o[S++]=void 0}}}class q{static __wrap(t){const e=Object.create(q.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawmultibodyjointset_free(t)}jointType(t){return a.rawmultibodyjointset_jointType(this.ptr,t)>>>0}jointFrameX1(t){const e=a.rawmultibodyjointset_jointFrameX1(this.ptr,t);return it.__wrap(e)}jointFrameX2(t){const e=a.rawmultibodyjointset_jointFrameX2(this.ptr,t);return it.__wrap(e)}jointAnchor1(t){const e=a.rawmultibodyjointset_jointAnchor1(this.ptr,t);return lt.__wrap(e)}jointAnchor2(t){const e=a.rawmultibodyjointset_jointAnchor2(this.ptr,t);return lt.__wrap(e)}jointLimitsEnabled(t,e){return 0!==a.rawmultibodyjointset_jointLimitsEnabled(this.ptr,t,e)}jointLimitsMin(t,e){return a.rawmultibodyjointset_jointLimitsMin(this.ptr,t,e)}jointLimitsMax(t,e){return a.rawmultibodyjointset_jointLimitsMax(this.ptr,t,e)}constructor(){const t=a.rawmultibodyjointset_new();return q.__wrap(t)}createJoint(t,e,r,i){return v(t,L),a.rawmultibodyjointset_createJoint(this.ptr,t.ptr,e,r,i)}remove(t,e){a.rawmultibodyjointset_remove(this.ptr,t,e)}contains(t){return 0!==a.rawmultibodyjointset_contains(this.ptr,t)}forEachJointHandle(t){try{a.rawmultibodyjointset_forEachJointHandle(this.ptr,C(t))}finally{o[S++]=void 0}}forEachJointAttachedToRigidBody(t,e){try{a.rawmultibodyjointset_forEachJointAttachedToRigidBody(this.ptr,t,C(e))}finally{o[S++]=void 0}}}class U{static __wrap(t){const e=Object.create(U.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawnarrowphase_free(t)}constructor(){const t=a.rawnarrowphase_new();return U.__wrap(t)}contacts_with(t,e){a.rawnarrowphase_contacts_with(this.ptr,t,u(e))}contact_pair(t,e){const r=a.rawnarrowphase_contact_pair(this.ptr,t,e);return 0===r?void 0:B.__wrap(r)}intersections_with(t,e){a.rawnarrowphase_intersections_with(this.ptr,t,u(e))}intersection_pair(t,e){return 0!==a.rawnarrowphase_intersection_pair(this.ptr,t,e)}}class K{static __wrap(t){const e=Object.create(K.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawphysicspipeline_free(t)}constructor(){const t=a.rawphysicspipeline_new();return K.__wrap(t)}step(t,e,r,i,n,s,o,c,l,h){v(t,lt),v(e,O),v(r,W),v(i,H),v(n,U),v(s,rt),v(o,J),v(c,X),v(l,q),v(h,D),a.rawphysicspipeline_step(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c.ptr,l.ptr,h.ptr)}stepWithEvents(t,e,r,i,n,s,o,c,l,h,d,p,w,_){v(t,lt),v(e,O),v(r,W),v(i,H),v(n,U),v(s,rt),v(o,J),v(c,X),v(l,q),v(h,D),v(d,V),a.rawphysicspipeline_stepWithEvents(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c.ptr,l.ptr,h.ptr,d.ptr,u(p),u(w),u(_))}}class Y{static __wrap(t){const e=Object.create(Y.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawpointcolliderprojection_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}point(){const t=a.rawpointcolliderprojection_point(this.ptr);return lt.__wrap(t)}isInside(){return 0!==a.rawpointcolliderprojection_isInside(this.ptr)}featureType(){return a.rawpointcolliderprojection_featureType(this.ptr)>>>0}featureId(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.rawpointcolliderprojection_featureId(r,this.ptr);var t=f()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}}class Q{static __wrap(t){const e=Object.create(Q.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawpointprojection_free(t)}point(){const t=a.rawpointprojection_point(this.ptr);return lt.__wrap(t)}isInside(){return 0!==a.rawpointprojection_isInside(this.ptr)}}class Z{static __wrap(t){const e=Object.create(Z.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawquerypipeline_free(t)}constructor(){const t=a.rawquerypipeline_new();return Z.__wrap(t)}update(t,e,r){v(t,W),v(e,rt),v(r,J),a.rawquerypipeline_update(this.ptr,t.ptr,e.ptr,r.ptr)}castRay(t,e,r,i,n,s,c){try{v(t,J),v(e,lt),v(r,lt);const l=a.rawquerypipeline_castRay(this.ptr,t.ptr,e.ptr,r.ptr,i,n,s,C(c));return 0===l?void 0:tt.__wrap(l)}finally{o[S++]=void 0}}castRayAndGetNormal(t,e,r,i,n,s,c){try{v(t,J),v(e,lt),v(r,lt);const l=a.rawquerypipeline_castRayAndGetNormal(this.ptr,t.ptr,e.ptr,r.ptr,i,n,s,C(c));return 0===l?void 0:$.__wrap(l)}finally{o[S++]=void 0}}intersectionsWithRay(t,e,r,i,n,s,c,l){try{v(t,J),v(e,lt),v(r,lt),a.rawquerypipeline_intersectionsWithRay(this.ptr,t.ptr,e.ptr,r.ptr,i,n,s,C(c),C(l))}finally{o[S++]=void 0,o[S++]=void 0}}intersectionWithShape(t,e,r,i,n,s){try{const h=a.__wbindgen_add_to_stack_pointer(-16);v(t,J),v(e,lt),v(r,it),v(i,at),a.rawquerypipeline_intersectionWithShape(h,this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,C(s));var c=f()[h/4+0],l=_()[h/8+1];return 0===c?void 0:l}finally{a.__wbindgen_add_to_stack_pointer(16),o[S++]=void 0}}projectPoint(t,e,r,i,n){try{v(t,J),v(e,lt);const s=a.rawquerypipeline_projectPoint(this.ptr,t.ptr,e.ptr,r,i,C(n));return 0===s?void 0:Y.__wrap(s)}finally{o[S++]=void 0}}projectPointAndGetFeature(t,e,r){v(t,J),v(e,lt);const i=a.rawquerypipeline_projectPointAndGetFeature(this.ptr,t.ptr,e.ptr,r);return 0===i?void 0:Y.__wrap(i)}intersectionsWithPoint(t,e,r,i,n){try{v(t,J),v(e,lt),a.rawquerypipeline_intersectionsWithPoint(this.ptr,t.ptr,e.ptr,r,C(i),C(n))}finally{o[S++]=void 0,o[S++]=void 0}}castShape(t,e,r,i,n,s,c,l){try{v(t,J),v(e,lt),v(r,it),v(i,lt),v(n,at);const h=a.rawquerypipeline_castShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s,c,C(l));return 0===h?void 0:st.__wrap(h)}finally{o[S++]=void 0}}intersectionsWithShape(t,e,r,i,n,s,c){try{v(t,J),v(e,lt),v(r,it),v(i,at),a.rawquerypipeline_intersectionsWithShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,C(s),C(c))}finally{o[S++]=void 0,o[S++]=void 0}}collidersWithAabbIntersectingAabb(t,e,r){try{v(t,lt),v(e,lt),a.rawquerypipeline_collidersWithAabbIntersectingAabb(this.ptr,t.ptr,e.ptr,C(r))}finally{o[S++]=void 0}}}class ${static __wrap(t){const e=Object.create($.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawraycolliderintersection_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}normal(){const t=a.rawraycolliderintersection_normal(this.ptr);return lt.__wrap(t)}toi(){return a.rawraycolliderintersection_toi(this.ptr)}featureType(){return a.rawpointcolliderprojection_featureType(this.ptr)>>>0}featureId(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.rawpointcolliderprojection_featureId(r,this.ptr);var t=f()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}}class tt{static __wrap(t){const e=Object.create(tt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawraycollidertoi_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}toi(){return a.rawraycolliderintersection_toi(this.ptr)}}class et{static __wrap(t){const e=Object.create(et.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawrayintersection_free(t)}normal(){const t=a.rawrayintersection_normal(this.ptr);return lt.__wrap(t)}toi(){return a.rawintegrationparameters_dt(this.ptr)}featureType(){return a.rawrayintersection_featureType(this.ptr)>>>0}featureId(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.rawrayintersection_featureId(r,this.ptr);var t=f()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e>>>0}finally{a.__wbindgen_add_to_stack_pointer(16)}}}class rt{static __wrap(t){const e=Object.create(rt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawrigidbodyset_free(t)}rbTranslation(t){const e=a.rawrigidbodyset_rbTranslation(this.ptr,t);return lt.__wrap(e)}rbRotation(t){const e=a.rawrigidbodyset_rbRotation(this.ptr,t);return it.__wrap(e)}rbSleep(t){a.rawrigidbodyset_rbSleep(this.ptr,t)}rbIsSleeping(t){return 0!==a.rawrigidbodyset_rbIsSleeping(this.ptr,t)}rbIsMoving(t){return 0!==a.rawrigidbodyset_rbIsMoving(this.ptr,t)}rbNextTranslation(t){const e=a.rawrigidbodyset_rbNextTranslation(this.ptr,t);return lt.__wrap(e)}rbNextRotation(t){const e=a.rawrigidbodyset_rbNextRotation(this.ptr,t);return it.__wrap(e)}rbSetTranslation(t,e,r,i,n){a.rawrigidbodyset_rbSetTranslation(this.ptr,t,e,r,i,n)}rbSetRotation(t,e,r,i,n,s){a.rawrigidbodyset_rbSetRotation(this.ptr,t,e,r,i,n,s)}rbSetLinvel(t,e,r){v(e,lt),a.rawrigidbodyset_rbSetLinvel(this.ptr,t,e.ptr,r)}rbSetAngvel(t,e,r){v(e,lt),a.rawrigidbodyset_rbSetAngvel(this.ptr,t,e.ptr,r)}rbSetNextKinematicTranslation(t,e,r,i){a.rawrigidbodyset_rbSetNextKinematicTranslation(this.ptr,t,e,r,i)}rbSetNextKinematicRotation(t,e,r,i,n){a.rawrigidbodyset_rbSetNextKinematicRotation(this.ptr,t,e,r,i,n)}rbLinvel(t){const e=a.rawrigidbodyset_rbLinvel(this.ptr,t);return lt.__wrap(e)}rbAngvel(t){const e=a.rawrigidbodyset_rbAngvel(this.ptr,t);return lt.__wrap(e)}rbLockTranslations(t,e,r){a.rawrigidbodyset_rbLockTranslations(this.ptr,t,e,r)}rbRestrictTranslations(t,e,r,i,n){a.rawrigidbodyset_rbRestrictTranslations(this.ptr,t,e,r,i,n)}rbLockRotations(t,e,r){a.rawrigidbodyset_rbLockRotations(this.ptr,t,e,r)}rbRestrictRotations(t,e,r,i,n){a.rawrigidbodyset_rbRestrictRotations(this.ptr,t,e,r,i,n)}rbDominanceGroup(t){return a.rawrigidbodyset_rbDominanceGroup(this.ptr,t)}rbSetDominanceGroup(t,e){a.rawrigidbodyset_rbSetDominanceGroup(this.ptr,t,e)}rbEnableCcd(t,e){a.rawrigidbodyset_rbEnableCcd(this.ptr,t,e)}rbMass(t){return a.rawrigidbodyset_rbMass(this.ptr,t)}rbWakeUp(t){a.rawrigidbodyset_rbWakeUp(this.ptr,t)}rbIsCcdEnabled(t){return 0!==a.rawrigidbodyset_rbIsCcdEnabled(this.ptr,t)}rbNumColliders(t){return a.rawrigidbodyset_rbNumColliders(this.ptr,t)>>>0}rbCollider(t,e){return a.rawrigidbodyset_rbCollider(this.ptr,t,e)}rbBodyType(t){return a.rawrigidbodyset_rbBodyType(this.ptr,t)>>>0}rbSetBodyType(t,e){a.rawrigidbodyset_rbSetBodyType(this.ptr,t,e)}rbIsFixed(t){return 0!==a.rawrigidbodyset_rbIsFixed(this.ptr,t)}rbIsKinematic(t){return 0!==a.rawrigidbodyset_rbIsKinematic(this.ptr,t)}rbIsDynamic(t){return 0!==a.rawrigidbodyset_rbIsDynamic(this.ptr,t)}rbLinearDamping(t){return a.rawrigidbodyset_rbLinearDamping(this.ptr,t)}rbAngularDamping(t){return a.rawrigidbodyset_rbAngularDamping(this.ptr,t)}rbSetLinearDamping(t,e){a.rawrigidbodyset_rbSetLinearDamping(this.ptr,t,e)}rbSetAngularDamping(t,e){a.rawrigidbodyset_rbSetAngularDamping(this.ptr,t,e)}rbGravityScale(t){return a.rawrigidbodyset_rbGravityScale(this.ptr,t)}rbSetGravityScale(t,e,r){a.rawrigidbodyset_rbSetGravityScale(this.ptr,t,e,r)}rbResetForces(t,e){a.rawrigidbodyset_rbResetForces(this.ptr,t,e)}rbResetTorques(t,e){a.rawrigidbodyset_rbResetTorques(this.ptr,t,e)}rbAddForce(t,e,r){v(e,lt),a.rawrigidbodyset_rbAddForce(this.ptr,t,e.ptr,r)}rbApplyImpulse(t,e,r){v(e,lt),a.rawrigidbodyset_rbApplyImpulse(this.ptr,t,e.ptr,r)}rbAddTorque(t,e,r){v(e,lt),a.rawrigidbodyset_rbAddTorque(this.ptr,t,e.ptr,r)}rbApplyTorqueImpulse(t,e,r){v(e,lt),a.rawrigidbodyset_rbApplyTorqueImpulse(this.ptr,t,e.ptr,r)}rbAddForceAtPoint(t,e,r,i){v(e,lt),v(r,lt),a.rawrigidbodyset_rbAddForceAtPoint(this.ptr,t,e.ptr,r.ptr,i)}rbApplyImpulseAtPoint(t,e,r,i){v(e,lt),v(r,lt),a.rawrigidbodyset_rbApplyImpulseAtPoint(this.ptr,t,e.ptr,r.ptr,i)}rbUserData(t){return a.rawrigidbodyset_rbUserData(this.ptr,t)>>>0}rbSetUserData(t,e){a.rawrigidbodyset_rbSetUserData(this.ptr,t,e)}constructor(){const t=a.rawrigidbodyset_new();return rt.__wrap(t)}createRigidBody(t,e,r,i,n,s,o,c,l,h,d,u,p,w,_,y,f,m,b,g,R,S){return v(t,lt),v(e,it),v(n,lt),v(s,lt),v(o,lt),v(c,lt),v(l,it),a.rawrigidbodyset_createRigidBody(this.ptr,t.ptr,e.ptr,r,i,n.ptr,s.ptr,o.ptr,c.ptr,l.ptr,h,d,u,p,w,_,y,f,m,b,g,R,S)}remove(t,e,r,i,n){v(e,W),v(r,J),v(i,X),v(n,q),a.rawrigidbodyset_remove(this.ptr,t,e.ptr,r.ptr,i.ptr,n.ptr)}len(){return a.rawrigidbodyset_len(this.ptr)>>>0}contains(t){return 0!==a.rawrigidbodyset_contains(this.ptr,t)}forEachRigidBodyHandle(t){try{a.rawrigidbodyset_forEachRigidBodyHandle(this.ptr,C(t))}finally{o[S++]=void 0}}}class it{static __wrap(t){const e=Object.create(it.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawrotation_free(t)}constructor(t,e,r,i){const n=a.rawrotation_new(t,e,r,i);return it.__wrap(n)}static identity(){const t=a.rawrotation_identity();return it.__wrap(t)}get x(){return a.rawintegrationparameters_dt(this.ptr)}get y(){return a.rawrotation_y(this.ptr)}get z(){return a.rawintegrationparameters_erp(this.ptr)}get w(){return a.rawrotation_w(this.ptr)}}class nt{static __wrap(t){const e=Object.create(nt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawserializationpipeline_free(t)}constructor(){const t=a.rawserializationpipeline_new();return nt.__wrap(t)}serializeAll(t,e,r,i,n,s,o,c,l){return v(t,lt),v(e,O),v(r,W),v(i,H),v(n,U),v(s,rt),v(o,J),v(c,X),v(l,q),d(a.rawserializationpipeline_serializeAll(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c.ptr,l.ptr))}deserializeAll(t){const e=a.rawserializationpipeline_deserializeAll(this.ptr,u(t));return 0===e?void 0:G.__wrap(e)}}class at{static __wrap(t){const e=Object.create(at.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshape_free(t)}static cuboid(t,e,r){const i=a.rawshape_cuboid(t,e,r);return at.__wrap(i)}static roundCuboid(t,e,r,i){const n=a.rawshape_roundCuboid(t,e,r,i);return at.__wrap(n)}static ball(t){const e=a.rawshape_ball(t);return at.__wrap(e)}static capsule(t,e){const r=a.rawshape_capsule(t,e);return at.__wrap(r)}static cylinder(t,e){const r=a.rawshape_cylinder(t,e);return at.__wrap(r)}static roundCylinder(t,e,r){const i=a.rawshape_roundCylinder(t,e,r);return at.__wrap(i)}static cone(t,e){const r=a.rawshape_cone(t,e);return at.__wrap(r)}static roundCone(t,e,r){const i=a.rawshape_roundCone(t,e,r);return at.__wrap(i)}static polyline(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=M(e,a.__wbindgen_malloc),s=j,o=a.rawshape_polyline(r,i,n,s);return at.__wrap(o)}static trimesh(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=M(e,a.__wbindgen_malloc),s=j,o=a.rawshape_trimesh(r,i,n,s);return at.__wrap(o)}static heightfield(t,e,r,i){const n=E(r,a.__wbindgen_malloc),s=j;v(i,lt);const o=a.rawshape_heightfield(t,e,n,s,i.ptr);return at.__wrap(o)}static segment(t,e){v(t,lt),v(e,lt);const r=a.rawshape_segment(t.ptr,e.ptr);return at.__wrap(r)}static triangle(t,e,r){v(t,lt),v(e,lt),v(r,lt);const i=a.rawshape_triangle(t.ptr,e.ptr,r.ptr);return at.__wrap(i)}static roundTriangle(t,e,r,i){v(t,lt),v(e,lt),v(r,lt);const n=a.rawshape_roundTriangle(t.ptr,e.ptr,r.ptr,i);return at.__wrap(n)}static convexHull(t){const e=E(t,a.__wbindgen_malloc),r=j,i=a.rawshape_convexHull(e,r);return 0===i?void 0:at.__wrap(i)}static roundConvexHull(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=a.rawshape_roundConvexHull(r,i,e);return 0===n?void 0:at.__wrap(n)}static convexMesh(t,e){const r=E(t,a.__wbindgen_malloc),i=j,n=M(e,a.__wbindgen_malloc),s=j,o=a.rawshape_convexMesh(r,i,n,s);return 0===o?void 0:at.__wrap(o)}static roundConvexMesh(t,e,r){const i=E(t,a.__wbindgen_malloc),n=j,s=M(e,a.__wbindgen_malloc),o=j,c=a.rawshape_roundConvexMesh(i,n,s,o,r);return 0===c?void 0:at.__wrap(c)}castShape(t,e,r,i,n,s,o,c){v(t,lt),v(e,it),v(r,lt),v(i,at),v(n,lt),v(s,it),v(o,lt);const l=a.rawshape_castShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s.ptr,o.ptr,c);return 0===l?void 0:ct.__wrap(l)}intersectsShape(t,e,r,i,n){return v(t,lt),v(e,it),v(r,at),v(i,lt),v(n,it),0!==a.rawshape_intersectsShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr)}contactShape(t,e,r,i,n,s){v(t,lt),v(e,it),v(r,at),v(i,lt),v(n,it);const o=a.rawshape_contactShape(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n.ptr,s);return 0===o?void 0:ot.__wrap(o)}containsPoint(t,e,r){return v(t,lt),v(e,it),v(r,lt),0!==a.rawshape_containsPoint(this.ptr,t.ptr,e.ptr,r.ptr)}projectPoint(t,e,r,i){v(t,lt),v(e,it),v(r,lt);const n=a.rawshape_projectPoint(this.ptr,t.ptr,e.ptr,r.ptr,i);return Q.__wrap(n)}intersectsRay(t,e,r,i,n){return v(t,lt),v(e,it),v(r,lt),v(i,lt),0!==a.rawshape_intersectsRay(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n)}castRay(t,e,r,i,n,s){return v(t,lt),v(e,it),v(r,lt),v(i,lt),a.rawshape_castRay(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,s)}castRayAndGetNormal(t,e,r,i,n,s){v(t,lt),v(e,it),v(r,lt),v(i,lt);const o=a.rawshape_castRayAndGetNormal(this.ptr,t.ptr,e.ptr,r.ptr,i.ptr,n,s);return 0===o?void 0:et.__wrap(o)}}class st{static __wrap(t){const e=Object.create(st.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshapecollidertoi_free(t)}colliderHandle(){return a.rawpointcolliderprojection_colliderHandle(this.ptr)}toi(){return a.rawraycolliderintersection_toi(this.ptr)}witness1(){const t=a.rawraycolliderintersection_normal(this.ptr);return lt.__wrap(t)}witness2(){const t=a.rawshapecollidertoi_witness2(this.ptr);return lt.__wrap(t)}normal1(){const t=a.rawshapecollidertoi_normal1(this.ptr);return lt.__wrap(t)}normal2(){const t=a.rawshapecollidertoi_normal2(this.ptr);return lt.__wrap(t)}}class ot{static __wrap(t){const e=Object.create(ot.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshapecontact_free(t)}distance(){return a.rawshapecontact_distance(this.ptr)}point1(){const t=a.rawpointprojection_point(this.ptr);return lt.__wrap(t)}point2(){const t=a.rawshapecontact_point2(this.ptr);return lt.__wrap(t)}normal1(){const t=a.rawshapecontact_normal1(this.ptr);return lt.__wrap(t)}normal2(){const t=a.rawshapecontact_normal2(this.ptr);return lt.__wrap(t)}}class ct{static __wrap(t){const e=Object.create(ct.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawshapetoi_free(t)}toi(){return a.rawintegrationparameters_dt(this.ptr)}witness1(){const t=a.rawrayintersection_normal(this.ptr);return lt.__wrap(t)}witness2(){const t=a.rawshapetoi_witness2(this.ptr);return lt.__wrap(t)}normal1(){const t=a.rawshapetoi_normal1(this.ptr);return lt.__wrap(t)}normal2(){const t=a.rawshapetoi_normal2(this.ptr);return lt.__wrap(t)}}class lt{static __wrap(t){const e=Object.create(lt.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();a.__wbg_rawvector_free(t)}static zero(){const t=a.rawvector_zero();return lt.__wrap(t)}constructor(t,e,r){const i=a.rawvector_new(t,e,r);return lt.__wrap(i)}get x(){return a.rawintegrationparameters_dt(this.ptr)}set x(t){a.rawintegrationparameters_set_dt(this.ptr,t)}get y(){return a.rawrotation_y(this.ptr)}set y(t){a.rawvector_set_y(this.ptr,t)}get z(){return a.rawintegrationparameters_erp(this.ptr)}set z(t){a.rawintegrationparameters_set_erp(this.ptr,t)}xyz(){const t=a.rawvector_xyz(this.ptr);return lt.__wrap(t)}yxz(){const t=a.rawvector_yxz(this.ptr);return lt.__wrap(t)}zxy(){const t=a.rawvector_zxy(this.ptr);return lt.__wrap(t)}xzy(){const t=a.rawvector_xzy(this.ptr);return lt.__wrap(t)}yzx(){const t=a.rawvector_yzx(this.ptr);return lt.__wrap(t)}zyx(){const t=a.rawvector_zyx(this.ptr);return lt.__wrap(t)}}function ht(t){d(t)}function dt(t){return u(t)}function ut(t,e){const r=c(e),i="number"==typeof r?r:void 0;_()[t/8+1]=p(i)?0:i,f()[t/4+0]=!p(i)}function pt(t){const e=c(t);return"boolean"==typeof e?e?1:0:2}function wt(t){return u($.__wrap(t))}function _t(t){return"function"==typeof c(t)}function yt(){return z((function(t,e,r){return u(c(t).call(c(e),c(r)))}),arguments)}function ft(){return z((function(t,e,r,i){return u(c(t).call(c(e),c(r),c(i)))}),arguments)}function mt(){return z((function(t,e,r,i,n){return u(c(t).call(c(e),c(r),c(i),c(n)))}),arguments)}function bt(t,e,r,i){return u(c(t).bind(c(e),c(r),c(i)))}function gt(t){return u(c(t).buffer)}function Rt(t,e,r){return u(new Uint8Array(c(t),e>>>0,r>>>0))}function vt(t){return u(new Uint8Array(c(t)))}function St(t,e,r){c(t).set(c(e),r>>>0)}function Ct(t){return c(t).length}function Tt(t,e,r){return u(new Float32Array(c(t),e>>>0,r>>>0))}function It(t,e,r){c(t).set(c(e),r>>>0)}function xt(t){return c(t).length}function At(t){return u(new Float32Array(t>>>0))}function Pt(t,e){throw new Error(g(t,e))}function jt(){return u(a.memory)}n()}catch(Et){n(Et)}}))},3502:(t,e,r)=>{r.a(t,(async(i,n)=>{try{var a,s=i([a=r(2184)]),[a]=s.then?(await s)():s;await r.v(e,t.id,"d28c865646ac4499d405",{"./rapier_wasm3d_bg.js":{__wbindgen_object_drop_ref:a.ug,__wbindgen_number_new:a.pT,__wbindgen_number_get:a.M1,__wbindgen_boolean_get:a.HT,__wbg_rawraycolliderintersection_new:a.Ne,__wbindgen_is_function:a.o$,__wbg_call_3ed288a247f13ea5:a.ry,__wbg_call_a19d3173f3e1d3c5:a.dm,__wbg_call_6ed7121cfb42cfed:a.n_,__wbg_bind_c09a1641c1580c07:a.eG,__wbg_buffer_7af23f65f6c64548:a.EF,__wbg_newwithbyteoffsetandlength_ce1e75f0ce5f7974:a.VR,__wbg_new_cc9018bd6f283b6f:a.cb,__wbg_set_f25e869e4565d2a2:a.Ip,__wbg_length_0acb1cf9bbaf8519:a.Oo,__wbg_newwithbyteoffsetandlength_3f554978d8793b14:a.XJ,__wbg_set_9a9604c6888f6468:a.Dl,__wbg_length_371cc1c92aa8feae:a.oQ,__wbg_newwithlength_e538258cb2a6bad0:a._F,__wbindgen_throw:a.Or,__wbindgen_memory:a.oH}}),n()}catch(t){n(t)}}),1)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNLLEdBQThCakIsR0FFMUMsT0FBT2pKLEVBREtOLEVBQVV1SixHQUFNNXlCLFFBSXpCLFNBQVM4ekIsR0FBa0RsQixFQUFNRyxFQUFNSyxHQUUxRSxPQUFPekosRUFESyxJQUFJa0IsV0FBV3hCLEVBQVV1SixHQUFPRyxJQUFTLEVBQUdLLElBQVMsSUFJOUQsU0FBU1csR0FBMkJuQixHQUV2QyxPQUFPakosRUFESyxJQUFJa0IsV0FBV3hCLEVBQVV1SixLQUlsQyxTQUFTb0IsR0FBMkJwQixFQUFNRyxFQUFNSyxHQUNuRC9KLEVBQVV1SixHQUFNeHlCLElBQUlpcEIsRUFBVTBKLEdBQU9LLElBQVMsR0FHM0MsU0FBU2EsR0FBOEJyQixHQUUxQyxPQURZdkosRUFBVXVKLEdBQU1weUIsT0FJekIsU0FBUzB6QixHQUFrRHRCLEVBQU1HLEVBQU1LLEdBRTFFLE9BQU96SixFQURLLElBQUkrQixhQUFhckMsRUFBVXVKLEdBQU9HLElBQVMsRUFBR0ssSUFBUyxJQUloRSxTQUFTZSxHQUEyQnZCLEVBQU1HLEVBQU1LLEdBQ25EL0osRUFBVXVKLEdBQU14eUIsSUFBSWlwQixFQUFVMEosR0FBT0ssSUFBUyxHQUczQyxTQUFTZ0IsR0FBOEJ4QixHQUUxQyxPQURZdkosRUFBVXVKLEdBQU1weUIsT0FJekIsU0FBUzZ6QixHQUFxQ3pCLEdBRWpELE9BQU9qSixFQURLLElBQUkrQixhQUFha0gsSUFBUyxJQUluQyxTQUFTMEIsR0FBaUIxQixFQUFNRyxHQUNuQyxNQUFNLElBQUlsWCxNQUFNOE8sRUFBbUJpSSxFQUFNRyxJQUd0QyxTQUFTd0IsS0FFWixPQUFPNUssRUFESyxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvY29hcmVuYS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9keW5hbWljcy9jY2Rfc29sdmVyLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2R5bmFtaWNzL2NvZWZmaWNpZW50X2NvbWJpbmVfcnVsZS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9keW5hbWljcy9pbXB1bHNlX2pvaW50LmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2R5bmFtaWNzL2ltcHVsc2Vfam9pbnRfc2V0LmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2R5bmFtaWNzL2ludGVncmF0aW9uX3BhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvZHluYW1pY3MvaXNsYW5kX21hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvZHluYW1pY3MvbXVsdGlib2R5X2pvaW50LmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2R5bmFtaWNzL211bHRpYm9keV9qb2ludF9zZXQuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvZHluYW1pY3MvcmlnaWRfYm9keS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9keW5hbWljcy9yaWdpZF9ib2R5X3NldC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9leHBvcnRzLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2dlb21ldHJ5L2Jyb2FkX3BoYXNlLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2dlb21ldHJ5L2NvbGxpZGVyLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2dlb21ldHJ5L2NvbGxpZGVyX3NldC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9nZW9tZXRyeS9jb250YWN0LmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2dlb21ldHJ5L2ZlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvZ2VvbWV0cnkvbmFycm93X3BoYXNlLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2dlb21ldHJ5L3BvaW50LmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL2dlb21ldHJ5L3JheS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9nZW9tZXRyeS9zaGFwZS5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9nZW9tZXRyeS90b2kuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvbWF0aC5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9waXBlbGluZS9kZWJ1Z19yZW5kZXJfcGlwZWxpbmUuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvcGlwZWxpbmUvZXZlbnRfcXVldWUuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvcGlwZWxpbmUvcGh5c2ljc19ob29rcy5qcyIsIndlYnBhY2s6Ly9yYXBpZXItdGVzdGJlZDNkLy4vbm9kZV9tb2R1bGVzL0BkaW1mb3JnZS9yYXBpZXIzZC9waXBlbGluZS9waHlzaWNzX3BpcGVsaW5lLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL3BpcGVsaW5lL3F1ZXJ5X3BpcGVsaW5lLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL3BpcGVsaW5lL3NlcmlhbGl6YXRpb25fcGlwZWxpbmUuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvcGlwZWxpbmUvd29ybGQuanMiLCJ3ZWJwYWNrOi8vcmFwaWVyLXRlc3RiZWQzZC8uL25vZGVfbW9kdWxlcy9AZGltZm9yZ2UvcmFwaWVyM2QvcmFwaWVyLmpzIiwid2VicGFjazovL3JhcGllci10ZXN0YmVkM2QvLi9ub2RlX21vZHVsZXMvQGRpbWZvcmdlL3JhcGllcjNkL3JhcGllcl93YXNtM2RfYmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENvYXJlbmEge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmZjb252ID0gbmV3IEZsb2F0NjRBcnJheSgxKTtcbiAgICAgICAgdGhpcy51Y29udiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLmZjb252LmJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cbiAgICBzZXQoaGFuZGxlLCBkYXRhKSB7XG4gICAgICAgIGxldCBpID0gdGhpcy5pbmRleChoYW5kbGUpO1xuICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmxlbmd0aCA8PSBpKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYXRhW2ldID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLnNpemUgKz0gMTtcbiAgICAgICAgdGhpcy5kYXRhW2ldID0gZGF0YTtcbiAgICB9XG4gICAgbGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgIH1cbiAgICBkZWxldGUoaGFuZGxlKSB7XG4gICAgICAgIGxldCBpID0gdGhpcy5pbmRleChoYW5kbGUpO1xuICAgICAgICBpZiAoaSA8IHRoaXMuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgLT0gMTtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBcnJheSgpO1xuICAgIH1cbiAgICBnZXQoaGFuZGxlKSB7XG4gICAgICAgIGxldCBpID0gdGhpcy5pbmRleChoYW5kbGUpO1xuICAgICAgICBpZiAoaSA8IHRoaXMuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoKGYpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbHQgb2YgdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICBpZiAoZWx0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgZihlbHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5maWx0ZXIoKGVsdCkgPT4gZWx0ICE9IG51bGwpO1xuICAgIH1cbiAgICBpbmRleChoYW5kbGUpIHtcbiAgICAgICAgLy8vIEV4dHJhY3RzIHRoZSBpbmRleCBwYXJ0IG9mIGEgaGFuZGxlICh0aGUgbG93ZXIgMzIgYml0cykuXG4gICAgICAgIC8vLyBUaGlzIGlzIGRvbmUgYnkgZmlyc3QgaW5qZWN0aW5nIHRoZSBoYW5kbGUgaW50byBhbiBGbG9hdDY0QXJyYXlcbiAgICAgICAgLy8vIHdoaWNoIGlzIGl0c2VsZiBpbmplY3RlZCBpbnRvIGFuIFVpbnQzMkFycmF5IChhdCBjb25zdHJ1Y3Rpb24gdGltZSkuXG4gICAgICAgIC8vLyBUaGUgMC10aCB2YWx1ZSBvZiB0aGUgVWludDMyQXJyYXkgd2lsbCBiZWNvbWUgdGhlIGBudW1iZXJgIGludGVnZXJcbiAgICAgICAgLy8vIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBsb3dlciAzMiBiaXRzLlxuICAgICAgICAvLy8gQWxzbyBgdGhpcy51Y29udlsxXWAgdGhlbiBjb250YWlucyB0aGUgZ2VuZXJhdGlvbiBudW1iZXIgYXMgYSBgbnVtYmVyYCxcbiAgICAgICAgLy8vIHdoaWNoIHdlIGRvbuKAmXQgcmVhbGx5IG5lZWQuXG4gICAgICAgIHRoaXMuZmNvbnZbMF0gPSBoYW5kbGU7XG4gICAgICAgIHJldHVybiB0aGlzLnVjb252WzBdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvYXJlbmEuanMubWFwIiwiaW1wb3J0IHsgUmF3Q0NEU29sdmVyIH0gZnJvbSBcIi4uL3Jhd1wiO1xuLyoqXG4gKiBUaGUgQ0NEIHNvbHZlciByZXNwb25zaWJsZSBmb3IgcmVzb2x2aW5nIENvbnRpbnVvdXMgQ29sbGlzaW9uIERldGVjdGlvbi5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgY2NkU29sdmVyLmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0LlxuICovXG5leHBvcnQgY2xhc3MgQ0NEU29sdmVyIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd0NDRFNvbHZlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIG5hcnJvdy1waGFzZS5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNjZF9zb2x2ZXIuanMubWFwIiwiLyoqXG4gKiBBIHJ1bGUgYXBwbGllZCB0byBjb21iaW5lIGNvZWZmaWNpZW50cy5cbiAqXG4gKiBVc2UgdGhpcyB3aGVuIGNvbmZpZ3VyaW5nIHRoZSBgQ29sbGlkZXJEZXNjYCB0byBzcGVjaWZ5XG4gKiBob3cgZnJpY3Rpb24gYW5kIHJlc3RpdHV0aW9uIGNvZWZmaWNpZW50IHNob3VsZCBiZSBjb21iaW5lZFxuICogaW4gYSBjb250YWN0LlxuICovXG5leHBvcnQgdmFyIENvZWZmaWNpZW50Q29tYmluZVJ1bGU7XG4oZnVuY3Rpb24gKENvZWZmaWNpZW50Q29tYmluZVJ1bGUpIHtcbiAgICBDb2VmZmljaWVudENvbWJpbmVSdWxlW0NvZWZmaWNpZW50Q29tYmluZVJ1bGVbXCJBdmVyYWdlXCJdID0gMF0gPSBcIkF2ZXJhZ2VcIjtcbiAgICBDb2VmZmljaWVudENvbWJpbmVSdWxlW0NvZWZmaWNpZW50Q29tYmluZVJ1bGVbXCJNaW5cIl0gPSAxXSA9IFwiTWluXCI7XG4gICAgQ29lZmZpY2llbnRDb21iaW5lUnVsZVtDb2VmZmljaWVudENvbWJpbmVSdWxlW1wiTXVsdGlwbHlcIl0gPSAyXSA9IFwiTXVsdGlwbHlcIjtcbiAgICBDb2VmZmljaWVudENvbWJpbmVSdWxlW0NvZWZmaWNpZW50Q29tYmluZVJ1bGVbXCJNYXhcIl0gPSAzXSA9IFwiTWF4XCI7XG59KShDb2VmZmljaWVudENvbWJpbmVSdWxlIHx8IChDb2VmZmljaWVudENvbWJpbmVSdWxlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvZWZmaWNpZW50X2NvbWJpbmVfcnVsZS5qcy5tYXAiLCJpbXBvcnQgeyBWZWN0b3JPcHMsIFJvdGF0aW9uT3BzIH0gZnJvbSBcIi4uL21hdGhcIjtcbmltcG9ydCB7IFJhd0dlbmVyaWNKb2ludCwgUmF3Sm9pbnRBeGlzIH0gZnJvbSBcIi4uL3Jhd1wiO1xuLyoqXG4gKiBBbiBlbnVtIGdyb3VwaW5nIGFsbCBwb3NzaWJsZSB0eXBlcyBvZiBqb2ludHM6XG4gKlxuICogLSBgUmV2b2x1dGVgOiBBIHJldm9sdXRlIGpvaW50IHRoYXQgcmVtb3ZlcyBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGFmZmVjdGVkXG4gKiAgICAgICAgICAgICAgIGJvZGllcyBleGNlcHQgZm9yIHRoZSByb3RhdGlvbiBhbG9uZyBvbmUgYXhpcy5cbiAqIC0gYEZpeGVkYDogQSBmaXhlZCBqb2ludCB0aGF0IHJlbW92ZXMgYWxsIHJlbGF0aXZlIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBhZmZlY3RlZCBib2RpZXMuXG4gKiAtIGBQcmlzbWF0aWNgOiBBIHByaXNtYXRpYyBqb2ludCB0aGF0IHJlbW92ZXMgYWxsIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBhZmZlY3RlZFxuICogICAgICAgICAgICAgICAgYm9kaWVzIGV4Y2VwdCBmb3IgdGhlIHRyYW5zbGF0aW9uIGFsb25nIG9uZSBheGlzLlxuICogLSBgU3BoZXJpY2FsYDogKDNEIG9ubHkpIEEgc3BoZXJpY2FsIGpvaW50IHRoYXQgcmVtb3ZlcyBhbGwgcmVsYXRpdmUgbGluZWFyIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBhZmZlY3RlZCBib2RpZXMuXG4gKi9cbmV4cG9ydCB2YXIgSm9pbnRUeXBlO1xuKGZ1bmN0aW9uIChKb2ludFR5cGUpIHtcbiAgICBKb2ludFR5cGVbSm9pbnRUeXBlW1wiUmV2b2x1dGVcIl0gPSAwXSA9IFwiUmV2b2x1dGVcIjtcbiAgICBKb2ludFR5cGVbSm9pbnRUeXBlW1wiRml4ZWRcIl0gPSAxXSA9IFwiRml4ZWRcIjtcbiAgICBKb2ludFR5cGVbSm9pbnRUeXBlW1wiUHJpc21hdGljXCJdID0gMl0gPSBcIlByaXNtYXRpY1wiO1xuICAgIC8vICNpZiBESU0zXG4gICAgSm9pbnRUeXBlW0pvaW50VHlwZVtcIlNwaGVyaWNhbFwiXSA9IDNdID0gXCJTcGhlcmljYWxcIjtcbiAgICAvLyAjZW5kaWZcbn0pKEpvaW50VHlwZSB8fCAoSm9pbnRUeXBlID0ge30pKTtcbmV4cG9ydCB2YXIgTW90b3JNb2RlbDtcbihmdW5jdGlvbiAoTW90b3JNb2RlbCkge1xuICAgIE1vdG9yTW9kZWxbTW90b3JNb2RlbFtcIkFjY2VsZXJhdGlvbkJhc2VkXCJdID0gMF0gPSBcIkFjY2VsZXJhdGlvbkJhc2VkXCI7XG4gICAgTW90b3JNb2RlbFtNb3Rvck1vZGVsW1wiRm9yY2VCYXNlZFwiXSA9IDFdID0gXCJGb3JjZUJhc2VkXCI7XG59KShNb3Rvck1vZGVsIHx8IChNb3Rvck1vZGVsID0ge30pKTtcbmV4cG9ydCBjbGFzcyBJbXB1bHNlSm9pbnQge1xuICAgIGNvbnN0cnVjdG9yKHJhd1NldCwgYm9keVNldCwgaGFuZGxlKSB7XG4gICAgICAgIHRoaXMucmF3U2V0ID0gcmF3U2V0O1xuICAgICAgICB0aGlzLmJvZHlTZXQgPSBib2R5U2V0O1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICB9XG4gICAgc3RhdGljIG5ld1R5cGVkKHJhd1NldCwgYm9keVNldCwgaGFuZGxlKSB7XG4gICAgICAgIHN3aXRjaCAocmF3U2V0LmpvaW50VHlwZShoYW5kbGUpKSB7XG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5SZXZvbHV0ZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJldm9sdXRlSW1wdWxzZUpvaW50KHJhd1NldCwgYm9keVNldCwgaGFuZGxlKTtcbiAgICAgICAgICAgIGNhc2UgSm9pbnRUeXBlLlByaXNtYXRpYzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByaXNtYXRpY0ltcHVsc2VKb2ludChyYXdTZXQsIGJvZHlTZXQsIGhhbmRsZSk7XG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5GaXhlZDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpeGVkSW1wdWxzZUpvaW50KHJhd1NldCwgYm9keVNldCwgaGFuZGxlKTtcbiAgICAgICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5TcGhlcmljYWw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTcGhlcmljYWxJbXB1bHNlSm9pbnQocmF3U2V0LCBib2R5U2V0LCBoYW5kbGUpO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW1wdWxzZUpvaW50KHJhd1NldCwgYm9keVNldCwgaGFuZGxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZmluYWxpemVEZXNlcmlhbGl6YXRpb24oYm9keVNldCkge1xuICAgICAgICB0aGlzLmJvZHlTZXQgPSBib2R5U2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBqb2ludCBpcyBzdGlsbCB2YWxpZCAoaS5lLiB0aGF0IGl0IGhhc1xuICAgICAqIG5vdCBiZWVuIGRlbGV0ZWQgZnJvbSB0aGUgam9pbnQgc2V0IHlldCkuXG4gICAgICovXG4gICAgaXNWYWxpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LmNvbnRhaW5zKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpcnN0IHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpdCBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBib2R5MSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keVNldC5nZXQodGhpcy5yYXdTZXQuam9pbnRCb2R5SGFuZGxlMSh0aGlzLmhhbmRsZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2Vjb25kIHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBib2R5MigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keVNldC5nZXQodGhpcy5yYXdTZXQuam9pbnRCb2R5SGFuZGxlMih0aGlzLmhhbmRsZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGlzIGpvaW50IGdpdmVuIGFzIGEgc3RyaW5nLlxuICAgICAqL1xuICAgIHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5qb2ludFR5cGUodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvLyAjaWYgRElNM1xuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRoYXQgYWxpZ25zIHRoaXMgam9pbnQncyBmaXJzdCBsb2NhbCBheGlzIHRvIHRoZSBgeGAgYXhpcy5cbiAgICAgKi9cbiAgICBmcmFtZVgxKCkge1xuICAgICAgICByZXR1cm4gUm90YXRpb25PcHMuZnJvbVJhdyh0aGlzLnJhd1NldC5qb2ludEZyYW1lWDEodGhpcy5oYW5kbGUpKTtcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gbWF0cml4IHRoYXQgYWxpZ25zIHRoaXMgam9pbnQncyBzZWNvbmQgbG9jYWwgYXhpcyB0byB0aGUgYHhgIGF4aXMuXG4gICAgICovXG4gICAgZnJhbWVYMigpIHtcbiAgICAgICAgcmV0dXJuIFJvdGF0aW9uT3BzLmZyb21SYXcodGhpcy5yYXdTZXQuam9pbnRGcmFtZVgyKHRoaXMuaGFuZGxlKSk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoaXMgam9pbnQuXG4gICAgICpcbiAgICAgKiBUaGUgZmlyc3QgYW5jaG9yIGdpdmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9pbnRzIGFwcGxpY2F0aW9uIHBvaW50IG9uIHRoZVxuICAgICAqIGxvY2FsIGZyYW1lIG9mIHRoZSBmaXJzdCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGFuY2hvcjEoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhd1NldC5qb2ludEFuY2hvcjEodGhpcy5oYW5kbGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoaXMgam9pbnQuXG4gICAgICpcbiAgICAgKiBUaGUgc2Vjb25kIGFuY2hvciBnaXZlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvaW50cyBhcHBsaWNhdGlvbiBwb2ludCBvbiB0aGVcbiAgICAgKiBsb2NhbCBmcmFtZSBvZiB0aGUgc2Vjb25kIHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgYW5jaG9yMigpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3U2V0LmpvaW50QW5jaG9yMih0aGlzLmhhbmRsZSkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbml0SW1wdWxzZUpvaW50IGV4dGVuZHMgSW1wdWxzZUpvaW50IHtcbiAgICAvKipcbiAgICAgKiBBcmUgdGhlIGxpbWl0cyBlbmFibGVkIGZvciB0aGlzIGpvaW50P1xuICAgICAqL1xuICAgIGxpbWl0c0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5qb2ludExpbWl0c0VuYWJsZWQodGhpcy5oYW5kbGUsIHRoaXMucmF3QXhpcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1pbiBsaW1pdCBvZiB0aGlzIGpvaW50LlxuICAgICAqL1xuICAgIGxpbWl0c01pbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LmpvaW50TGltaXRzTWluKHRoaXMuaGFuZGxlLCB0aGlzLnJhd0F4aXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbGltaXQgb2YgdGhpcyBqb2ludC5cbiAgICAgKi9cbiAgICBsaW1pdHNNYXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5qb2ludExpbWl0c01heCh0aGlzLmhhbmRsZSwgdGhpcy5yYXdBeGlzKCkpO1xuICAgIH1cbiAgICBjb25maWd1cmVNb3Rvck1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LmpvaW50Q29uZmlndXJlTW90b3JNb2RlbCh0aGlzLmhhbmRsZSwgdGhpcy5yYXdBeGlzKCksIG1vZGVsKTtcbiAgICB9XG4gICAgY29uZmlndXJlTW90b3JWZWxvY2l0eSh0YXJnZXRWZWwsIGZhY3Rvcikge1xuICAgICAgICB0aGlzLnJhd1NldC5qb2ludENvbmZpZ3VyZU1vdG9yVmVsb2NpdHkodGhpcy5oYW5kbGUsIHRoaXMucmF3QXhpcygpLCB0YXJnZXRWZWwsIGZhY3Rvcik7XG4gICAgfVxuICAgIGNvbmZpZ3VyZU1vdG9yUG9zaXRpb24odGFyZ2V0UG9zLCBzdGlmZm5lc3MsIGRhbXBpbmcpIHtcbiAgICAgICAgdGhpcy5yYXdTZXQuam9pbnRDb25maWd1cmVNb3RvclBvc2l0aW9uKHRoaXMuaGFuZGxlLCB0aGlzLnJhd0F4aXMoKSwgdGFyZ2V0UG9zLCBzdGlmZm5lc3MsIGRhbXBpbmcpO1xuICAgIH1cbiAgICBjb25maWd1cmVNb3Rvcih0YXJnZXRQb3MsIHRhcmdldFZlbCwgc3RpZmZuZXNzLCBkYW1waW5nKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LmpvaW50Q29uZmlndXJlTW90b3IodGhpcy5oYW5kbGUsIHRoaXMucmF3QXhpcygpLCB0YXJnZXRQb3MsIHRhcmdldFZlbCwgc3RpZmZuZXNzLCBkYW1waW5nKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRml4ZWRJbXB1bHNlSm9pbnQgZXh0ZW5kcyBJbXB1bHNlSm9pbnQge1xufVxuZXhwb3J0IGNsYXNzIFByaXNtYXRpY0ltcHVsc2VKb2ludCBleHRlbmRzIFVuaXRJbXB1bHNlSm9pbnQge1xuICAgIHJhd0F4aXMoKSB7XG4gICAgICAgIHJldHVybiBSYXdKb2ludEF4aXMuWDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmV2b2x1dGVJbXB1bHNlSm9pbnQgZXh0ZW5kcyBVbml0SW1wdWxzZUpvaW50IHtcbiAgICByYXdBeGlzKCkge1xuICAgICAgICByZXR1cm4gUmF3Sm9pbnRBeGlzLkFuZ1g7XG4gICAgfVxufVxuLy8gI2lmIERJTTNcbmV4cG9ydCBjbGFzcyBTcGhlcmljYWxJbXB1bHNlSm9pbnQgZXh0ZW5kcyBJbXB1bHNlSm9pbnQge1xufVxuLy8gI2VuZGlmXG5leHBvcnQgY2xhc3MgSm9pbnREYXRhIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBqb2ludCBkZXNjcmlwdG9yIHRoYXQgYnVpbGRzIGEgRml4ZWQgam9pbnQuXG4gICAgICpcbiAgICAgKiBBIGZpeGVkIGpvaW50IHJlbW92ZXMgYWxsIHRoZSBkZWdyZWVzIG9mIGZyZWVkb20gYmV0d2VlbiB0aGUgYWZmZWN0ZWQgYm9kaWVzLCBlbnN1cmluZyB0aGVpclxuICAgICAqIGFuY2hvciBhbmQgbG9jYWwgZnJhbWVzIGNvaW5jaWRlIGluIHdvcmxkLXNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuY2hvcjEgLSBQb2ludCB3aGVyZSB0aGUgam9pbnQgaXMgYXR0YWNoZWQgb24gdGhlIGZpcnN0IHJpZ2lkLWJvZHkgYWZmZWN0ZWQgYnkgdGhpcyBqb2ludC4gRXhwcmVzc2VkIGluIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgbG9jYWwtc3BhY2Ugb2YgdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIGZyYW1lMSAtIFRoZSByZWZlcmVuY2Ugb3JpZW50YXRpb24gb2YgdGhlIGpvaW50IHdydC4gdGhlIGZpcnN0IHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIGFuY2hvcjIgLSBQb2ludCB3aGVyZSB0aGUgam9pbnQgaXMgYXR0YWNoZWQgb24gdGhlIHNlY29uZCByaWdpZC1ib2R5IGFmZmVjdGVkIGJ5IHRoaXMgam9pbnQuIEV4cHJlc3NlZCBpbiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSBmcmFtZTIgLSBUaGUgcmVmZXJlbmNlIG9yaWVudGF0aW9uIG9mIHRoZSBqb2ludCB3cnQuIHRoZSBzZWNvbmQgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZml4ZWQoYW5jaG9yMSwgZnJhbWUxLCBhbmNob3IyLCBmcmFtZTIpIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBKb2ludERhdGEoKTtcbiAgICAgICAgcmVzLmFuY2hvcjEgPSBhbmNob3IxO1xuICAgICAgICByZXMuYW5jaG9yMiA9IGFuY2hvcjI7XG4gICAgICAgIHJlcy5mcmFtZTEgPSBmcmFtZTE7XG4gICAgICAgIHJlcy5mcmFtZTIgPSBmcmFtZTI7XG4gICAgICAgIHJlcy5qb2ludFR5cGUgPSBKb2ludFR5cGUuRml4ZWQ7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8vICNpZiBESU0zXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGpvaW50IGRlc2NyaXB0b3IgdGhhdCBidWlsZHMgc3BoZXJpY2FsIGpvaW50cy5cbiAgICAgKlxuICAgICAqIEEgc3BoZXJpY2FsIGpvaW50IGFsbG93cyB0aHJlZSByZWxhdGl2ZSByb3RhdGlvbmFsIGRlZ3JlZXMgb2YgZnJlZWRvbVxuICAgICAqIGJ5IHByZXZlbnRpbmcgYW55IHJlbGF0aXZlIHRyYW5zbGF0aW9uIGJldHdlZW4gdGhlIGFuY2hvcnMgb2YgdGhlXG4gICAgICogdHdvIGF0dGFjaGVkIHJpZ2lkLWJvZGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmNob3IxIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBmaXJzdCByaWdpZC1ib2R5IGFmZmVjdGVkIGJ5IHRoaXMgam9pbnQuIEV4cHJlc3NlZCBpbiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSBhbmNob3IyIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBhZmZlY3RlZCBieSB0aGlzIGpvaW50LiBFeHByZXNzZWQgaW4gdGhlXG4gICAgICogICAgICAgICAgICAgICAgICBsb2NhbC1zcGFjZSBvZiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMgc3BoZXJpY2FsKGFuY2hvcjEsIGFuY2hvcjIpIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBKb2ludERhdGEoKTtcbiAgICAgICAgcmVzLmFuY2hvcjEgPSBhbmNob3IxO1xuICAgICAgICByZXMuYW5jaG9yMiA9IGFuY2hvcjI7XG4gICAgICAgIHJlcy5qb2ludFR5cGUgPSBKb2ludFR5cGUuU3BoZXJpY2FsO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGpvaW50IGRlc2NyaXB0b3IgdGhhdCBidWlsZHMgYSBQcmlzbWF0aWMgam9pbnQuXG4gICAgICpcbiAgICAgKiBBIHByaXNtYXRpYyBqb2ludCByZW1vdmVzIGFsbCB0aGUgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlXG4gICAgICogYWZmZWN0ZWQgYm9kaWVzLCBleGNlcHQgZm9yIHRoZSB0cmFuc2xhdGlvbiBhbG9uZyBvbmUgYXhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmNob3IxIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBmaXJzdCByaWdpZC1ib2R5IGFmZmVjdGVkIGJ5IHRoaXMgam9pbnQuIEV4cHJlc3NlZCBpbiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSBhbmNob3IyIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBhZmZlY3RlZCBieSB0aGlzIGpvaW50LiBFeHByZXNzZWQgaW4gdGhlXG4gICAgICogICAgICAgICAgICAgICAgICBsb2NhbC1zcGFjZSBvZiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gYXhpcyAtIEF4aXMgb2YgdGhlIGpvaW50LCBleHByZXNzZWQgaW4gdGhlIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2RpZXMgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgc3RhdGljIHByaXNtYXRpYyhhbmNob3IxLCBhbmNob3IyLCBheGlzKSB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgSm9pbnREYXRhKCk7XG4gICAgICAgIHJlcy5hbmNob3IxID0gYW5jaG9yMTtcbiAgICAgICAgcmVzLmFuY2hvcjIgPSBhbmNob3IyO1xuICAgICAgICByZXMuYXhpcyA9IGF4aXM7XG4gICAgICAgIHJlcy5qb2ludFR5cGUgPSBKb2ludFR5cGUuUHJpc21hdGljO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgam9pbnQgZGVzY3JpcHRvciB0aGF0IGJ1aWxkcyBSZXZvbHV0ZSBqb2ludHMuXG4gICAgICpcbiAgICAgKiBBIHJldm9sdXRlIGpvaW50IHJlbW92ZXMgYWxsIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBhZmZlY3RlZFxuICAgICAqIGJvZGllcyBleGNlcHQgZm9yIHRoZSByb3RhdGlvbiBhbG9uZyBvbmUgYXhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmNob3IxIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBmaXJzdCByaWdpZC1ib2R5IGFmZmVjdGVkIGJ5IHRoaXMgam9pbnQuIEV4cHJlc3NlZCBpbiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqIEBwYXJhbSBhbmNob3IyIC0gUG9pbnQgd2hlcmUgdGhlIGpvaW50IGlzIGF0dGFjaGVkIG9uIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBhZmZlY3RlZCBieSB0aGlzIGpvaW50LiBFeHByZXNzZWQgaW4gdGhlXG4gICAgICogICAgICAgICAgICAgICAgICBsb2NhbC1zcGFjZSBvZiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gYXhpcyAtIEF4aXMgb2YgdGhlIGpvaW50LCBleHByZXNzZWQgaW4gdGhlIGxvY2FsLXNwYWNlIG9mIHRoZSByaWdpZC1ib2RpZXMgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgc3RhdGljIHJldm9sdXRlKGFuY2hvcjEsIGFuY2hvcjIsIGF4aXMpIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBKb2ludERhdGEoKTtcbiAgICAgICAgcmVzLmFuY2hvcjEgPSBhbmNob3IxO1xuICAgICAgICByZXMuYW5jaG9yMiA9IGFuY2hvcjI7XG4gICAgICAgIHJlcy5heGlzID0gYXhpcztcbiAgICAgICAgcmVzLmpvaW50VHlwZSA9IEpvaW50VHlwZS5SZXZvbHV0ZTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgbGV0IHJhd0ExID0gVmVjdG9yT3BzLmludG9SYXcodGhpcy5hbmNob3IxKTtcbiAgICAgICAgbGV0IHJhd0EyID0gVmVjdG9yT3BzLmludG9SYXcodGhpcy5hbmNob3IyKTtcbiAgICAgICAgbGV0IHJhd0F4O1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBsZXQgbGltaXRzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgbGltaXRzTWluID0gMC4wO1xuICAgICAgICBsZXQgbGltaXRzTWF4ID0gMC4wO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuam9pbnRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5GaXhlZDpcbiAgICAgICAgICAgICAgICBsZXQgcmF3RnJhMSA9IFJvdGF0aW9uT3BzLmludG9SYXcodGhpcy5mcmFtZTEpO1xuICAgICAgICAgICAgICAgIGxldCByYXdGcmEyID0gUm90YXRpb25PcHMuaW50b1Jhdyh0aGlzLmZyYW1lMik7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gUmF3R2VuZXJpY0pvaW50LmZpeGVkKHJhd0ExLCByYXdGcmExLCByYXdBMiwgcmF3RnJhMik7XG4gICAgICAgICAgICAgICAgcmF3RnJhMS5mcmVlKCk7XG4gICAgICAgICAgICAgICAgcmF3RnJhMi5mcmVlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5QcmlzbWF0aWM6XG4gICAgICAgICAgICAgICAgcmF3QXggPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmF4aXMpO1xuICAgICAgICAgICAgICAgIGlmICghIXRoaXMubGltaXRzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBsaW1pdHNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzTWluID0gdGhpcy5saW1pdHNbMF07XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0c01heCA9IHRoaXMubGltaXRzWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAjaWYgRElNM1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFJhd0dlbmVyaWNKb2ludC5wcmlzbWF0aWMocmF3QTEsIHJhd0EyLCByYXdBeCwgbGltaXRzRW5hYmxlZCwgbGltaXRzTWluLCBsaW1pdHNNYXgpO1xuICAgICAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgICAgIHJhd0F4LmZyZWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgICAgICBjYXNlIEpvaW50VHlwZS5TcGhlcmljYWw6XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gUmF3R2VuZXJpY0pvaW50LnNwaGVyaWNhbChyYXdBMSwgcmF3QTIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBKb2ludFR5cGUuUmV2b2x1dGU6XG4gICAgICAgICAgICAgICAgcmF3QXggPSBWZWN0b3JPcHMuaW50b1Jhdyh0aGlzLmF4aXMpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFJhd0dlbmVyaWNKb2ludC5yZXZvbHV0ZShyYXdBMSwgcmF3QTIsIHJhd0F4KTtcbiAgICAgICAgICAgICAgICByYXdBeC5mcmVlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgfVxuICAgICAgICByYXdBMS5mcmVlKCk7XG4gICAgICAgIHJhd0EyLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbXB1bHNlX2pvaW50LmpzLm1hcCIsImltcG9ydCB7IFJhd0ltcHVsc2VKb2ludFNldCB9IGZyb20gXCIuLi9yYXdcIjtcbmltcG9ydCB7IENvYXJlbmEgfSBmcm9tIFwiLi4vY29hcmVuYVwiO1xuaW1wb3J0IHsgSW1wdWxzZUpvaW50IH0gZnJvbSBcIi4vaW1wdWxzZV9qb2ludFwiO1xuLyoqXG4gKiBBIHNldCBvZiBqb2ludHMuXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGpvaW50U2V0LmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0IChhbmQgYWxsIHRoZSBqb2ludHMgaXQgY3JlYXRlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbXB1bHNlSm9pbnRTZXQge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3SW1wdWxzZUpvaW50U2V0KCk7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IENvYXJlbmEoKTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbWFwIHdpdGggdGhlIGV4aXN0aW5nIGVsZW1lbnRzLCBpZiBhbnkuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJhdy5mb3JFYWNoSm9pbnRIYW5kbGUoKGhhbmRsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldChoYW5kbGUsIEltcHVsc2VKb2ludC5uZXdUeXBlZChyYXcsIG51bGwsIGhhbmRsZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV0FTTSBtZW1vcnkgb2NjdXBpZWQgYnkgdGhpcyBqb2ludCBzZXQuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tYXAgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBmaW5hbGl6ZURlc2VyaWFsaXphdGlvbihib2RpZXMpIHtcbiAgICAgICAgdGhpcy5tYXAuZm9yRWFjaChqb2ludCA9PiBqb2ludC5maW5hbGl6ZURlc2VyaWFsaXphdGlvbihib2RpZXMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBqb2ludCBhbmQgcmV0dXJuIGl0cyBpbnRlZ2VyIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBib2RpZXMgLSBUaGUgc2V0IG9mIHJpZ2lkLWJvZGllcyBjb250YWluaW5nIHRoZSBib2RpZXMgdGhlIGpvaW50IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqIEBwYXJhbSBkZXNjIC0gVGhlIGpvaW50J3MgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gcGFyZW50MSAtIFRoZSBoYW5kbGUgb2YgdGhlIGZpcnN0IHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKiBAcGFyYW0gcGFyZW50MiAtIFRoZSBoYW5kbGUgb2YgdGhlIHNlY29uZCByaWdpZC1ib2R5IHRoaXMgam9pbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICogQHBhcmFtIHdha2VVcCAtIFNob3VsZCB0aGUgYXR0YWNoZWQgcmlnaWQtYm9kaWVzIGJlIGF3YWtlbmVkP1xuICAgICAqL1xuICAgIGNyZWF0ZUpvaW50KGJvZGllcywgZGVzYywgcGFyZW50MSwgcGFyZW50Miwgd2FrZVVwKSB7XG4gICAgICAgIGNvbnN0IHJhd1BhcmFtcyA9IGRlc2MuaW50b1JhdygpO1xuICAgICAgICBjb25zdCBoYW5kbGUgPSB0aGlzLnJhdy5jcmVhdGVKb2ludChyYXdQYXJhbXMsIHBhcmVudDEsIHBhcmVudDIsIHdha2VVcCk7XG4gICAgICAgIHJhd1BhcmFtcy5mcmVlKCk7XG4gICAgICAgIGxldCBqb2ludCA9IEltcHVsc2VKb2ludC5uZXdUeXBlZCh0aGlzLnJhdywgYm9kaWVzLCBoYW5kbGUpO1xuICAgICAgICB0aGlzLm1hcC5zZXQoaGFuZGxlLCBqb2ludCk7XG4gICAgICAgIHJldHVybiBqb2ludDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgam9pbnQgZnJvbSB0aGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYW5kbGUgLSBUaGUgaW50ZWdlciBoYW5kbGUgb2YgdGhlIGpvaW50LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBJZiBgdHJ1ZWAsIHRoZSByaWdpZC1ib2RpZXMgYXR0YWNoZWQgYnkgdGhlIHJlbW92ZWQgam9pbnQgd2lsbCBiZSB3b2tlbi11cCBhdXRvbWF0aWNhbGx5LlxuICAgICAqL1xuICAgIHJlbW92ZShoYW5kbGUsIHdha2VVcCkge1xuICAgICAgICB0aGlzLnJhdy5yZW1vdmUoaGFuZGxlLCB3YWtlVXApO1xuICAgICAgICB0aGlzLnVubWFwKGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBnaXZlbiBjbG9zdXJlIHdpdGggdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggaW1wdWxzZSBqb2ludCBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIGNhbGxlZCB3aXRoIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIGltcHVsc2Ugam9pbnQgYXR0YWNoZWQgdG8gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgZm9yRWFjaEpvaW50SGFuZGxlQXR0YWNoZWRUb1JpZ2lkQm9keShoYW5kbGUsIGYpIHtcbiAgICAgICAgdGhpcy5yYXcuZm9yRWFjaEpvaW50QXR0YWNoZWRUb1JpZ2lkQm9keShoYW5kbGUsIGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBmdW5jdGlvbiwgZG8gbm90IGNhbGwgZGlyZWN0bHkuXG4gICAgICogQHBhcmFtIGhhbmRsZVxuICAgICAqL1xuICAgIHVubWFwKGhhbmRsZSkge1xuICAgICAgICB0aGlzLm1hcC5kZWxldGUoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBqb2ludHMgb24gdGhpcyBzZXQuXG4gICAgICovXG4gICAgbGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAubGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvZXMgdGhpcyBzZXQgY29udGFpbiBhIGpvaW50IHdpdGggdGhlIGdpdmVuIGhhbmRsZT9cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYW5kbGUgLSBUaGUgam9pbnQgaGFuZGxlIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIGNvbnRhaW5zKGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoaGFuZGxlKSAhPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBqb2ludCB3aXRoIHRoZSBnaXZlbiBoYW5kbGUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGBudWxsYCBpZiBubyBqb2ludCB3aXRoIHRoZSBzcGVjaWZpZWQgaGFuZGxlIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYW5kbGUgLSBUaGUgaW50ZWdlciBoYW5kbGUgb2YgdGhlIGpvaW50IHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIGdldChoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmdldChoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBjbG9zdXJlIHRvIGVhY2ggam9pbnQgY29udGFpbmVkIGJ5IHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGYgLSBUaGUgY2xvc3VyZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBmb3JFYWNoKGYpIHtcbiAgICAgICAgdGhpcy5tYXAuZm9yRWFjaChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgam9pbnRzIGluIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgam9pbnQgbGlzdC5cbiAgICAgKi9cbiAgICBnZXRBbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRBbGwoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbXB1bHNlX2pvaW50X3NldC5qcy5tYXAiLCJpbXBvcnQgeyBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vcmF3XCI7XG5leHBvcnQgY2xhc3MgSW50ZWdyYXRpb25QYXJhbWV0ZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd0ludGVncmF0aW9uUGFyYW1ldGVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGcmVlIHRoZSBXQVNNIG1lbW9yeSB1c2VkIGJ5IHRoZXNlIGludGVncmF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRpbWVzdGVwIGxlbmd0aCAoZGVmYXVsdDogYDEuMCAvIDYwLjBgKVxuICAgICAqL1xuICAgIGdldCBkdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmR0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgRXJyb3IgUmVkdWN0aW9uIFBhcmFtZXRlciBpbiBgWzAsIDFdYCBpcyB0aGUgcHJvcG9ydGlvbiBvZlxuICAgICAqIHRoZSBwb3NpdGlvbmFsIGVycm9yIHRvIGJlIGNvcnJlY3RlZCBhdCBlYWNoIHRpbWUgc3RlcCAoZGVmYXVsdDogYDAuMmApLlxuICAgICAqL1xuICAgIGdldCBlcnAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5lcnA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiBwZW5ldHJhdGlvbiB0aGUgZW5naW5lIHdvbnQgYXR0ZW1wdCB0byBjb3JyZWN0IChkZWZhdWx0OiBgMC4wMDFtYCkuXG4gICAgICovXG4gICAgZ2V0IGFsbG93ZWRMaW5lYXJFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmFsbG93ZWRMaW5lYXJFcnJvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltYWwgZGlzdGFuY2Ugc2VwYXJhdGluZyB0d28gb2JqZWN0cyB0aGF0IHdpbGwgZ2VuZXJhdGUgcHJlZGljdGl2ZSBjb250YWN0cyAoZGVmYXVsdDogYDAuMDAyYCkuXG4gICAgICovXG4gICAgZ2V0IHByZWRpY3Rpb25EaXN0YW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnByZWRpY3Rpb25EaXN0YW5jZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWQgYnkgdGhlIHZlbG9jaXR5IGNvbnN0cmFpbnRzIHNvbHZlciAoZGVmYXVsdDogYDRgKS5cbiAgICAgKi9cbiAgICBnZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcubWF4VmVsb2NpdHlJdGVyYXRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBmcmljdGlvbiBpdGVyYXRpb25zIHBlcmZvcm1lZCBieSB0aGUgcG9zaXRpb24tYmFzZWQgY29uc3RyYWludHMgc29sdmVyIChkZWZhdWx0OiBgMWApLlxuICAgICAqL1xuICAgIGdldCBtYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3Lm1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBzdGFiaWxpemF0aW9uIGl0ZXJhdGlvbnMgcGVyZm9ybWVkIGJ5IHRoZSBwb3NpdGlvbi1iYXNlZCBjb25zdHJhaW50cyBzb2x2ZXIgKGRlZmF1bHQ6IGAxYCkuXG4gICAgICovXG4gICAgZ2V0IG1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcubWF4U3RhYmlsaXphdGlvbkl0ZXJhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gbnVtYmVyIG9mIGR5bmFtaWMgYm9kaWVzIGluIGVhY2ggYWN0aXZlIGlzbGFuZCAoZGVmYXVsdDogYDEyOGApLlxuICAgICAqL1xuICAgIGdldCBtaW5Jc2xhbmRTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcubWluSXNsYW5kU2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF4aW11bSBudW1iZXIgb2Ygc3Vic3RlcHMgcGVyZm9ybWVkIGJ5IHRoZSAgc29sdmVyIChkZWZhdWx0OiBgMWApLlxuICAgICAqL1xuICAgIGdldCBtYXhDY2RTdWJzdGVwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3Lm1heENjZFN1YnN0ZXBzO1xuICAgIH1cbiAgICBzZXQgZHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5yYXcuZHQgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IGVycCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5lcnAgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IGFsbG93ZWRMaW5lYXJFcnJvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5hbGxvd2VkTGluZWFyRXJyb3IgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IHByZWRpY3Rpb25EaXN0YW5jZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5wcmVkaWN0aW9uRGlzdGFuY2UgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IG1heFZlbG9jaXR5SXRlcmF0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5tYXhWZWxvY2l0eUl0ZXJhdGlvbnMgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IG1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3Lm1heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBtYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5tYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgbWluSXNsYW5kU2l6ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5taW5Jc2xhbmRTaXplID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBtYXhDY2RTdWJzdGVwcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhdy5tYXhDY2RTdWJzdGVwcyA9IHZhbHVlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVncmF0aW9uX3BhcmFtZXRlcnMuanMubWFwIiwiaW1wb3J0IHsgUmF3SXNsYW5kTWFuYWdlciB9IGZyb20gXCIuLi9yYXdcIjtcbi8qKlxuICogVGhlIENDRCBzb2x2ZXIgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBDb250aW51b3VzIENvbGxpc2lvbiBEZXRlY3Rpb24uXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGNjZFNvbHZlci5mcmVlKClgXG4gKiBvbmNlIHlvdSBhcmUgZG9uZSB1c2luZyBpdC5cbiAqL1xuZXhwb3J0IGNsYXNzIElzbGFuZE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3SXNsYW5kTWFuYWdlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIG5hcnJvdy1waGFzZS5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBjbG9zdXJlIHRvIHRoZSBoYW5kbGUgb2YgZWFjaCBhY3RpdmUgcmlnaWQtYm9kaWVzIGNvbnRhaW5lZCBieSB0aGlzIHNldC5cbiAgICAgKlxuICAgICAqIEEgcmlnaWQtYm9keSBpcyBhY3RpdmUgaWYgaXQgaXMgbm90IHNsZWVwaW5nLCBpLmUuLCBpZiBpdCBtb3ZlZCByZWNlbnRseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmIC0gVGhlIGNsb3N1cmUgdG8gYXBwbHkuXG4gICAgICovXG4gICAgZm9yRWFjaEFjdGl2ZVJpZ2lkQm9keUhhbmRsZShmKSB7XG4gICAgICAgIHRoaXMucmF3LmZvckVhY2hBY3RpdmVSaWdpZEJvZHlIYW5kbGUoZik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNsYW5kX21hbmFnZXIuanMubWFwIiwiaW1wb3J0IHsgUmF3Sm9pbnRBeGlzIH0gZnJvbSBcIi4uL3Jhd1wiO1xuaW1wb3J0IHsgSm9pbnRUeXBlIH0gZnJvbSBcIi4vaW1wdWxzZV9qb2ludFwiO1xuZXhwb3J0IGNsYXNzIE11bHRpYm9keUpvaW50IHtcbiAgICBjb25zdHJ1Y3RvcihyYXdTZXQsIGhhbmRsZSkge1xuICAgICAgICB0aGlzLnJhd1NldCA9IHJhd1NldDtcbiAgICAgICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG4gICAgfVxuICAgIHN0YXRpYyBuZXdUeXBlZChyYXdTZXQsIGhhbmRsZSkge1xuICAgICAgICBzd2l0Y2ggKHJhd1NldC5qb2ludFR5cGUoaGFuZGxlKSkge1xuICAgICAgICAgICAgY2FzZSBKb2ludFR5cGUuUmV2b2x1dGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXZvbHV0ZU11bHRpYm9keUpvaW50KHJhd1NldCwgaGFuZGxlKTtcbiAgICAgICAgICAgIGNhc2UgSm9pbnRUeXBlLlByaXNtYXRpYzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByaXNtYXRpY011bHRpYm9keUpvaW50KHJhd1NldCwgaGFuZGxlKTtcbiAgICAgICAgICAgIGNhc2UgSm9pbnRUeXBlLkZpeGVkOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRml4ZWRNdWx0aWJvZHlKb2ludChyYXdTZXQsIGhhbmRsZSk7XG4gICAgICAgICAgICAvLyAjaWYgRElNM1xuICAgICAgICAgICAgY2FzZSBKb2ludFR5cGUuU3BoZXJpY2FsOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3BoZXJpY2FsTXVsdGlib2R5Sm9pbnQocmF3U2V0LCBoYW5kbGUpO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTXVsdGlib2R5Sm9pbnQocmF3U2V0LCBoYW5kbGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGlzIGpvaW50IGlzIHN0aWxsIHZhbGlkIChpLmUuIHRoYXQgaXQgaGFzXG4gICAgICogbm90IGJlZW4gZGVsZXRlZCBmcm9tIHRoZSBqb2ludCBzZXQgeWV0KS5cbiAgICAgKi9cbiAgICBpc1ZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQuY29udGFpbnModGhpcy5oYW5kbGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbml0TXVsdGlib2R5Sm9pbnQgZXh0ZW5kcyBNdWx0aWJvZHlKb2ludCB7XG59XG5leHBvcnQgY2xhc3MgRml4ZWRNdWx0aWJvZHlKb2ludCBleHRlbmRzIE11bHRpYm9keUpvaW50IHtcbn1cbmV4cG9ydCBjbGFzcyBQcmlzbWF0aWNNdWx0aWJvZHlKb2ludCBleHRlbmRzIFVuaXRNdWx0aWJvZHlKb2ludCB7XG4gICAgcmF3QXhpcygpIHtcbiAgICAgICAgcmV0dXJuIFJhd0pvaW50QXhpcy5YO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXZvbHV0ZU11bHRpYm9keUpvaW50IGV4dGVuZHMgVW5pdE11bHRpYm9keUpvaW50IHtcbiAgICByYXdBeGlzKCkge1xuICAgICAgICByZXR1cm4gUmF3Sm9pbnRBeGlzLkFuZ1g7XG4gICAgfVxufVxuLy8gI2lmIERJTTNcbmV4cG9ydCBjbGFzcyBTcGhlcmljYWxNdWx0aWJvZHlKb2ludCBleHRlbmRzIE11bHRpYm9keUpvaW50IHtcbn1cbi8vICNlbmRpZlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGlib2R5X2pvaW50LmpzLm1hcCIsImltcG9ydCB7IFJhd011bHRpYm9keUpvaW50U2V0IH0gZnJvbSBcIi4uL3Jhd1wiO1xuaW1wb3J0IHsgQ29hcmVuYSB9IGZyb20gXCIuLi9jb2FyZW5hXCI7XG5pbXBvcnQgeyBNdWx0aWJvZHlKb2ludCB9IGZyb20gXCIuL211bHRpYm9keV9qb2ludFwiO1xuLyoqXG4gKiBBIHNldCBvZiBqb2ludHMuXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGpvaW50U2V0LmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0IChhbmQgYWxsIHRoZSBqb2ludHMgaXQgY3JlYXRlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNdWx0aWJvZHlKb2ludFNldCB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdNdWx0aWJvZHlKb2ludFNldCgpO1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBDb2FyZW5hKCk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG1hcCB3aXRoIHRoZSBleGlzdGluZyBlbGVtZW50cywgaWYgYW55LlxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByYXcuZm9yRWFjaEpvaW50SGFuZGxlKChoYW5kbGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXQoaGFuZGxlLCBNdWx0aWJvZHlKb2ludC5uZXdUeXBlZCh0aGlzLnJhdywgaGFuZGxlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIGpvaW50IHNldC5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1hcC5jbGVhcigpO1xuICAgICAgICB0aGlzLm1hcCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBqb2ludCBhbmQgcmV0dXJuIGl0cyBpbnRlZ2VyIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZXNjIC0gVGhlIGpvaW50J3MgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gcGFyZW50MSAtIFRoZSBoYW5kbGUgb2YgdGhlIGZpcnN0IHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKiBAcGFyYW0gcGFyZW50MiAtIFRoZSBoYW5kbGUgb2YgdGhlIHNlY29uZCByaWdpZC1ib2R5IHRoaXMgam9pbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICogQHBhcmFtIHdha2VVcCAtIFNob3VsZCB0aGUgYXR0YWNoZWQgcmlnaWQtYm9kaWVzIGJlIGF3YWtlbmVkP1xuICAgICAqL1xuICAgIGNyZWF0ZUpvaW50KGRlc2MsIHBhcmVudDEsIHBhcmVudDIsIHdha2VVcCkge1xuICAgICAgICBjb25zdCByYXdQYXJhbXMgPSBkZXNjLmludG9SYXcoKTtcbiAgICAgICAgY29uc3QgaGFuZGxlID0gdGhpcy5yYXcuY3JlYXRlSm9pbnQocmF3UGFyYW1zLCBwYXJlbnQxLCBwYXJlbnQyLCB3YWtlVXApO1xuICAgICAgICByYXdQYXJhbXMuZnJlZSgpO1xuICAgICAgICBsZXQgam9pbnQgPSBNdWx0aWJvZHlKb2ludC5uZXdUeXBlZCh0aGlzLnJhdywgaGFuZGxlKTtcbiAgICAgICAgdGhpcy5tYXAuc2V0KGhhbmRsZSwgam9pbnQpO1xuICAgICAgICByZXR1cm4gam9pbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGpvaW50IGZyb20gdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSBqb2ludC5cbiAgICAgKiBAcGFyYW0gd2FrZV91cCAtIElmIGB0cnVlYCwgdGhlIHJpZ2lkLWJvZGllcyBhdHRhY2hlZCBieSB0aGUgcmVtb3ZlZCBqb2ludCB3aWxsIGJlIHdva2VuLXVwIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgcmVtb3ZlKGhhbmRsZSwgd2FrZV91cCkge1xuICAgICAgICB0aGlzLnJhdy5yZW1vdmUoaGFuZGxlLCB3YWtlX3VwKTtcbiAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGZ1bmN0aW9uLCBkbyBub3QgY2FsbCBkaXJlY3RseS5cbiAgICAgKiBAcGFyYW0gaGFuZGxlXG4gICAgICovXG4gICAgdW5tYXAoaGFuZGxlKSB7XG4gICAgICAgIHRoaXMubWFwLmRlbGV0ZShoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGpvaW50cyBvbiB0aGlzIHNldC5cbiAgICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5sZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG9lcyB0aGlzIHNldCBjb250YWluIGEgam9pbnQgd2l0aCB0aGUgZ2l2ZW4gaGFuZGxlP1xuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBqb2ludCBoYW5kbGUgdG8gY2hlY2suXG4gICAgICovXG4gICAgY29udGFpbnMoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChoYW5kbGUpICE9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGpvaW50IHdpdGggdGhlIGdpdmVuIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYG51bGxgIGlmIG5vIGpvaW50IHdpdGggdGhlIHNwZWNpZmllZCBoYW5kbGUgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgam9pbnQgdG8gcmV0cmlldmUuXG4gICAgICovXG4gICAgZ2V0KGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gZWFjaCBqb2ludCBjb250YWluZWQgYnkgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIGZvckVhY2goZikge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2xvc3VyZSB3aXRoIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIG11bHRpYm9keSBqb2ludCBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBjbG9zdXJlIGNhbGxlZCB3aXRoIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIG11bHRpYm9keSBqb2ludCBhdHRhY2hlZCB0byB0aGUgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBmb3JFYWNoSm9pbnRIYW5kbGVBdHRhY2hlZFRvUmlnaWRCb2R5KGhhbmRsZSwgZikge1xuICAgICAgICB0aGlzLnJhdy5mb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5KGhhbmRsZSwgZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGpvaW50cyBpbiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGpvaW50IGxpc3QuXG4gICAgICovXG4gICAgZ2V0QWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0QWxsKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGlib2R5X2pvaW50X3NldC5qcy5tYXAiLCJpbXBvcnQgeyBSb3RhdGlvbk9wcywgVmVjdG9yT3BzIH0gZnJvbSAnLi4vbWF0aCc7XG4vKipcbiAqIFRoZSBzaW11bGF0aW9uIHN0YXR1cyBvZiBhIHJpZ2lkLWJvZHkuXG4gKi9cbi8vIFRPRE86IHJlbmFtZSB0aGlzIHRvIFJpZ2lkQm9keVR5cGVcbmV4cG9ydCB2YXIgUmlnaWRCb2R5VHlwZTtcbihmdW5jdGlvbiAoUmlnaWRCb2R5VHlwZSkge1xuICAgIC8qKlxuICAgICAqIEEgYFJpZ2lkQm9keVR5cGU6OkR5bmFtaWNgIGJvZHkgY2FuIGJlIGFmZmVjdGVkIGJ5IGFsbCBleHRlcm5hbCBmb3JjZXMuXG4gICAgICovXG4gICAgUmlnaWRCb2R5VHlwZVtSaWdpZEJvZHlUeXBlW1wiRHluYW1pY1wiXSA9IDBdID0gXCJEeW5hbWljXCI7XG4gICAgLyoqXG4gICAgICogQSBgUmlnaWRCb2R5VHlwZTo6Rml4ZWRgIGJvZHkgY2Fubm90IGJlIGFmZmVjdGVkIGJ5IGV4dGVybmFsIGZvcmNlcy5cbiAgICAgKi9cbiAgICBSaWdpZEJvZHlUeXBlW1JpZ2lkQm9keVR5cGVbXCJGaXhlZFwiXSA9IDFdID0gXCJGaXhlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgYFJpZ2lkQm9keVR5cGU6OktpbmVtYXRpY1Bvc2l0aW9uQmFzZWRgIGJvZHkgY2Fubm90IGJlIGFmZmVjdGVkIGJ5IGFueSBleHRlcm5hbCBmb3JjZXMgYnV0IGNhbiBiZSBjb250cm9sbGVkXG4gICAgICogYnkgdGhlIHVzZXIgYXQgdGhlIHBvc2l0aW9uIGxldmVsIHdoaWxlIGtlZXBpbmcgcmVhbGlzdGljIG9uZS13YXkgaW50ZXJhY3Rpb24gd2l0aCBkeW5hbWljIGJvZGllcy5cbiAgICAgKlxuICAgICAqIE9uZS13YXkgaW50ZXJhY3Rpb24gbWVhbnMgdGhhdCBhIGtpbmVtYXRpYyBib2R5IGNhbiBwdXNoIGEgZHluYW1pYyBib2R5LCBidXQgYSBraW5lbWF0aWMgYm9keVxuICAgICAqIGNhbm5vdCBiZSBwdXNoZWQgYnkgYW55dGhpbmcuIEluIG90aGVyIHdvcmRzLCB0aGUgdHJhamVjdG9yeSBvZiBhIGtpbmVtYXRpYyBib2R5IGNhbiBvbmx5IGJlXG4gICAgICogbW9kaWZpZWQgYnkgdGhlIHVzZXIgYW5kIGlzIGluZGVwZW5kZW50IGZyb20gYW55IGNvbnRhY3Qgb3Igam9pbnQgaXQgaXMgaW52b2x2ZWQgaW4uXG4gICAgICovXG4gICAgUmlnaWRCb2R5VHlwZVtSaWdpZEJvZHlUeXBlW1wiS2luZW1hdGljUG9zaXRpb25CYXNlZFwiXSA9IDJdID0gXCJLaW5lbWF0aWNQb3NpdGlvbkJhc2VkXCI7XG4gICAgLyoqXG4gICAgICogQSBgUmlnaWRCb2R5VHlwZTo6S2luZW1hdGljVmVsb2NpdHlCYXNlZGAgYm9keSBjYW5ub3QgYmUgYWZmZWN0ZWQgYnkgYW55IGV4dGVybmFsIGZvcmNlcyBidXQgY2FuIGJlIGNvbnRyb2xsZWRcbiAgICAgKiBieSB0aGUgdXNlciBhdCB0aGUgdmVsb2NpdHkgbGV2ZWwgd2hpbGUga2VlcGluZyByZWFsaXN0aWMgb25lLXdheSBpbnRlcmFjdGlvbiB3aXRoIGR5bmFtaWMgYm9kaWVzLlxuICAgICAqXG4gICAgICogT25lLXdheSBpbnRlcmFjdGlvbiBtZWFucyB0aGF0IGEga2luZW1hdGljIGJvZHkgY2FuIHB1c2ggYSBkeW5hbWljIGJvZHksIGJ1dCBhIGtpbmVtYXRpYyBib2R5XG4gICAgICogY2Fubm90IGJlIHB1c2hlZCBieSBhbnl0aGluZy4gSW4gb3RoZXIgd29yZHMsIHRoZSB0cmFqZWN0b3J5IG9mIGEga2luZW1hdGljIGJvZHkgY2FuIG9ubHkgYmVcbiAgICAgKiBtb2RpZmllZCBieSB0aGUgdXNlciBhbmQgaXMgaW5kZXBlbmRlbnQgZnJvbSBhbnkgY29udGFjdCBvciBqb2ludCBpdCBpcyBpbnZvbHZlZCBpbi5cbiAgICAgKi9cbiAgICBSaWdpZEJvZHlUeXBlW1JpZ2lkQm9keVR5cGVbXCJLaW5lbWF0aWNWZWxvY2l0eUJhc2VkXCJdID0gM10gPSBcIktpbmVtYXRpY1ZlbG9jaXR5QmFzZWRcIjtcbn0pKFJpZ2lkQm9keVR5cGUgfHwgKFJpZ2lkQm9keVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBIHJpZ2lkLWJvZHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBSaWdpZEJvZHkge1xuICAgIGNvbnN0cnVjdG9yKHJhd1NldCwgY29sbGlkZXJTZXQsIGhhbmRsZSkge1xuICAgICAgICB0aGlzLnJhd1NldCA9IHJhd1NldDtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldCA9IGNvbGxpZGVyU2V0O1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGNvbGxpZGVyU2V0KSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQgPSBjb2xsaWRlclNldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgcmlnaWQtYm9keSBpcyBzdGlsbCB2YWxpZCAoaS5lLiB0aGF0IGl0IGhhc1xuICAgICAqIG5vdCBiZWVuIGRlbGV0ZWQgZnJvbSB0aGUgcmlnaWQtYm9keSBzZXQgeWV0LlxuICAgICAqL1xuICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5jb250YWlucyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2tzIG9yIHVubG9ja3MgdGhlIGFiaWxpdHkgb2YgdGhpcyByaWdpZC1ib2R5IHRvIHRyYW5zbGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsb2NrZWQgLSBJZiBgdHJ1ZWAsIHRoaXMgcmlnaWQtYm9keSB3aWxsIG5vIGxvbmdlciB0cmFuc2xhdGUgZHVlIHRvIGZvcmNlcyBhbmQgaW1wdWxzZXMuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgYmUgYXV0b21hdGljYWxseSBhd2FrZW4gaWYgaXQgaXMgY3VycmVudGx5IGFzbGVlcC5cbiAgICAgKi9cbiAgICBsb2NrVHJhbnNsYXRpb25zKGxvY2tlZCwgd2FrZVVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYkxvY2tUcmFuc2xhdGlvbnModGhpcy5oYW5kbGUsIGxvY2tlZCwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ja3Mgb3IgdW5sb2NrcyB0aGUgYWJpbGl0eSBvZiB0aGlzIHJpZ2lkLWJvZHkgdG8gcm90YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2tlZCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgbm8gbG9uZ2VyIHJvdGF0ZSBkdWUgdG8gdG9ycXVlcyBhbmQgaW1wdWxzZXMuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgYmUgYXV0b21hdGljYWxseSBhd2FrZW4gaWYgaXQgaXMgY3VycmVudGx5IGFzbGVlcC5cbiAgICAgKi9cbiAgICBsb2NrUm90YXRpb25zKGxvY2tlZCwgd2FrZVVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYkxvY2tSb3RhdGlvbnModGhpcy5oYW5kbGUsIGxvY2tlZCwgd2FrZVVwKTtcbiAgICB9XG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBMb2NrcyBvciB1bmxvY2tzIHRoZSBhYmlsaXR5IG9mIHRoaXMgcmlnaWQtYm9keSB0byB0cmFuc2xhdGUgYWxvbmcgaW5kaXZpZHVhbCBjb29yZGluYXRlIGF4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5hYmxlWCAtIElmIGBmYWxzZWAsIHRoaXMgcmlnaWQtYm9keSB3aWxsIG5vIGxvbmdlciB0cmFuc2xhdGUgZHVlIHRvIHRvcnF1ZXMgYW5kIGltcHVsc2VzLCBhbG9uZyB0aGUgWCBjb29yZGluYXRlIGF4aXMuXG4gICAgICogQHBhcmFtIGVuYWJsZVkgLSBJZiBgZmFsc2VgLCB0aGlzIHJpZ2lkLWJvZHkgd2lsbCBubyBsb25nZXIgdHJhbnNsYXRlIGR1ZSB0byB0b3JxdWVzIGFuZCBpbXB1bHNlcywgYWxvbmcgdGhlIFkgY29vcmRpbmF0ZSBheGlzLlxuICAgICAqIEBwYXJhbSBlbmFibGVaIC0gSWYgYGZhbHNlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgbm8gbG9uZ2VyIHRyYW5zbGF0ZSBkdWUgdG8gdG9ycXVlcyBhbmQgaW1wdWxzZXMsIGFsb25nIHRoZSBaIGNvb3JkaW5hdGUgYXhpcy5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gSWYgYHRydWVgLCB0aGlzIHJpZ2lkLWJvZHkgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGF3YWtlbiBpZiBpdCBpcyBjdXJyZW50bHkgYXNsZWVwLlxuICAgICAqL1xuICAgIHJlc3RyaWN0VHJhbnNsYXRpb25zKGVuYWJsZVgsIGVuYWJsZVksIGVuYWJsZVosIHdha2VVcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJSZXN0cmljdFRyYW5zbGF0aW9ucyh0aGlzLmhhbmRsZSwgZW5hYmxlWCwgZW5hYmxlWSwgZW5hYmxlWiwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ja3Mgb3IgdW5sb2NrcyB0aGUgYWJpbGl0eSBvZiB0aGlzIHJpZ2lkLWJvZHkgdG8gcm90YXRlIGFsb25nIGluZGl2aWR1YWwgY29vcmRpbmF0ZSBheGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVuYWJsZVggLSBJZiBgZmFsc2VgLCB0aGlzIHJpZ2lkLWJvZHkgd2lsbCBubyBsb25nZXIgcm90YXRlIGR1ZSB0byB0b3JxdWVzIGFuZCBpbXB1bHNlcywgYWxvbmcgdGhlIFggY29vcmRpbmF0ZSBheGlzLlxuICAgICAqIEBwYXJhbSBlbmFibGVZIC0gSWYgYGZhbHNlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgbm8gbG9uZ2VyIHJvdGF0ZSBkdWUgdG8gdG9ycXVlcyBhbmQgaW1wdWxzZXMsIGFsb25nIHRoZSBZIGNvb3JkaW5hdGUgYXhpcy5cbiAgICAgKiBAcGFyYW0gZW5hYmxlWiAtIElmIGBmYWxzZWAsIHRoaXMgcmlnaWQtYm9keSB3aWxsIG5vIGxvbmdlciByb3RhdGUgZHVlIHRvIHRvcnF1ZXMgYW5kIGltcHVsc2VzLCBhbG9uZyB0aGUgWiBjb29yZGluYXRlIGF4aXMuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIGB0cnVlYCwgdGhpcyByaWdpZC1ib2R5IHdpbGwgYmUgYXV0b21hdGljYWxseSBhd2FrZW4gaWYgaXQgaXMgY3VycmVudGx5IGFzbGVlcC5cbiAgICAgKi9cbiAgICByZXN0cmljdFJvdGF0aW9ucyhlbmFibGVYLCBlbmFibGVZLCBlbmFibGVaLCB3YWtlVXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiUmVzdHJpY3RSb3RhdGlvbnModGhpcy5oYW5kbGUsIGVuYWJsZVgsIGVuYWJsZVksIGVuYWJsZVosIHdha2VVcCk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFRoZSBkb21pbmFuY2UgZ3JvdXAsIGluIFstMTI3LCArMTI3XSB0aGlzIHJpZ2lkLWJvZHkgaXMgcGFydCBvZi5cbiAgICAgKi9cbiAgICBkb21pbmFuY2VHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiRG9taW5hbmNlR3JvdXAodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkb21pbmFuY2UgZ3JvdXAgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGdyb3VwIC0gVGhlIGRvbWluYW5jZSBncm91cCBvZiB0aGlzIHJpZ2lkLWJvZHkuIE11c3QgYmUgYSBzaWduZWQgaW50ZWdlciBpbiB0aGUgcmFuZ2UgWy0xMjcsICsxMjddLlxuICAgICAqL1xuICAgIHNldERvbWluYW5jZUdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0RG9taW5hbmNlR3JvdXAodGhpcy5oYW5kbGUsIGdyb3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIG9yIGRpc2FibGUgQ0NEIChDb250aW51b3VzIENvbGxpc2lvbiBEZXRlY3Rpb24pIGZvciB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5hYmxlZCAtIElmIGB0cnVlYCwgQ0NEIHdpbGwgYmUgZW5hYmxlZCBmb3IgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGVuYWJsZUNjZChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiRW5hYmxlQ2NkKHRoaXMuaGFuZGxlLCBlbmFibGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkLXNwYWNlIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICB0cmFuc2xhdGlvbigpIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucmF3U2V0LnJiVHJhbnNsYXRpb24odGhpcy5oYW5kbGUpO1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcocmVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkLXNwYWNlIG9yaWVudGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICByb3RhdGlvbigpIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucmF3U2V0LnJiUm90YXRpb24odGhpcy5oYW5kbGUpO1xuICAgICAgICByZXR1cm4gUm90YXRpb25PcHMuZnJvbVJhdyhyZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgd29ybGQtc3BhY2UgbmV4dCB0cmFuc2xhdGlvbiBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIHJpZ2lkLWJvZHkgaXMga2luZW1hdGljIHRoaXMgdmFsdWUgaXMgc2V0IGJ5IHRoZSBgc2V0TmV4dEtpbmVtYXRpY1RyYW5zbGF0aW9uYFxuICAgICAqIG1ldGhvZCBhbmQgaXMgdXNlZCBmb3IgZXN0aW1hdGluZyB0aGUga2luZW1hdGljIGJvZHkgdmVsb2NpdHkgYXQgdGhlIG5leHQgdGltZXN0ZXAuXG4gICAgICogRm9yIG5vbi1raW5lbWF0aWMgYm9kaWVzLCB0aGlzIHZhbHVlIGlzIGN1cnJlbnRseSB1bnNwZWNpZmllZC5cbiAgICAgKi9cbiAgICBuZXh0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIGxldCByZXMgPSB0aGlzLnJhd1NldC5yYk5leHRUcmFuc2xhdGlvbih0aGlzLmhhbmRsZSk7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyhyZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgd29ybGQtc3BhY2UgbmV4dCBvcmllbnRhdGlvbiBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIHJpZ2lkLWJvZHkgaXMga2luZW1hdGljIHRoaXMgdmFsdWUgaXMgc2V0IGJ5IHRoZSBgc2V0TmV4dEtpbmVtYXRpY1JvdGF0aW9uYFxuICAgICAqIG1ldGhvZCBhbmQgaXMgdXNlZCBmb3IgZXN0aW1hdGluZyB0aGUga2luZW1hdGljIGJvZHkgdmVsb2NpdHkgYXQgdGhlIG5leHQgdGltZXN0ZXAuXG4gICAgICogRm9yIG5vbi1raW5lbWF0aWMgYm9kaWVzLCB0aGlzIHZhbHVlIGlzIGN1cnJlbnRseSB1bnNwZWNpZmllZC5cbiAgICAgKi9cbiAgICBuZXh0Um90YXRpb24oKSB7XG4gICAgICAgIGxldCByZXMgPSB0aGlzLnJhd1NldC5yYk5leHRSb3RhdGlvbih0aGlzLmhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSb3RhdGlvbk9wcy5mcm9tUmF3KHJlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmEgLSBUaGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIEZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIHNvIGl0IGlzIHByb3Blcmx5IGFmZmVjdGVkIGJ5IGZvcmNlcyBpZiBpdFxuICAgICAqICAgICAgICAgICAgICAgICB3YXNuJ3QgbW92aW5nIGJlZm9yZSBtb2RpZnlpbmcgaXRzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIHNldFRyYW5zbGF0aW9uKHRyYSwgd2FrZVVwKSB7XG4gICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0VHJhbnNsYXRpb24odGhpcy5oYW5kbGUsIHRyYS54LCB0cmEueSwgdHJhLnosIHdha2VVcCk7XG4gICAgICAgIC8vICNlbmRpZlxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaW5lYXIgdmVsb2NpdHkgZm8gdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlbCAtIFRoZSBsaW5lYXIgdmVsb2NpdHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBGb3JjZXMgdGhlIHJpZ2lkLWJvZHkgdG8gd2FrZS11cCBpZiBpdCB3YXMgYXNsZWVwLlxuICAgICAqL1xuICAgIHNldExpbnZlbCh2ZWwsIHdha2VVcCkge1xuICAgICAgICBsZXQgcmF3VmVsID0gVmVjdG9yT3BzLmludG9SYXcodmVsKTtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJTZXRMaW52ZWwodGhpcy5oYW5kbGUsIHJhd1ZlbCwgd2FrZVVwKTtcbiAgICAgICAgcmF3VmVsLmZyZWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIGZhY3RvciBhcHBsaWVkIHRvIHRoZSBncmF2aXR5IGFmZmVjdGluZ1xuICAgICAqIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBncmF2aXR5U2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYkdyYXZpdHlTY2FsZSh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNjYWxlIGZhY3RvciBhcHBsaWVkIHRvIHRoZSBncmF2aXR5IGFmZmVjdGluZ1xuICAgICAqIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWN0b3IgLSBUaGUgc2NhbGUgZmFjdG9yIHRvIHNldC4gQSB2YWx1ZSBvZiAwLjAgbWVhbnNcbiAgICAgKiAgIHRoYXQgdGhpcyByaWdpZC1ib2R5IHdpbGwgb24gbG9uZ2VyIGJlIGFmZmVjdGVkIGJ5IGdyYXZpdHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIEZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIGlmIGl0IHdhcyBhc2xlZXAuXG4gICAgICovXG4gICAgc2V0R3Jhdml0eVNjYWxlKGZhY3Rvciwgd2FrZVVwKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0R3Jhdml0eVNjYWxlKHRoaXMuaGFuZGxlLCBmYWN0b3IsIHdha2VVcCk7XG4gICAgfVxuICAgIC8vICNpZiBESU0zXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcm90YXRpb24gcXVhdGVybmlvbiBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBUaGlzIGRvZXMgbm90aGluZyBpZiBhIHplcm8gcXVhdGVybmlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiB0byBzZXQuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIEZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIHNvIGl0IGlzIHByb3Blcmx5IGFmZmVjdGVkIGJ5IGZvcmNlcyBpZiBpdFxuICAgICAqIHdhc24ndCBtb3ZpbmcgYmVmb3JlIG1vZGlmeWluZyBpdHMgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2V0Um90YXRpb24ocm90LCB3YWtlVXApIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJTZXRSb3RhdGlvbih0aGlzLmhhbmRsZSwgcm90LngsIHJvdC55LCByb3Queiwgcm90LncsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgZm8gdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlbCAtIFRoZSBhbmd1bGFyIHZlbG9jaXR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gRm9yY2VzIHRoZSByaWdpZC1ib2R5IHRvIHdha2UtdXAgaWYgaXQgd2FzIGFzbGVlcC5cbiAgICAgKi9cbiAgICBzZXRBbmd2ZWwodmVsLCB3YWtlVXApIHtcbiAgICAgICAgbGV0IHJhd1ZlbCA9IFZlY3Rvck9wcy5pbnRvUmF3KHZlbCk7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0QW5ndmVsKHRoaXMuaGFuZGxlLCByYXdWZWwsIHdha2VVcCk7XG4gICAgICAgIHJhd1ZlbC5mcmVlKCk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgcmlnaWQgYm9keSBpcyBraW5lbWF0aWMsIHNldHMgaXRzIGZ1dHVyZSB0cmFuc2xhdGlvbiBhZnRlciB0aGUgbmV4dCB0aW1lc3RlcCBpbnRlZ3JhdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBgcmlnaWRCb2R5LnNldFRyYW5zbGF0aW9uYCB0byBtYWtlIHRoZSBkeW5hbWljIG9iamVjdFxuICAgICAqIGludGVyYWN0aW5nIHdpdGggdGhpcyBraW5lbWF0aWMgYm9keSBiZWhhdmUgYXMgZXhwZWN0ZWQuIEludGVybmFsbHksIFJhcGllciB3aWxsIGNvbXB1dGVcbiAgICAgKiBhbiBhcnRpZmljaWFsIHZlbG9jaXR5IGZvciB0aGlzIHJpZ2lkLWJvZHkgZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvbiBhbmQgaXRzIG5leHQga2luZW1hdGljXG4gICAgICogcG9zaXRpb24uIFRoaXMgdmVsb2NpdHkgd2lsbCBiZSB1c2VkIHRvIGNvbXB1dGUgZm9yY2VzIG9uIGR5bmFtaWMgYm9kaWVzIGludGVyYWN0aW5nIHdpdGhcbiAgICAgKiB0aGlzIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdCAtIFRoZSBraW5lbWF0aWMgdHJhbnNsYXRpb24gdG8gc2V0LlxuICAgICAqL1xuICAgIHNldE5leHRLaW5lbWF0aWNUcmFuc2xhdGlvbih0KSB7XG4gICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0TmV4dEtpbmVtYXRpY1RyYW5zbGF0aW9uKHRoaXMuaGFuZGxlLCB0LngsIHQueSwgdC56KTtcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgfVxuICAgIC8vICNpZiBESU0zXG4gICAgLyoqXG4gICAgICogSWYgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYywgc2V0cyBpdHMgZnV0dXJlIHJvdGF0aW9uIGFmdGVyIHRoZSBuZXh0IHRpbWVzdGVwIGludGVncmF0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGByaWdpZEJvZHkuc2V0Um90YXRpb25gIHRvIG1ha2UgdGhlIGR5bmFtaWMgb2JqZWN0XG4gICAgICogaW50ZXJhY3Rpbmcgd2l0aCB0aGlzIGtpbmVtYXRpYyBib2R5IGJlaGF2ZSBhcyBleHBlY3RlZC4gSW50ZXJuYWxseSwgUmFwaWVyIHdpbGwgY29tcHV0ZVxuICAgICAqIGFuIGFydGlmaWNpYWwgdmVsb2NpdHkgZm9yIHRoaXMgcmlnaWQtYm9keSBmcm9tIGl0cyBjdXJyZW50IHBvc2l0aW9uIGFuZCBpdHMgbmV4dCBraW5lbWF0aWNcbiAgICAgKiBwb3NpdGlvbi4gVGhpcyB2ZWxvY2l0eSB3aWxsIGJlIHVzZWQgdG8gY29tcHV0ZSBmb3JjZXMgb24gZHluYW1pYyBib2RpZXMgaW50ZXJhY3Rpbmcgd2l0aFxuICAgICAqIHRoaXMgYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByb3QgLSBUaGUga2luZW1hdGljIHJvdGF0aW9uIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXROZXh0S2luZW1hdGljUm90YXRpb24ocm90KSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0TmV4dEtpbmVtYXRpY1JvdGF0aW9uKHRoaXMuaGFuZGxlLCByb3QueCwgcm90LnksIHJvdC56LCByb3Qudyk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFRoZSBsaW5lYXIgdmVsb2NpdHkgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGxpbnZlbCgpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3U2V0LnJiTGludmVsKHRoaXMuaGFuZGxlKSk7XG4gICAgfVxuICAgIC8vICNpZiBESU0zXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGFuZ3ZlbCgpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3U2V0LnJiQW5ndmVsKHRoaXMuaGFuZGxlKSk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFRoZSBtYXNzIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBtYXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJNYXNzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHV0IHRoaXMgcmlnaWQgYm9keSB0byBzbGVlcC5cbiAgICAgKlxuICAgICAqIEEgc2xlZXBpbmcgYm9keSBubyBsb25nZXIgbW92ZXMgYW5kIGlzIG5vIGxvbmdlciBzaW11bGF0ZWQgYnkgdGhlIHBoeXNpY3MgZW5naW5lIHVubGVzc1xuICAgICAqIGl0IGlzIHdha2VuIHVwLiBJdCBjYW4gYmUgd29rZW4gbWFudWFsbHkgd2l0aCBgdGhpcy53YWtlVXAoKWAgb3IgYXV0b21hdGljYWxseSBkdWUgdG9cbiAgICAgKiBleHRlcm5hbCBmb3JjZXMgbGlrZSBjb250YWN0cy5cbiAgICAgKi9cbiAgICBzbGVlcCgpIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJTbGVlcCh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdha2VzIHRoaXMgcmlnaWQtYm9keSB1cC5cbiAgICAgKlxuICAgICAqIEEgZHluYW1pYyByaWdpZC1ib2R5IHRoYXQgZG9lcyBub3QgbW92ZSBkdXJpbmcgc2V2ZXJhbCBjb25zZWN1dGl2ZSBmcmFtZXMgd2lsbFxuICAgICAqIGJlIHB1dCB0byBzbGVlcCBieSB0aGUgcGh5c2ljcyBlbmdpbmUsIGkuZS4sIGl0IHdpbGwgc3RvcCBiZWluZyBzaW11bGF0ZWQgaW4gb3JkZXJcbiAgICAgKiB0byBhdm9pZCB1c2VsZXNzIGNvbXB1dGF0aW9ucy5cbiAgICAgKiBUaGlzIG1ldGhvZHMgZm9yY2VzIGEgc2xlZXBpbmcgcmlnaWQtYm9keSB0byB3YWtlLXVwLiBUaGlzIGlzIHVzZWZ1bCwgZS5nLiwgYmVmb3JlIG1vZGlmeWluZ1xuICAgICAqIHRoZSBwb3NpdGlvbiBvZiBhIGR5bmFtaWMgYm9keSBzbyB0aGF0IGl0IGlzIHByb3Blcmx5IHNpbXVsYXRlZCBhZnRlcndhcmRzLlxuICAgICAqL1xuICAgIHdha2VVcCgpIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJXYWtlVXAodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyBDQ0QgZW5hYmxlZCBmb3IgdGhpcyByaWdpZC1ib2R5P1xuICAgICAqL1xuICAgIGlzQ2NkRW5hYmxlZCgpIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJJc0NjZEVuYWJsZWQodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGNvbGxpZGVycyBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgbnVtQ29sbGlkZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJOdW1Db2xsaWRlcnModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGBpLXRoYCBjb2xsaWRlciBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaSAtIFRoZSBpbmRleCBvZiB0aGUgY29sbGlkZXIgdG8gcmV0cmlldmUuIE11c3QgYmUgYSBudW1iZXIgaW4gYFswLCB0aGlzLm51bUNvbGxpZGVycygpW2AuXG4gICAgICogICAgICAgICBUaGlzIGluZGV4IGlzICoqbm90KiogdGhlIHNhbWUgYXMgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBjb2xsaWRlcihpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LmdldCh0aGlzLnJhd1NldC5yYkNvbGxpZGVyKHRoaXMuaGFuZGxlLCBpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhpcyByaWdpZC1ib2R5OiBzdGF0aWMsIGR5bmFtaWMsIG9yIGtpbmVtYXRpYy5cbiAgICAgKi9cbiAgICBib2R5VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiQm9keVR5cGUodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBuZXcgc3RhdHVzIGZvciB0aGlzIHJpZ2lkLWJvZHk6IHN0YXRpYywgZHluYW1pYywgb3Iga2luZW1hdGljLlxuICAgICAqL1xuICAgIHNldEJvZHlUeXBlKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiU2V0Qm9keVR5cGUodGhpcy5oYW5kbGUsIHR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHJpZ2lkLWJvZHkgc2xlZXBpbmc/XG4gICAgICovXG4gICAgaXNTbGVlcGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiSXNTbGVlcGluZyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoZSB2ZWxvY2l0eSBvZiB0aGlzIHJpZ2lkLWJvZHkgbm90IHplcm8/XG4gICAgICovXG4gICAgaXNNb3ZpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYklzTW92aW5nKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyByaWdpZC1ib2R5IHN0YXRpYz9cbiAgICAgKi9cbiAgICBpc0ZpeGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJJc0ZpeGVkKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyByaWdpZC1ib2R5IGtpbmVtYXRpYz9cbiAgICAgKi9cbiAgICBpc0tpbmVtYXRpYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiSXNLaW5lbWF0aWModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHJpZ2lkLWJvZHkgZHluYW1pYz9cbiAgICAgKi9cbiAgICBpc0R5bmFtaWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd1NldC5yYklzRHluYW1pYyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsaW5lYXIgZGFtcGluZyBjb2VmZmljaWVudCBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgbGluZWFyRGFtcGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3U2V0LnJiTGluZWFyRGFtcGluZyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhbmd1bGFyIGRhbXBpbmcgY29lZmZpY2llbnQgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGFuZ3VsYXJEYW1waW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdTZXQucmJBbmd1bGFyRGFtcGluZyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpbmVhciBkYW1waW5nIGZhY3RvciBhcHBsaWVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWN0b3IgLSBUaGUgZGFtcGluZyBmYWN0b3IgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldExpbmVhckRhbXBpbmcoZmFjdG9yKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0TGluZWFyRGFtcGluZyh0aGlzLmhhbmRsZSwgZmFjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGluZWFyIGRhbXBpbmcgZmFjdG9yIGFwcGxpZWQgdG8gdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZhY3RvciAtIFRoZSBkYW1waW5nIGZhY3RvciB0byBzZXQuXG4gICAgICovXG4gICAgc2V0QW5ndWxhckRhbXBpbmcoZmFjdG9yKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiU2V0QW5ndWxhckRhbXBpbmcodGhpcy5oYW5kbGUsIGZhY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0byB6ZXJvIHRoZSB1c2VyIGZvcmNlcyAoYnV0IG5vdCB0b3JxdWVzKSBhcHBsaWVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAgKi9cbiAgICByZXNldEZvcmNlcyh3YWtlVXApIHtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJSZXNldEZvcmNlcyh0aGlzLmhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRvIHplcm8gdGhlIHVzZXIgdG9ycXVlcyBhcHBsaWVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAgKi9cbiAgICByZXNldFRvcnF1ZXMod2FrZVVwKSB7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiUmVzZXRUb3JxdWVzKHRoaXMuaGFuZGxlLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZm9yY2UgYXQgdGhlIGNlbnRlci1vZi1tYXNzIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb3JjZSAtIHRoZSB3b3JsZC1zcGFjZSBmb3JjZSB0byBhZGQgdG8gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIHNob3VsZCB0aGUgcmlnaWQtYm9keSBiZSBhdXRvbWF0aWNhbGx5IHdva2VuLXVwP1xuICAgICAqL1xuICAgIGFkZEZvcmNlKGZvcmNlLCB3YWtlVXApIHtcbiAgICAgICAgY29uc3QgcmF3Rm9yY2UgPSBWZWN0b3JPcHMuaW50b1Jhdyhmb3JjZSk7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiQWRkRm9yY2UodGhpcy5oYW5kbGUsIHJhd0ZvcmNlLCB3YWtlVXApO1xuICAgICAgICByYXdGb3JjZS5mcmVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYW4gaW1wdWxzZSBhdCB0aGUgY2VudGVyLW9mLW1hc3Mgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGltcHVsc2UgLSB0aGUgd29ybGQtc3BhY2UgaW1wdWxzZSB0byBhcHBseSBvbiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgICovXG4gICAgYXBwbHlJbXB1bHNlKGltcHVsc2UsIHdha2VVcCkge1xuICAgICAgICBjb25zdCByYXdJbXB1bHNlID0gVmVjdG9yT3BzLmludG9SYXcoaW1wdWxzZSk7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiQXBwbHlJbXB1bHNlKHRoaXMuaGFuZGxlLCByYXdJbXB1bHNlLCB3YWtlVXApO1xuICAgICAgICByYXdJbXB1bHNlLmZyZWUoKTtcbiAgICB9XG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdG9ycXVlIGF0IHRoZSBjZW50ZXItb2YtbWFzcyBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9ycXVlIC0gdGhlIHdvcmxkLXNwYWNlIHRvcnF1ZSB0byBhZGQgdG8gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIHNob3VsZCB0aGUgcmlnaWQtYm9keSBiZSBhdXRvbWF0aWNhbGx5IHdva2VuLXVwP1xuICAgICAqL1xuICAgIGFkZFRvcnF1ZSh0b3JxdWUsIHdha2VVcCkge1xuICAgICAgICBjb25zdCByYXdUb3JxdWUgPSBWZWN0b3JPcHMuaW50b1Jhdyh0b3JxdWUpO1xuICAgICAgICB0aGlzLnJhd1NldC5yYkFkZFRvcnF1ZSh0aGlzLmhhbmRsZSwgcmF3VG9ycXVlLCB3YWtlVXApO1xuICAgICAgICByYXdUb3JxdWUuZnJlZSgpO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvLyAjaWYgRElNM1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYW4gaW1wdWxzaXZlIHRvcnF1ZSBhdCB0aGUgY2VudGVyLW9mLW1hc3Mgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvcnF1ZUltcHVsc2UgLSB0aGUgd29ybGQtc3BhY2UgdG9ycXVlIGltcHVsc2UgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIHNob3VsZCB0aGUgcmlnaWQtYm9keSBiZSBhdXRvbWF0aWNhbGx5IHdva2VuLXVwP1xuICAgICAqL1xuICAgIGFwcGx5VG9ycXVlSW1wdWxzZSh0b3JxdWVJbXB1bHNlLCB3YWtlVXApIHtcbiAgICAgICAgY29uc3QgcmF3VG9ycXVlSW1wdWxzZSA9IFZlY3Rvck9wcy5pbnRvUmF3KHRvcnF1ZUltcHVsc2UpO1xuICAgICAgICB0aGlzLnJhd1NldC5yYkFwcGx5VG9ycXVlSW1wdWxzZSh0aGlzLmhhbmRsZSwgcmF3VG9ycXVlSW1wdWxzZSwgd2FrZVVwKTtcbiAgICAgICAgcmF3VG9ycXVlSW1wdWxzZS5mcmVlKCk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmb3JjZSBhdCB0aGUgZ2l2ZW4gd29ybGQtc3BhY2UgcG9pbnQgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZvcmNlIC0gdGhlIHdvcmxkLXNwYWNlIGZvcmNlIHRvIGFkZCB0byB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSB0aGUgd29ybGQtc3BhY2UgcG9pbnQgd2hlcmUgdGhlIGltcHVsc2UgaXMgdG8gYmUgYXBwbGllZCBvbiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgICovXG4gICAgYWRkRm9yY2VBdFBvaW50KGZvcmNlLCBwb2ludCwgd2FrZVVwKSB7XG4gICAgICAgIGNvbnN0IHJhd0ZvcmNlID0gVmVjdG9yT3BzLmludG9SYXcoZm9yY2UpO1xuICAgICAgICBjb25zdCByYXdQb2ludCA9IFZlY3Rvck9wcy5pbnRvUmF3KHBvaW50KTtcbiAgICAgICAgdGhpcy5yYXdTZXQucmJBZGRGb3JjZUF0UG9pbnQodGhpcy5oYW5kbGUsIHJhd0ZvcmNlLCByYXdQb2ludCwgd2FrZVVwKTtcbiAgICAgICAgcmF3Rm9yY2UuZnJlZSgpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYW4gaW1wdWxzZSBhdCB0aGUgZ2l2ZW4gd29ybGQtc3BhY2UgcG9pbnQgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGltcHVsc2UgLSB0aGUgd29ybGQtc3BhY2UgaW1wdWxzZSB0byBhcHBseSBvbiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSB0aGUgd29ybGQtc3BhY2UgcG9pbnQgd2hlcmUgdGhlIGltcHVsc2UgaXMgdG8gYmUgYXBwbGllZCBvbiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgICovXG4gICAgYXBwbHlJbXB1bHNlQXRQb2ludChpbXB1bHNlLCBwb2ludCwgd2FrZVVwKSB7XG4gICAgICAgIGNvbnN0IHJhd0ltcHVsc2UgPSBWZWN0b3JPcHMuaW50b1JhdyhpbXB1bHNlKTtcbiAgICAgICAgY29uc3QgcmF3UG9pbnQgPSBWZWN0b3JPcHMuaW50b1Jhdyhwb2ludCk7XG4gICAgICAgIHRoaXMucmF3U2V0LnJiQXBwbHlJbXB1bHNlQXRQb2ludCh0aGlzLmhhbmRsZSwgcmF3SW1wdWxzZSwgcmF3UG9pbnQsIHdha2VVcCk7XG4gICAgICAgIHJhd0ltcHVsc2UuZnJlZSgpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJpZ2lkQm9keURlc2Mge1xuICAgIGNvbnN0cnVjdG9yKHN0YXR1cykge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IFZlY3Rvck9wcy56ZXJvcygpO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gUm90YXRpb25PcHMuaWRlbnRpdHkoKTtcbiAgICAgICAgdGhpcy5ncmF2aXR5U2NhbGUgPSAxLjA7XG4gICAgICAgIHRoaXMubGludmVsID0gVmVjdG9yT3BzLnplcm9zKCk7XG4gICAgICAgIHRoaXMubWFzcyA9IDAuMDtcbiAgICAgICAgdGhpcy5jZW50ZXJPZk1hc3MgPSBWZWN0b3JPcHMuemVyb3MoKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnNFbmFibGVkWCA9IHRydWU7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb25zRW5hYmxlZFkgPSB0cnVlO1xuICAgICAgICAvLyAjaWYgRElNM1xuICAgICAgICB0aGlzLmFuZ3ZlbCA9IFZlY3Rvck9wcy56ZXJvcygpO1xuICAgICAgICB0aGlzLnByaW5jaXBhbEFuZ3VsYXJJbmVydGlhID0gVmVjdG9yT3BzLnplcm9zKCk7XG4gICAgICAgIHRoaXMuYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lID0gUm90YXRpb25PcHMuaWRlbnRpdHkoKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnNFbmFibGVkWiA9IHRydWU7XG4gICAgICAgIHRoaXMucm90YXRpb25zRW5hYmxlZFggPSB0cnVlO1xuICAgICAgICB0aGlzLnJvdGF0aW9uc0VuYWJsZWRZID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbnNFbmFibGVkWiA9IHRydWU7XG4gICAgICAgIC8vICNlbmRpZlxuICAgICAgICB0aGlzLmxpbmVhckRhbXBpbmcgPSAwLjA7XG4gICAgICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSAwLjA7XG4gICAgICAgIHRoaXMuY2FuU2xlZXAgPSB0cnVlO1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2NkRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbWluYW5jZUdyb3VwID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByaWdpZC1ib2R5IGRlc2NyaXB0b3IgdXNlZCB0byBidWlsZCBhIGR5bmFtaWMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZHluYW1pYygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuRHluYW1pYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSBwb3NpdGlvbi1iYXNlZCBraW5lbWF0aWMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMga2luZW1hdGljUG9zaXRpb25CYXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuS2luZW1hdGljUG9zaXRpb25CYXNlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSB2ZWxvY2l0eS1iYXNlZCBraW5lbWF0aWMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICBzdGF0aWMga2luZW1hdGljVmVsb2NpdHlCYXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuS2luZW1hdGljVmVsb2NpdHlCYXNlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSBmaXhlZCByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIHN0YXRpYyBmaXhlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuRml4ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJpZ2lkLWJvZHkgZGVzY3JpcHRvciB1c2VkIHRvIGJ1aWxkIGEgZHluYW1pYyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIG1ldGhvZCBoYXMgYmVlbiByZW5hbWVkIHRvIGAuZHluYW1pYygpYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RHluYW1pYygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWdpZEJvZHlEZXNjKFJpZ2lkQm9keVR5cGUuRHluYW1pYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmlnaWQtYm9keSBkZXNjcmlwdG9yIHVzZWQgdG8gYnVpbGQgYSBwb3NpdGlvbi1iYXNlZCBraW5lbWF0aWMgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBtZXRob2QgaGFzIGJlZW4gcmVuYW1lZCB0byBgLmtpbmVtYXRpY1Bvc2l0aW9uQmFzZWQoKWAuXG4gICAgICovXG4gICAgc3RhdGljIG5ld0tpbmVtYXRpY1Bvc2l0aW9uQmFzZWQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmlnaWRCb2R5RGVzYyhSaWdpZEJvZHlUeXBlLktpbmVtYXRpY1Bvc2l0aW9uQmFzZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJpZ2lkLWJvZHkgZGVzY3JpcHRvciB1c2VkIHRvIGJ1aWxkIGEgdmVsb2NpdHktYmFzZWQga2luZW1hdGljIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gYC5raW5lbWF0aWNWZWxvY2l0eUJhc2VkKClgLlxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdLaW5lbWF0aWNWZWxvY2l0eUJhc2VkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJpZ2lkQm9keURlc2MoUmlnaWRCb2R5VHlwZS5LaW5lbWF0aWNWZWxvY2l0eUJhc2VkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByaWdpZC1ib2R5IGRlc2NyaXB0b3IgdXNlZCB0byBidWlsZCBhIGZpeGVkIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gYC5maXhlZCgpYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3U3RhdGljKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJpZ2lkQm9keURlc2MoUmlnaWRCb2R5VHlwZS5GaXhlZCk7XG4gICAgfVxuICAgIHNldERvbWluYW5jZUdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHRoaXMuZG9taW5hbmNlR3JvdXAgPSBncm91cDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vICNpZiBESU0zXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5pdGlhbCB0cmFuc2xhdGlvbiBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhIC0gVGhlIHRyYW5zbGF0aW9uIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXRUcmFuc2xhdGlvbih4LCB5LCB6KSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiB5ICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIHogIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIlRoZSB0cmFuc2xhdGlvbiBjb21wb25lbnRzIG11c3QgYmUgbnVtYmVycy5cIik7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSB7IHg6IHgsIHk6IHksIHo6IHogfTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGluaXRpYWwgcm90YXRpb24gb2YgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJvdCAtIFRoZSByb3RhdGlvbiB0byBzZXQuXG4gICAgICovXG4gICAgc2V0Um90YXRpb24ocm90KSB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3Q7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzY2FsZSBmYWN0b3IgYXBwbGllZCB0byB0aGUgZ3Jhdml0eSBhZmZlY3RpbmdcbiAgICAgKiB0aGUgcmlnaWQtYm9keSBiZWluZyBidWlsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIFRoZSBzY2FsZSBmYWN0b3IuIFNldCB0aGlzIHRvIGAwLjBgIGlmIHRoZSByaWdpZC1ib2R5XG4gICAgICogICBuZWVkcyB0byBpZ25vcmUgZ3Jhdml0eS5cbiAgICAgKi9cbiAgICBzZXRHcmF2aXR5U2NhbGUoc2NhbGUpIHtcbiAgICAgICAgdGhpcy5ncmF2aXR5U2NhbGUgPSBzY2FsZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGluaXRpYWwgbWFzcyBvZiB0aGUgcmlnaWQtYm9keSBiZWluZyBidWlsdCwgYmVmb3JlIGFkZGluZyBjb2xsaWRlcnMnIGNvbnRyaWJ1dGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWFzcyDiiJIgVGhlIGluaXRpYWwgbWFzcyBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICovXG4gICAgc2V0QWRkaXRpb25hbE1hc3MobWFzcykge1xuICAgICAgICB0aGlzLm1hc3MgPSBtYXNzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbml0aWFsIGxpbmVhciB2ZWxvY2l0eSBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geCAtIFRoZSBsaW5lYXIgdmVsb2NpdHkgdG8gc2V0IGFsb25nIHRoZSBgeGAgYXhpcy5cbiAgICAgKiBAcGFyYW0geSAtIFRoZSBsaW5lYXIgdmVsb2NpdHkgdG8gc2V0IGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0geiAtIFRoZSBsaW5lYXIgdmVsb2NpdHkgdG8gc2V0IGFsb25nIHRoZSBgemAgYXhpcy5cbiAgICAgKi9cbiAgICBzZXRMaW52ZWwoeCwgeSwgeikge1xuICAgICAgICBpZiAodHlwZW9mIHggIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiB6ICE9IFwibnVtYmVyXCIpXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJUaGUgbGludmVsIGNvbXBvbmVudHMgbXVzdCBiZSBudW1iZXJzLlwiKTtcbiAgICAgICAgdGhpcy5saW52ZWwgPSB7IHg6IHgsIHk6IHksIHo6IHogfTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGluaXRpYWwgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVsIC0gVGhlIGFuZ3VsYXIgdmVsb2NpdHkgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldEFuZ3ZlbCh2ZWwpIHtcbiAgICAgICAgdGhpcy5hbmd2ZWwgPSB2ZWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXNzIHByb3BlcnRpZXMgb2YgdGhlIHJpZ2lkLWJvZHkgYmVpbmcgYnVpbHQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIGZpbmFsIG1hc3MgcHJvcGVydGllcyBvZiB0aGUgcmlnaWQtYm9kaWVzIGRlcGVuZHNcbiAgICAgKiBvbiB0aGUgaW5pdGlhbCBtYXNzLXByb3BlcnRpZXMgb2YgdGhlIHJpZ2lkLWJvZHkgKHNldCBieSB0aGlzIG1ldGhvZClcbiAgICAgKiB0byB3aGljaCBpcyBhZGRlZCB0aGUgY29udHJpYnV0aW9ucyBvZiBhbGwgdGhlIGNvbGxpZGVycyB3aXRoIG5vbi16ZXJvIGRlbnNpdHlcbiAgICAgKiBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBUaGVyZWZvcmUsIGlmIHlvdSB3YW50IHlvdXIgcHJvdmlkZWQgbWFzcyBwcm9wZXJ0aWVzIHRvIGJlIHRoZSBmaW5hbFxuICAgICAqIG1hc3MgcHJvcGVydGllcyBvZiB5b3VyIHJpZ2lkLWJvZHksIGRvbid0IGF0dGFjaCBjb2xsaWRlcnMgdG8gaXQsIG9yXG4gICAgICogb25seSBhdHRhY2ggY29sbGlkZXJzIHdpdGggZGVuc2l0aWVzIGVxdWFsIHRvIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWFzcyDiiJIgVGhlIGluaXRpYWwgbWFzcyBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICogQHBhcmFtIGNlbnRlck9mTWFzcyDiiJIgVGhlIGluaXRpYWwgY2VudGVyLW9mLW1hc3Mgb2YgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlLlxuICAgICAqIEBwYXJhbSBwcmluY2lwYWxBbmd1bGFySW5lcnRpYSDiiJIgVGhlIGluaXRpYWwgcHJpbmNpcGFsIGFuZ3VsYXIgaW5lcnRpYSBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlc2UgYXJlIHRoZSBlaWdlbnZhbHVlcyBvZiB0aGUgYW5ndWxhciBpbmVydGlhIG1hdHJpeC5cbiAgICAgKiBAcGFyYW0gYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lIOKIkiBUaGUgaW5pdGlhbCBsb2NhbCBhbmd1bGFyIGluZXJ0aWEgZnJhbWUgb2YgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGVzZSBhcmUgdGhlIGVpZ2VudmVjdG9ycyBvZiB0aGUgYW5ndWxhciBpbmVydGlhIG1hdHJpeC5cbiAgICAgKi9cbiAgICBzZXRBZGRpdGlvbmFsTWFzc1Byb3BlcnRpZXMobWFzcywgY2VudGVyT2ZNYXNzLCBwcmluY2lwYWxBbmd1bGFySW5lcnRpYSwgYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lKSB7XG4gICAgICAgIHRoaXMubWFzcyA9IG1hc3M7XG4gICAgICAgIHRoaXMuY2VudGVyT2ZNYXNzID0gY2VudGVyT2ZNYXNzO1xuICAgICAgICB0aGlzLnByaW5jaXBhbEFuZ3VsYXJJbmVydGlhID0gcHJpbmNpcGFsQW5ndWxhckluZXJ0aWE7XG4gICAgICAgIHRoaXMuYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lID0gYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFzcyBwcm9wZXJ0aWVzIG9mIHRoZSByaWdpZC1ib2R5IGJlaW5nIGJ1aWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhIOKIkiBUaGUgaW5pdGlhbCBwcmluY2lwYWwgYW5ndWxhciBpbmVydGlhIG9mIHRoZSByaWdpZC1ib2R5IHRvIGNyZWF0ZS5cbiAgICAgKi9cbiAgICBzZXRBZGRpdGlvbmFsUHJpbmNpcGFsQW5ndWxhckluZXJ0aWEocHJpbmNpcGFsQW5ndWxhckluZXJ0aWEpIHtcbiAgICAgICAgdGhpcy5wcmluY2lwYWxBbmd1bGFySW5lcnRpYSA9IHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3cgdHJhbnNsYXRpb24gb2YgdGhpcyByaWdpZC1ib2R5IG9ubHkgYWxvbmcgc3BlY2lmaWMgYXhlcy5cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25zRW5hYmxlZFggLSBBcmUgdHJhbnNsYXRpb25zIGFsb25nIHRoZSBYIGF4aXMgZW5hYmxlZD9cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25zRW5hYmxlZFkgLSBBcmUgdHJhbnNsYXRpb25zIGFsb25nIHRoZSB5IGF4aXMgZW5hYmxlZD9cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25zRW5hYmxlZFogLSBBcmUgdHJhbnNsYXRpb25zIGFsb25nIHRoZSBaIGF4aXMgZW5hYmxlZD9cbiAgICAgKi9cbiAgICByZXN0cmljdFRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbnNFbmFibGVkWCwgdHJhbnNsYXRpb25zRW5hYmxlZFksIHRyYW5zbGF0aW9uc0VuYWJsZWRaKSB7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb25zRW5hYmxlZFggPSB0cmFuc2xhdGlvbnNFbmFibGVkWDtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnNFbmFibGVkWSA9IHRyYW5zbGF0aW9uc0VuYWJsZWRZO1xuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uc0VuYWJsZWRaID0gdHJhbnNsYXRpb25zRW5hYmxlZFo7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2NrcyBhbGwgdHJhbnNsYXRpb25zIHRoYXQgd291bGQgaGF2ZSByZXN1bHRlZCBmcm9tIGZvcmNlcyBvblxuICAgICAqIHRoZSBjcmVhdGVkIHJpZ2lkLWJvZHkuXG4gICAgICovXG4gICAgbG9ja1RyYW5zbGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdHJpY3RUcmFuc2xhdGlvbnMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93IHJvdGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keSBvbmx5IGFsb25nIHNwZWNpZmljIGF4ZXMuXG4gICAgICogQHBhcmFtIHJvdGF0aW9uc0VuYWJsZWRYIC0gQXJlIHJvdGF0aW9ucyBhbG9uZyB0aGUgWCBheGlzIGVuYWJsZWQ/XG4gICAgICogQHBhcmFtIHJvdGF0aW9uc0VuYWJsZWRZIC0gQXJlIHJvdGF0aW9ucyBhbG9uZyB0aGUgeSBheGlzIGVuYWJsZWQ/XG4gICAgICogQHBhcmFtIHJvdGF0aW9uc0VuYWJsZWRaIC0gQXJlIHJvdGF0aW9ucyBhbG9uZyB0aGUgWiBheGlzIGVuYWJsZWQ/XG4gICAgICovXG4gICAgcmVzdHJpY3RSb3RhdGlvbnMocm90YXRpb25zRW5hYmxlZFgsIHJvdGF0aW9uc0VuYWJsZWRZLCByb3RhdGlvbnNFbmFibGVkWikge1xuICAgICAgICB0aGlzLnJvdGF0aW9uc0VuYWJsZWRYID0gcm90YXRpb25zRW5hYmxlZFg7XG4gICAgICAgIHRoaXMucm90YXRpb25zRW5hYmxlZFkgPSByb3RhdGlvbnNFbmFibGVkWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbnNFbmFibGVkWiA9IHJvdGF0aW9uc0VuYWJsZWRaO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ja3MgYWxsIHJvdGF0aW9ucyB0aGF0IHdvdWxkIGhhdmUgcmVzdWx0ZWQgZnJvbSBmb3JjZXMgb25cbiAgICAgKiB0aGUgY3JlYXRlZCByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIGxvY2tSb3RhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3RyaWN0Um90YXRpb25zKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaW5lYXIgZGFtcGluZyBvZiB0aGUgcmlnaWQtYm9keSB0byBjcmVhdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgcHJvZ3Jlc3NpdmVseSBzbG93ZG93biB0aGUgdHJhbnNsYXRpb25hbCBtb3ZlbWVudCBvZiB0aGUgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYW1waW5nIC0gVGhlIGFuZ3VsYXIgZGFtcGluZyBjb2VmZmljaWVudC4gU2hvdWxkIGJlID49IDAuIFRoZSBoaWdoZXIgdGhpc1xuICAgICAqICAgICAgICAgICAgICAgICAgdmFsdWUgaXMsIHRoZSBzdHJvbmdlciB0aGUgdHJhbnNsYXRpb25hbCBzbG93ZG93biB3aWxsIGJlLlxuICAgICAqL1xuICAgIHNldExpbmVhckRhbXBpbmcoZGFtcGluZykge1xuICAgICAgICB0aGlzLmxpbmVhckRhbXBpbmcgPSBkYW1waW5nO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYW5ndWxhciBkYW1waW5nIG9mIHRoZSByaWdpZC1ib2R5IHRvIGNyZWF0ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCBwcm9ncmVzc2l2ZWx5IHNsb3dkb3duIHRoZSByb3RhdGlvbmFsIG1vdmVtZW50IG9mIHRoZSByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhbXBpbmcgLSBUaGUgYW5ndWxhciBkYW1waW5nIGNvZWZmaWNpZW50LiBTaG91bGQgYmUgPj0gMC4gVGhlIGhpZ2hlciB0aGlzXG4gICAgICogICAgICAgICAgICAgICAgICB2YWx1ZSBpcywgdGhlIHN0cm9uZ2VyIHRoZSByb3RhdGlvbmFsIHNsb3dkb3duIHdpbGwgYmUuXG4gICAgICovXG4gICAgc2V0QW5ndWxhckRhbXBpbmcoZGFtcGluZykge1xuICAgICAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gZGFtcGluZztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciBvciBub3QgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlIGNhbiBzbGVlcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYW4gLSB0cnVlIGlmIHRoZSByaWdpZC1ib2R5IGNhbiBzbGVlcCwgZmFsc2UgaWYgaXQgY2FuJ3QuXG4gICAgICovXG4gICAgc2V0Q2FuU2xlZXAoY2FuKSB7XG4gICAgICAgIHRoaXMuY2FuU2xlZXAgPSBjYW47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgb3Igbm90IHRoZSByaWdpZC1ib2R5IGlzIHRvIGJlIGNyZWF0ZWQgYXNsZWVwLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbiAtIHRydWUgaWYgdGhlIHJpZ2lkLWJvZHkgc2hvdWxkIGJlIGluIHNsZWVwLCBkZWZhdWx0IGZhbHNlLlxuICAgICAqL1xuICAgIHNldFNsZWVwaW5nKHNsZWVwaW5nKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSBzbGVlcGluZztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciBDb250aW51b3VzIENvbGxpc2lvbiBEZXRlY3Rpb24gKENDRCkgaXMgZW5hYmxlZCBmb3IgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGVuYWJsZWQgLSB0cnVlIGlmIHRoZSByaWdpZC1ib2R5IGhhcyBDQ0QgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBzZXRDY2RFbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jY2RFbmFibGVkID0gZW5hYmxlZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHVzZXItZGVmaW5lZCBvYmplY3Qgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJEYXRhIC0gVGhlIHVzZXItZGVmaW5lZCBvYmplY3QgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldFVzZXJEYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy51c2VyRGF0YSA9IGRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJpZ2lkX2JvZHkuanMubWFwIiwiaW1wb3J0IHsgUmF3UmlnaWRCb2R5U2V0IH0gZnJvbSBcIi4uL3Jhd1wiO1xuaW1wb3J0IHsgQ29hcmVuYSB9IGZyb20gXCIuLi9jb2FyZW5hXCI7XG5pbXBvcnQgeyBWZWN0b3JPcHMsIFJvdGF0aW9uT3BzIH0gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQgeyBSaWdpZEJvZHkgfSBmcm9tICcuL3JpZ2lkX2JvZHknO1xuLyoqXG4gKiBBIHNldCBvZiByaWdpZCBib2RpZXMgdGhhdCBjYW4gYmUgaGFuZGxlZCBieSBhIHBoeXNpY3MgcGlwZWxpbmUuXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYHJpZ2lkQm9keVNldC5mcmVlKClgXG4gKiBvbmNlIHlvdSBhcmUgZG9uZSB1c2luZyBpdCAoYW5kIGFsbCB0aGUgcmlnaWQtYm9kaWVzIGl0IGNyZWF0ZWQpLlxuICovXG5leHBvcnQgY2xhc3MgUmlnaWRCb2R5U2V0IHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd1JpZ2lkQm9keVNldCgpO1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBDb2FyZW5hKCk7XG4gICAgICAgIC8vIGRlc2VyaWFsaXplXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJhdy5mb3JFYWNoUmlnaWRCb2R5SGFuZGxlKChoYW5kbGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXQoaGFuZGxlLCBuZXcgUmlnaWRCb2R5KHJhdywgbnVsbCwgaGFuZGxlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIHJpZ2lkLWJvZHkgc2V0LlxuICAgICAqL1xuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMucmF3LmZyZWUoKTtcbiAgICAgICAgdGhpcy5yYXcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMubWFwID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QsIGRvIG5vdCBjYWxsIHRoaXMgZXhwbGljaXRseS5cbiAgICAgKi9cbiAgICBmaW5hbGl6ZURlc2VyaWFsaXphdGlvbihjb2xsaWRlclNldCkge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKHJiID0+IHJiLmZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGNvbGxpZGVyU2V0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQtYm9keSBhbmQgcmV0dXJuIGl0cyBpbnRlZ2VyIGhhbmRsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZXNjIC0gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSByaWdpZC1ib2R5IHRvIGNyZWF0ZS5cbiAgICAgKi9cbiAgICBjcmVhdGVSaWdpZEJvZHkoY29sbGlkZXJTZXQsIGRlc2MpIHtcbiAgICAgICAgbGV0IHJhd1RyYSA9IFZlY3Rvck9wcy5pbnRvUmF3KGRlc2MudHJhbnNsYXRpb24pO1xuICAgICAgICBsZXQgcmF3Um90ID0gUm90YXRpb25PcHMuaW50b1JhdyhkZXNjLnJvdGF0aW9uKTtcbiAgICAgICAgbGV0IHJhd0x2ID0gVmVjdG9yT3BzLmludG9SYXcoZGVzYy5saW52ZWwpO1xuICAgICAgICBsZXQgcmF3Q29tID0gVmVjdG9yT3BzLmludG9SYXcoZGVzYy5jZW50ZXJPZk1hc3MpO1xuICAgICAgICAvLyAjaWYgRElNM1xuICAgICAgICBsZXQgcmF3QXYgPSBWZWN0b3JPcHMuaW50b1JhdyhkZXNjLmFuZ3ZlbCk7XG4gICAgICAgIGxldCByYXdQcmluY2lwYWxJbmVydGlhID0gVmVjdG9yT3BzLmludG9SYXcoZGVzYy5wcmluY2lwYWxBbmd1bGFySW5lcnRpYSk7XG4gICAgICAgIGxldCByYXdJbmVydGlhRnJhbWUgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KGRlc2MuYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lKTtcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIGxldCBoYW5kbGUgPSB0aGlzLnJhdy5jcmVhdGVSaWdpZEJvZHkocmF3VHJhLCByYXdSb3QsIGRlc2MuZ3Jhdml0eVNjYWxlLCBkZXNjLm1hc3MsIHJhd0NvbSwgcmF3THYsIFxuICAgICAgICAvLyAjaWYgRElNM1xuICAgICAgICByYXdBdiwgcmF3UHJpbmNpcGFsSW5lcnRpYSwgcmF3SW5lcnRpYUZyYW1lLCBkZXNjLnRyYW5zbGF0aW9uc0VuYWJsZWRYLCBkZXNjLnRyYW5zbGF0aW9uc0VuYWJsZWRZLCBkZXNjLnRyYW5zbGF0aW9uc0VuYWJsZWRaLCBkZXNjLnJvdGF0aW9uc0VuYWJsZWRYLCBkZXNjLnJvdGF0aW9uc0VuYWJsZWRZLCBkZXNjLnJvdGF0aW9uc0VuYWJsZWRaLCBcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIGRlc2MubGluZWFyRGFtcGluZywgZGVzYy5hbmd1bGFyRGFtcGluZywgZGVzYy5zdGF0dXMsIGRlc2MuY2FuU2xlZXAsIGRlc2Muc2xlZXBpbmcsIGRlc2MuY2NkRW5hYmxlZCwgZGVzYy5kb21pbmFuY2VHcm91cCk7XG4gICAgICAgIHJhd1RyYS5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd0x2LmZyZWUoKTtcbiAgICAgICAgcmF3Q29tLmZyZWUoKTtcbiAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgcmF3QXYuZnJlZSgpO1xuICAgICAgICByYXdQcmluY2lwYWxJbmVydGlhLmZyZWUoKTtcbiAgICAgICAgcmF3SW5lcnRpYUZyYW1lLmZyZWUoKTtcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgUmlnaWRCb2R5KHRoaXMucmF3LCBjb2xsaWRlclNldCwgaGFuZGxlKTtcbiAgICAgICAgYm9keS51c2VyRGF0YSA9IGRlc2MudXNlckRhdGE7XG4gICAgICAgIHRoaXMubWFwLnNldChoYW5kbGUsIGJvZHkpO1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHJpZ2lkLWJvZHkgZnJvbSB0aGlzIHNldC5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCBhbHNvIHJlbW92ZSBhbGwgdGhlIGNvbGxpZGVycyBhbmQgam9pbnRzIGF0dGFjaGVkIHRvIHRoZSByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgcmlnaWQtYm9keSB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRoYXQgbWF5IGNvbnRhaW4gY29sbGlkZXJzIGF0dGFjaGVkIHRvIHRoZSByZW1vdmVkIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIGltcHVsc2VKb2ludHMgLSBUaGUgc2V0IG9mIGltcHVsc2Ugam9pbnRzIHRoYXQgbWF5IGNvbnRhaW4gam9pbnRzIGF0dGFjaGVkIHRvIHRoZSByZW1vdmVkIHJpZ2lkLWJvZHkuXG4gICAgICogQHBhcmFtIG11bHRpYm9keUpvaW50cyAtIFRoZSBzZXQgb2YgbXVsdGlib2R5IGpvaW50cyB0aGF0IG1heSBjb250YWluIGpvaW50cyBhdHRhY2hlZCB0byB0aGUgcmVtb3ZlZCByaWdpZC1ib2R5LlxuICAgICAqL1xuICAgIHJlbW92ZShoYW5kbGUsIGlzbGFuZHMsIGNvbGxpZGVycywgaW1wdWxzZUpvaW50cywgbXVsdGlib2R5Sm9pbnRzKSB7XG4gICAgICAgIC8vIFVubWFwIHRoZSBlbnRpdGllcyB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugb2YgdGhlIHJpZ2lkLWJvZHkgcmVtb3ZhbHMuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yYXcucmJOdW1Db2xsaWRlcnMoaGFuZGxlKTsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb2xsaWRlcnMudW5tYXAodGhpcy5yYXcucmJDb2xsaWRlcihoYW5kbGUsIGkpKTtcbiAgICAgICAgfVxuICAgICAgICBpbXB1bHNlSm9pbnRzLmZvckVhY2hKb2ludEhhbmRsZUF0dGFjaGVkVG9SaWdpZEJvZHkoaGFuZGxlLCAoaGFuZGxlKSA9PiBpbXB1bHNlSm9pbnRzLnVubWFwKGhhbmRsZSkpO1xuICAgICAgICBtdWx0aWJvZHlKb2ludHMuZm9yRWFjaEpvaW50SGFuZGxlQXR0YWNoZWRUb1JpZ2lkQm9keShoYW5kbGUsIChoYW5kbGUpID0+IG11bHRpYm9keUpvaW50cy51bm1hcChoYW5kbGUpKTtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSByaWdpZC1ib2R5LlxuICAgICAgICB0aGlzLnJhdy5yZW1vdmUoaGFuZGxlLCBpc2xhbmRzLnJhdywgY29sbGlkZXJzLnJhdywgaW1wdWxzZUpvaW50cy5yYXcsIG11bHRpYm9keUpvaW50cy5yYXcpO1xuICAgICAgICB0aGlzLm1hcC5kZWxldGUoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByaWdpZC1ib2RpZXMgb24gdGhpcyBzZXQuXG4gICAgICovXG4gICAgbGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAubGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvZXMgdGhpcyBzZXQgY29udGFpbiBhIHJpZ2lkLWJvZHkgd2l0aCB0aGUgZ2l2ZW4gaGFuZGxlP1xuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSByaWdpZC1ib2R5IGhhbmRsZSB0byBjaGVjay5cbiAgICAgKi9cbiAgICBjb250YWlucyhoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGhhbmRsZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcmlnaWQtYm9keSB3aXRoIHRoZSBnaXZlbiBoYW5kbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGhhbmRsZSBvZiB0aGUgcmlnaWQtYm9keSB0byByZXRyaWV2ZS5cbiAgICAgKi9cbiAgICBnZXQoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5nZXQoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gY2xvc3VyZSB0byBlYWNoIHJpZ2lkLWJvZHkgY29udGFpbmVkIGJ5IHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGYgLSBUaGUgY2xvc3VyZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBmb3JFYWNoKGYpIHtcbiAgICAgICAgdGhpcy5tYXAuZm9yRWFjaChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gY2xvc3VyZSB0byBlYWNoIGFjdGl2ZSByaWdpZC1ib2RpZXMgY29udGFpbmVkIGJ5IHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQSByaWdpZC1ib2R5IGlzIGFjdGl2ZSBpZiBpdCBpcyBub3Qgc2xlZXBpbmcsIGkuZS4sIGlmIGl0IG1vdmVkIHJlY2VudGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGYgLSBUaGUgY2xvc3VyZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBmb3JFYWNoQWN0aXZlUmlnaWRCb2R5KGlzbGFuZHMsIGYpIHtcbiAgICAgICAgaXNsYW5kcy5mb3JFYWNoQWN0aXZlUmlnaWRCb2R5SGFuZGxlKChoYW5kbGUpID0+IHtcbiAgICAgICAgICAgIGYodGhpcy5nZXQoaGFuZGxlKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCByaWdpZC1ib2RpZXMgaW4gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyByaWdpZC1ib2RpZXMgbGlzdC5cbiAgICAgKi9cbiAgICBnZXRBbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5nZXRBbGwoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yaWdpZF9ib2R5X3NldC5qcy5tYXAiLCJpbXBvcnQgeyB2ZXJzaW9uIGFzIHZlcnMgfSBmcm9tIFwiLi9yYXdcIjtcbmV4cG9ydCBmdW5jdGlvbiB2ZXJzaW9uKCkge1xuICAgIHJldHVybiB2ZXJzKCk7XG59XG5leHBvcnQgKiBmcm9tICcuL21hdGgnO1xuZXhwb3J0ICogZnJvbSAnLi9keW5hbWljcyc7XG5leHBvcnQgKiBmcm9tICcuL2dlb21ldHJ5JztcbmV4cG9ydCAqIGZyb20gJy4vcGlwZWxpbmUnO1xuZXhwb3J0ICogZnJvbSAnLi9pbml0Jztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cG9ydHMuanMubWFwIiwiaW1wb3J0IHsgUmF3QnJvYWRQaGFzZSB9IGZyb20gXCIuLi9yYXdcIjtcbi8qKlxuICogVGhlIGJyb2FkLXBoYXNlIHVzZWQgZm9yIGNvYXJzZSBjb2xsaXNpb24tZGV0ZWN0aW9uLlxuICpcbiAqIFRvIGF2b2lkIGxlYWtpbmcgV0FTTSByZXNvdXJjZXMsIHRoaXMgTVVTVCBiZSBmcmVlZCBtYW51YWxseSB3aXRoIGBicm9hZFBoYXNlLmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0LlxuICovXG5leHBvcnQgY2xhc3MgQnJvYWRQaGFzZSB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdCcm9hZFBoYXNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgYnJvYWQtcGhhc2UuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm9hZF9waGFzZS5qcy5tYXAiLCJpbXBvcnQgeyBSb3RhdGlvbk9wcywgVmVjdG9yT3BzIH0gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQgeyBDb2VmZmljaWVudENvbWJpbmVSdWxlIH0gZnJvbSAnLi4vZHluYW1pY3MnO1xuaW1wb3J0IHsgU2hhcGUsIEN1Ym9pZCwgQmFsbCwgQ2Fwc3VsZSwgVHJpTWVzaCwgUG9seWxpbmUsIEhlaWdodGZpZWxkLCBTZWdtZW50LCBUcmlhbmdsZSwgUm91bmRUcmlhbmdsZSwgUm91bmRDdWJvaWQsIFxuLy8gI2lmIERJTTNcbkN5bGluZGVyLCBSb3VuZEN5bGluZGVyLCBDb25lLCBSb3VuZENvbmUsIENvbnZleFBvbHloZWRyb24sIFJvdW5kQ29udmV4UG9seWhlZHJvbixcbi8vICNlbmRpZlxuIH0gZnJvbSAnLi9zaGFwZSc7XG5pbXBvcnQgeyBSYXlJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi9yYXlcIjtcbmltcG9ydCB7IFBvaW50UHJvamVjdGlvbiB9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQgeyBTaGFwZUNvbGxpZGVyVE9JLCBTaGFwZVRPSSB9IGZyb20gXCIuL3RvaVwiO1xuaW1wb3J0IHsgU2hhcGVDb250YWN0IH0gZnJvbSBcIi4vY29udGFjdFwiO1xuLy8vIEZsYWdzIGFmZmVjdGluZyB3aGV0aGVyIG9yIG5vdCBjb2xsaXNpb24tZGV0ZWN0aW9uIGhhcHBlbnMgYmV0d2VlbiB0d28gY29sbGlkZXJzXG4vLy8gZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIHJpZ2lkLWJvZGllcyB0aGV5IGFyZSBhdHRhY2hlZCB0by5cbmV4cG9ydCB2YXIgQWN0aXZlQ29sbGlzaW9uVHlwZXM7XG4oZnVuY3Rpb24gKEFjdGl2ZUNvbGxpc2lvblR5cGVzKSB7XG4gICAgLy8vIEVuYWJsZSBjb2xsaXNpb24tZGV0ZWN0aW9uIGJldHdlZW4gYSBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGR5bmFtaWMgYm9keVxuICAgIC8vLyBhbmQgYW5vdGhlciBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGR5bmFtaWMgYm9keS5cbiAgICBBY3RpdmVDb2xsaXNpb25UeXBlc1tBY3RpdmVDb2xsaXNpb25UeXBlc1tcIkRZTkFNSUNfRFlOQU1JQ1wiXSA9IDFdID0gXCJEWU5BTUlDX0RZTkFNSUNcIjtcbiAgICAvLy8gRW5hYmxlIGNvbGxpc2lvbi1kZXRlY3Rpb24gYmV0d2VlbiBhIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEgZHluYW1pYyBib2R5XG4gICAgLy8vIGFuZCBhbm90aGVyIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEga2luZW1hdGljIGJvZHkuXG4gICAgQWN0aXZlQ29sbGlzaW9uVHlwZXNbQWN0aXZlQ29sbGlzaW9uVHlwZXNbXCJEWU5BTUlDX0tJTkVNQVRJQ1wiXSA9IDEyXSA9IFwiRFlOQU1JQ19LSU5FTUFUSUNcIjtcbiAgICAvLy8gRW5hYmxlIGNvbGxpc2lvbi1kZXRlY3Rpb24gYmV0d2VlbiBhIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEgZHluYW1pYyBib2R5XG4gICAgLy8vIGFuZCBhbm90aGVyIGNvbGxpZGVyIGF0dGFjaGVkIHRvIGEgZml4ZWQgYm9keSAob3Igbm90IGF0dGFjaGVkIHRvIGFueSBib2R5KS5cbiAgICBBY3RpdmVDb2xsaXNpb25UeXBlc1tBY3RpdmVDb2xsaXNpb25UeXBlc1tcIkRZTkFNSUNfRklYRURcIl0gPSAyXSA9IFwiRFlOQU1JQ19GSVhFRFwiO1xuICAgIC8vLyBFbmFibGUgY29sbGlzaW9uLWRldGVjdGlvbiBiZXR3ZWVuIGEgY29sbGlkZXIgYXR0YWNoZWQgdG8gYSBraW5lbWF0aWMgYm9keVxuICAgIC8vLyBhbmQgYW5vdGhlciBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGtpbmVtYXRpYyBib2R5LlxuICAgIEFjdGl2ZUNvbGxpc2lvblR5cGVzW0FjdGl2ZUNvbGxpc2lvblR5cGVzW1wiS0lORU1BVElDX0tJTkVNQVRJQ1wiXSA9IDUyMjI0XSA9IFwiS0lORU1BVElDX0tJTkVNQVRJQ1wiO1xuICAgIC8vLyBFbmFibGUgY29sbGlzaW9uLWRldGVjdGlvbiBiZXR3ZWVuIGEgY29sbGlkZXIgYXR0YWNoZWQgdG8gYSBraW5lbWF0aWMgYm9keVxuICAgIC8vLyBhbmQgYW5vdGhlciBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGZpeGVkIGJvZHkgKG9yIG5vdCBhdHRhY2hlZCB0byBhbnkgYm9keSkuXG4gICAgQWN0aXZlQ29sbGlzaW9uVHlwZXNbQWN0aXZlQ29sbGlzaW9uVHlwZXNbXCJLSU5FTUFUSUNfRklYRURcIl0gPSA4NzA0XSA9IFwiS0lORU1BVElDX0ZJWEVEXCI7XG4gICAgLy8vIEVuYWJsZSBjb2xsaXNpb24tZGV0ZWN0aW9uIGJldHdlZW4gYSBjb2xsaWRlciBhdHRhY2hlZCB0byBhIGZpeGVkIGJvZHkgKG9yXG4gICAgLy8vIG5vdCBhdHRhY2hlZCB0byBhbnkgYm9keSkgYW5kIGFub3RoZXIgY29sbGlkZXIgYXR0YWNoZWQgdG8gYSBmaXhlZCBib2R5IChvclxuICAgIC8vLyBub3QgYXR0YWNoZWQgdG8gYW55IGJvZHkpLlxuICAgIEFjdGl2ZUNvbGxpc2lvblR5cGVzW0FjdGl2ZUNvbGxpc2lvblR5cGVzW1wiRklYRURfRklYRURcIl0gPSAzMl0gPSBcIkZJWEVEX0ZJWEVEXCI7XG4gICAgLy8vIFRoZSBkZWZhdWx0IGFjdGl2ZSBjb2xsaXNpb24gdHlwZXMsIGVuYWJsaW5nIGNvbGxpc2lvbnMgYmV0d2VlbiBhIGR5bmFtaWMgYm9keVxuICAgIC8vLyBhbmQgYW5vdGhlciBib2R5IG9mIGFueSB0eXBlLCBidXQgbm90IGVuYWJsaW5nIGNvbGxpc2lvbnMgYmV0d2VlbiB0d28gbm9uLWR5bmFtaWMgYm9kaWVzLlxuICAgIEFjdGl2ZUNvbGxpc2lvblR5cGVzW0FjdGl2ZUNvbGxpc2lvblR5cGVzW1wiREVGQVVMVFwiXSA9IDE1XSA9IFwiREVGQVVMVFwiO1xuICAgIC8vLyBFbmFibGUgY29sbGlzaW9ucyBiZXR3ZWVuIGFueSBraW5kIG9mIHJpZ2lkLWJvZGllcyAoaW5jbHVkaW5nIGJldHdlZW4gdHdvIG5vbi1keW5hbWljIGJvZGllcykuXG4gICAgQWN0aXZlQ29sbGlzaW9uVHlwZXNbQWN0aXZlQ29sbGlzaW9uVHlwZXNbXCJBTExcIl0gPSA2MDk0M10gPSBcIkFMTFwiO1xufSkoQWN0aXZlQ29sbGlzaW9uVHlwZXMgfHwgKEFjdGl2ZUNvbGxpc2lvblR5cGVzID0ge30pKTtcbi8qKlxuICogQSBnZW9tZXRyaWMgZW50aXR5IHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGEgYm9keSBzbyBpdCBjYW4gYmUgYWZmZWN0ZWRcbiAqIGJ5IGNvbnRhY3RzIGFuZCBwcm94aW1pdHkgcXVlcmllcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbGxpZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2xsaWRlclNldCwgaGFuZGxlLCBwYXJlbnQsIHNoYXBlKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQgPSBjb2xsaWRlclNldDtcbiAgICAgICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5fc2hhcGUgPSBzaGFwZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGJvZGllcykge1xuICAgICAgICBpZiAodGhpcy5oYW5kbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gYm9kaWVzLmdldCh0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1BhcmVudCh0aGlzLmhhbmRsZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVuc3VyZVNoYXBlSXNDYWNoZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2hhcGUpXG4gICAgICAgICAgICB0aGlzLl9zaGFwZSA9IFNoYXBlLmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcsIHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICB0aGlzLmVuc3VyZVNoYXBlSXNDYWNoZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBjb2xsaWRlciBpcyBzdGlsbCB2YWxpZCAoaS5lLiB0aGF0IGl0IGhhc1xuICAgICAqIG5vdCBiZWVuIGRlbGV0ZWQgZnJvbSB0aGUgY29sbGlkZXIgc2V0IHlldCkuXG4gICAgICovXG4gICAgaXNWYWxpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvbnRhaW5zKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkLXNwYWNlIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICB0cmFuc2xhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMuY29sbGlkZXJTZXQucmF3LmNvVHJhbnNsYXRpb24odGhpcy5oYW5kbGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkLXNwYWNlIG9yaWVudGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAgKi9cbiAgICByb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFJvdGF0aW9uT3BzLmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcuY29Sb3RhdGlvbih0aGlzLmhhbmRsZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIGNvbGxpZGVyIGEgc2Vuc29yP1xuICAgICAqL1xuICAgIGlzU2Vuc29yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29Jc1NlbnNvcih0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciBvciBub3QgdGhpcyBjb2xsaWRlciBpcyBhIHNlbnNvci5cbiAgICAgKiBAcGFyYW0gaXNTZW5zb3IgLSBJZiBgdHJ1ZWAsIHRoZSBjb2xsaWRlciB3aWxsIGJlIGEgc2Vuc29yLlxuICAgICAqL1xuICAgIHNldFNlbnNvcihpc1NlbnNvcikge1xuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldFNlbnNvcih0aGlzLmhhbmRsZSwgaXNTZW5zb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXcgc2hhcGUgb2YgdGhlIGNvbGxpZGVyLlxuICAgICAqIEBwYXJhbSBzaGFwZSAtIFRoZSBjb2xsaWRlcuKAmXMgbmV3IHNoYXBlLlxuICAgICAqL1xuICAgIHNldFNoYXBlKHNoYXBlKSB7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHNoYXBlLmludG9SYXcoKTtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRTaGFwZSh0aGlzLmhhbmRsZSwgcmF3U2hhcGUpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgICAgIHRoaXMuX3NoYXBlID0gc2hhcGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlc3RpdHV0aW9uIGNvZWZmaWNpZW50IG9mIHRoZSBjb2xsaWRlciB0byBiZSBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc3RpdHV0aW9uIC0gVGhlIHJlc3RpdHV0aW9uIGNvZWZmaWNpZW50IGluIGBbMCwgMV1gLiBBIHZhbHVlIG9mIDAgKHRoZSBkZWZhdWx0KSBtZWFucyBubyBib3VuY2luZyBiZWhhdmlvclxuICAgICAqICAgICAgICAgICAgICAgICAgIHdoaWxlIDEgbWVhbnMgcGVyZmVjdCBib3VuY2luZyAodGhvdWdoIGVuZXJneSBtYXkgc3RpbGwgYmUgbG9zdCBkdWUgdG8gbnVtZXJpY2FsIGVycm9ycyBvZiB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50cyBzb2x2ZXIpLlxuICAgICAqL1xuICAgIHNldFJlc3RpdHV0aW9uKHJlc3RpdHV0aW9uKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0UmVzdGl0dXRpb24odGhpcy5oYW5kbGUsIHJlc3RpdHV0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZnJpY3Rpb24gY29lZmZpY2llbnQgb2YgdGhlIGNvbGxpZGVyIHRvIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJpY3Rpb24gLSBUaGUgZnJpY3Rpb24gY29lZmZpY2llbnQuIE11c3QgYmUgZ3JlYXRlciBvciBlcXVhbCB0byAwLiBUaGlzIGlzIGdlbmVyYWxseSBzbWFsbGVyIHRoYW4gMS4gVGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgaGlnaGVyIHRoZSBjb2VmZmljaWVudCwgdGhlIHN0cm9uZ2VyIGZyaWN0aW9uIGZvcmNlcyB3aWxsIGJlIGZvciBjb250YWN0cyB3aXRoIHRoZSBjb2xsaWRlclxuICAgICAqICAgICAgICAgICAgICAgICAgIGJlaW5nIGJ1aWx0LlxuICAgICAqL1xuICAgIHNldEZyaWN0aW9uKGZyaWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0RnJpY3Rpb24odGhpcy5oYW5kbGUsIGZyaWN0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcnVsZSB1c2VkIHRvIGNvbWJpbmUgdGhlIGZyaWN0aW9uIGNvZWZmaWNpZW50cyBvZiB0d28gY29sbGlkZXJzXG4gICAgICogY29sbGlkZXJzIGludm9sdmVkIGluIGEgY29udGFjdC5cbiAgICAgKi9cbiAgICBmcmljdGlvbkNvbWJpbmVSdWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29GcmljdGlvbkNvbWJpbmVSdWxlKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcnVsZSB1c2VkIHRvIGNvbWJpbmUgdGhlIGZyaWN0aW9uIGNvZWZmaWNpZW50cyBvZiB0d28gY29sbGlkZXJzXG4gICAgICogY29sbGlkZXJzIGludm9sdmVkIGluIGEgY29udGFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBydWxlIOKIkiBUaGUgY29tYmluZSBydWxlIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIHNldEZyaWN0aW9uQ29tYmluZVJ1bGUocnVsZSkge1xuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldEZyaWN0aW9uQ29tYmluZVJ1bGUodGhpcy5oYW5kbGUsIHJ1bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBydWxlIHVzZWQgdG8gY29tYmluZSB0aGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnRzIG9mIHR3byBjb2xsaWRlcnNcbiAgICAgKiBjb2xsaWRlcnMgaW52b2x2ZWQgaW4gYSBjb250YWN0LlxuICAgICAqL1xuICAgIHJlc3RpdHV0aW9uQ29tYmluZVJ1bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1Jlc3RpdHV0aW9uQ29tYmluZVJ1bGUodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBydWxlIHVzZWQgdG8gY29tYmluZSB0aGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnRzIG9mIHR3byBjb2xsaWRlcnNcbiAgICAgKiBjb2xsaWRlcnMgaW52b2x2ZWQgaW4gYSBjb250YWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHJ1bGUg4oiSIFRoZSBjb21iaW5lIHJ1bGUgdG8gYXBwbHkuXG4gICAgICovXG4gICAgc2V0UmVzdGl0dXRpb25Db21iaW5lUnVsZShydWxlKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0UmVzdGl0dXRpb25Db21iaW5lUnVsZSh0aGlzLmhhbmRsZSwgcnVsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbGxpc2lvbiBncm91cHMgdXNlZCBieSB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogVHdvIGNvbGxpZGVycyB3aWxsIGludGVyYWN0IGlmZi4gdGhlaXIgY29sbGlzaW9uIGdyb3VwcyBhcmUgY29tcGF0aWJsZS5cbiAgICAgKiBTZWUgdGhlIGRvY3VtZW50YXRpb24gb2YgYEludGVyYWN0aW9uR3JvdXBzYCBmb3IgZGV0YWlscyBvbiB0ZWggdXNlZCBiaXQgcGF0dGVybi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgY29sbGlzaW9uIGdyb3VwcyB1c2VkIGZvciB0aGUgY29sbGlkZXIgYmVpbmcgYnVpbHQuXG4gICAgICovXG4gICAgc2V0Q29sbGlzaW9uR3JvdXBzKGdyb3Vwcykge1xuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldENvbGxpc2lvbkdyb3Vwcyh0aGlzLmhhbmRsZSwgZ3JvdXBzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc29sdmVyIGdyb3VwcyB1c2VkIGJ5IHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBGb3JjZXMgYmV0d2VlbiB0d28gY29sbGlkZXJzIGluIGNvbnRhY3Qgd2lsbCBiZSBjb21wdXRlZCBpZmYgdGhlaXIgc29sdmVyXG4gICAgICogZ3JvdXBzIGFyZSBjb21wYXRpYmxlLlxuICAgICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiBgSW50ZXJhY3Rpb25Hcm91cHNgIGZvciBkZXRhaWxzIG9uIHRoZSB1c2VkIGJpdCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBzb2x2ZXIgZ3JvdXBzIHVzZWQgZm9yIHRoZSBjb2xsaWRlciBiZWluZyBidWlsdC5cbiAgICAgKi9cbiAgICBzZXRTb2x2ZXJHcm91cHMoZ3JvdXBzKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0U29sdmVyR3JvdXBzKHRoaXMuaGFuZGxlLCBncm91cHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBoeXNpY3MgaG9va3MgYWN0aXZlIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIGFjdGl2ZUhvb2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29BY3RpdmVIb29rcyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGh5c2ljcyBob29rcyBhY3RpdmUgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyB0byBlbmFibGUgY3VzdG9tIGZpbHRlcmluZyBydWxlcyBmb3IgY29udGFjdC9pbnRlcnNlY3N0aW9uIHBhaXJzIGludm9sdmluZyB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGl2ZUhvb2tzIC0gVGhlIGhvb2tzIGFjdGl2ZSBmb3IgY29udGFjdC9pbnRlcnNlY3Rpb24gcGFpcnMgaW52b2x2aW5nIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgc2V0QWN0aXZlSG9va3MoYWN0aXZlSG9va3MpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlclNldC5yYXcuY29TZXRBY3RpdmVIb29rcyh0aGlzLmhhbmRsZSwgYWN0aXZlSG9va3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnRzIGFjdGl2ZSBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBhY3RpdmVFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0FjdGl2ZUV2ZW50cyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZXZlbnRzIGFjdGl2ZSBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIHRvIGVuYWJsZSBjb250YWN0IGFuZC9vciBpbnRlcnNlY3Rpb24gZXZlbnQgcmVwb3J0aW5nIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGl2ZUV2ZW50cyAtIFRoZSBldmVudHMgYWN0aXZlIGZvciBjb250YWN0L2ludGVyc2VjdGlvbiBwYWlycyBpbnZvbHZpbmcgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBzZXRBY3RpdmVFdmVudHMoYWN0aXZlRXZlbnRzKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0QWN0aXZlRXZlbnRzKHRoaXMuaGFuZGxlLCBhY3RpdmVFdmVudHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjb2xsaXNpb24gdHlwZXMgYWN0aXZlIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIGFjdGl2ZUNvbGxpc2lvblR5cGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29BY3RpdmVDb2xsaXNpb25UeXBlcyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29sbGlzaW9uIHR5cGVzIGFjdGl2ZSBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhY3RpdmVDb2xsaXNpb25UeXBlcyAtIFRoZSBob29rcyBhY3RpdmUgZm9yIGNvbnRhY3QvaW50ZXJzZWN0aW9uIHBhaXJzIGludm9sdmluZyB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHNldEFjdGl2ZUNvbGxpc2lvblR5cGVzKGFjdGl2ZUNvbGxpc2lvblR5cGVzKSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0QWN0aXZlQ29sbGlzaW9uVHlwZXModGhpcy5oYW5kbGUsIGFjdGl2ZUNvbGxpc2lvblR5cGVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNsYXRpb24gb2YgdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmEgLSBUaGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHNldFRyYW5zbGF0aW9uKHRyYSkge1xuICAgICAgICAvLyAjaWYgRElNM1xuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldFRyYW5zbGF0aW9uKHRoaXMuaGFuZGxlLCB0cmEueCwgdHJhLnksIHRyYS56KTtcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIG9mIHRoaXMgY29sbGlkZXIgcmVsYXRpdmUgdG8gaXRzIHBhcmVudCByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogRG9lcyBub3RoaW5nIGlmIHRoaXMgY29sbGlkZXIgaXNuJ3QgYXR0YWNoZWQgdG8gYSByaWdpZC1ib2R5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYSAtIFRoZSBuZXcgdHJhbnNsYXRpb24gb2YgdGhlIGNvbGxpZGVyIHJlbGF0aXZlIHRvIGl0cyBwYXJlbnQuXG4gICAgICovXG4gICAgc2V0VHJhbnNsYXRpb25XcnRQYXJlbnQodHJhKSB7XG4gICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0VHJhbnNsYXRpb25XcnRQYXJlbnQodGhpcy5oYW5kbGUsIHRyYS54LCB0cmEueSwgdHJhLnopO1xuICAgICAgICAvLyAjZW5kaWZcbiAgICB9XG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGRvZXMgbm90aGluZyBpZiBhIHplcm8gcXVhdGVybmlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiB0byBzZXQuXG4gICAgICovXG4gICAgc2V0Um90YXRpb24ocm90KSB7XG4gICAgICAgIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2V0Um90YXRpb24odGhpcy5oYW5kbGUsIHJvdC54LCByb3QueSwgcm90LnosIHJvdC53KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcm90YXRpb24gcXVhdGVybmlvbiBvZiB0aGlzIGNvbGxpZGVyIHJlbGF0aXZlIHRvIGl0cyBwYXJlbnQgcmlnaWQtYm9keS5cbiAgICAgKlxuICAgICAqIFRoaXMgZG9lcyBub3RoaW5nIGlmIGEgemVybyBxdWF0ZXJuaW9uIGlzIHByb3ZpZGVkIG9yIGlmIHRoaXMgY29sbGlkZXIgaXNuJ3RcbiAgICAgKiBhdHRhY2hlZCB0byBhIHJpZ2lkLWJvZHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gdG8gc2V0LlxuICAgICAqL1xuICAgIHNldFJvdGF0aW9uV3J0UGFyZW50KHJvdCkge1xuICAgICAgICB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1NldFJvdGF0aW9uV3J0UGFyZW50KHRoaXMuaGFuZGxlLCByb3QueCwgcm90LnksIHJvdC56LCByb3Qudyk7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqIEBkZXByZWNhdGVkIHRoaXMgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHBsZWFzZSBhY2Nlc3MgdGhpcyBmaWVsZCBvbiBgc2hhcGVgIG1lbWJlciBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHNoYXBlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU2hhcGVUeXBlKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGhhbGYtZXh0ZW50cyBvZiB0aGlzIGNvbGxpZGVyIGlmIGl0IGlzIGEgY3Vib2lkIHNoYXBlLlxuICAgICAqIEBkZXByZWNhdGVkIHRoaXMgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHBsZWFzZSBhY2Nlc3MgdGhpcyBmaWVsZCBvbiBgc2hhcGVgIG1lbWJlciBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGhhbGZFeHRlbnRzKCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcuY29IYWxmRXh0ZW50cyh0aGlzLmhhbmRsZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmFkaXVzIG9mIHRoaXMgY29sbGlkZXIgaWYgaXQgaXMgYSBiYWxsLCBjeWxpbmRlciwgY2Fwc3VsZSwgb3IgY29uZSBzaGFwZS5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICByYWRpdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1JhZGl1cyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSByYWRpdXMgb2YgdGhlIHJvdW5kIGVkZ2VzIG9mIHRoaXMgY29sbGlkZXIgaWYgaXQgaXMgYSByb3VuZCBjeWxpbmRlci5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICByb3VuZFJhZGl1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvUm91bmRSYWRpdXModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBjb2xsaWRlciBpZiBpdCBpcyBhIGN5bGluZGVyLCBjYXBzdWxlLCBvciBjb25lIHNoYXBlLlxuICAgICAqIEBkZXByZWNhdGVkIHRoaXMgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHBsZWFzZSBhY2Nlc3MgdGhpcyBmaWVsZCBvbiBgc2hhcGVgIG1lbWJlciBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGhhbGZIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0hhbGZIZWlnaHQodGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIGNvbGxpZGVyIGhhcyBhIHRyaWFuZ2xlIG1lc2gsIHBvbHlsaW5lLCBjb252ZXggcG9seWdvbiwgb3IgY29udmV4IHBvbHloZWRyb24gc2hhcGUsXG4gICAgICogdGhpcyByZXR1cm5zIHRoZSB2ZXJ0ZXggYnVmZmVyIG9mIHNhaWQgc2hhcGUuXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgcGxlYXNlIGFjY2VzcyB0aGlzIGZpZWxkIG9uIGBzaGFwZWAgbWVtYmVyIGluc3RlYWQuXG4gICAgICovXG4gICAgdmVydGljZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb1ZlcnRpY2VzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhpcyBjb2xsaWRlciBoYXMgYSB0cmlhbmdsZSBtZXNoLCBwb2x5bGluZSwgb3IgY29udmV4IHBvbHloZWRyb24gc2hhcGUsXG4gICAgICogdGhpcyByZXR1cm5zIHRoZSBpbmRleCBidWZmZXIgb2Ygc2FpZCBzaGFwZS5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBpbmRpY2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29JbmRpY2VzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhpcyBjb2xsaWRlciBoYXMgYSBoZWlnaHRmaWVsZCBzaGFwZSwgdGhpcyByZXR1cm5zIHRoZSBoZWlnaHRzIGJ1ZmZlciBvZlxuICAgICAqIHRoZSBoZWlnaHRmaWVsZC5cbiAgICAgKiBJbiAzRCwgdGhlIHJldHVybmVkIGhlaWdodCBtYXRyaXggaXMgcHJvdmlkZWQgaW4gY29sdW1uLW1ham9yIG9yZGVyLlxuICAgICAqIEBkZXByZWNhdGVkIHRoaXMgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHBsZWFzZSBhY2Nlc3MgdGhpcyBmaWVsZCBvbiBgc2hhcGVgIG1lbWJlciBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGhlaWdodGZpZWxkSGVpZ2h0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvSGVpZ2h0ZmllbGRIZWlnaHRzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhpcyBjb2xsaWRlciBoYXMgYSBoZWlnaHRmaWVsZCBzaGFwZSwgdGhpcyByZXR1cm5zIHRoZSBzY2FsZVxuICAgICAqIGFwcGxpZWQgdG8gaXQuXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgcGxlYXNlIGFjY2VzcyB0aGlzIGZpZWxkIG9uIGBzaGFwZWAgbWVtYmVyIGluc3RlYWQuXG4gICAgICovXG4gICAgaGVpZ2h0ZmllbGRTY2FsZSgpIHtcbiAgICAgICAgbGV0IHNjYWxlID0gdGhpcy5jb2xsaWRlclNldC5yYXcuY29IZWlnaHRmaWVsZFNjYWxlKHRoaXMuaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHNjYWxlKTtcbiAgICB9XG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIGNvbGxpZGVyIGhhcyBhIGhlaWdodGZpZWxkIHNoYXBlLCB0aGlzIHJldHVybnMgdGhlIG51bWJlciBvZlxuICAgICAqIHJvd3Mgb2YgaXRzIGhlaWdodCBtYXRyaXguXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgcGxlYXNlIGFjY2VzcyB0aGlzIGZpZWxkIG9uIGBzaGFwZWAgbWVtYmVyIGluc3RlYWQuXG4gICAgICovXG4gICAgaGVpZ2h0ZmllbGROUm93cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvSGVpZ2h0ZmllbGROUm93cyh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgY29sbGlkZXIgaGFzIGEgaGVpZ2h0ZmllbGQgc2hhcGUsIHRoaXMgcmV0dXJucyB0aGUgbnVtYmVyIG9mXG4gICAgICogY29sdW1ucyBvZiBpdHMgaGVpZ2h0IG1hdHJpeC5cbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBwbGVhc2UgYWNjZXNzIHRoaXMgZmllbGQgb24gYHNoYXBlYCBtZW1iZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBoZWlnaHRmaWVsZE5Db2xzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29IZWlnaHRmaWVsZE5Db2xzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgLyoqXG4gICAgICogVGhlIHJpZ2lkLWJvZHkgdGhpcyBjb2xsaWRlciBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmcmljdGlvbiBjb2VmZmljaWVudCBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIGZyaWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29GcmljdGlvbih0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSByZXN0aXR1dGlvbiBjb2VmZmljaWVudCBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHJlc3RpdHV0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29SZXN0aXR1dGlvbih0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkZW5zaXR5IG9mIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgZGVuc2l0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvRGVuc2l0eSh0aGlzLmhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsaXNpb24gZ3JvdXBzIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgY29sbGlzaW9uR3JvdXBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsaWRlclNldC5yYXcuY29Db2xsaXNpb25Hcm91cHModGhpcy5oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc29sdmVyIGdyb3VwcyBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHNvbHZlckdyb3VwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvU29sdmVyR3JvdXBzKHRoaXMuaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgdGhpcyBjb2xsaWRlciBjb250YWlucyBhIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvaW50IC0gVGhlIHBvaW50IHRvIHRlc3QuXG4gICAgICovXG4gICAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICBsZXQgcmF3UG9pbnQgPSBWZWN0b3JPcHMuaW50b1Jhdyhwb2ludCk7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0NvbnRhaW5zUG9pbnQodGhpcy5oYW5kbGUsIHJhd1BvaW50KTtcbiAgICAgICAgcmF3UG9pbnQuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBwcm9qZWN0aW9uIG9mIGEgcG9pbnQgb24gdGhpcyBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBwcm9qZWN0LlxuICAgICAqIEBwYXJhbSBzb2xpZCAtIElmIHRoaXMgaXMgc2V0IHRvIGB0cnVlYCB0aGVuIHRoZSBjb2xsaWRlciBzaGFwZXMgYXJlIGNvbnNpZGVyZWQgdG9cbiAgICAgKiAgIGJlIHBsYWluIChpZiB0aGUgcG9pbnQgaXMgbG9jYXRlZCBpbnNpZGUgb2YgYSBwbGFpbiBzaGFwZSwgaXRzIHByb2plY3Rpb24gaXMgdGhlIHBvaW50XG4gICAgICogICBpdHNlbGYpLiBJZiBpdCBpcyBzZXQgdG8gYGZhbHNlYCB0aGUgY29sbGlkZXIgc2hhcGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGhvbGxvd1xuICAgICAqICAgKGlmIHRoZSBwb2ludCBpcyBsb2NhdGVkIGluc2lkZSBvZiBhbiBob2xsb3cgc2hhcGUsIGl0IGlzIHByb2plY3RlZCBvbiB0aGUgc2hhcGUnc1xuICAgICAqICAgYm91bmRhcnkpLlxuICAgICAqL1xuICAgIHByb2plY3RQb2ludChwb2ludCwgc29saWQpIHtcbiAgICAgICAgbGV0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUG9pbnRQcm9qZWN0aW9uLmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcuY29Qcm9qZWN0UG9pbnQodGhpcy5oYW5kbGUsIHJhd1BvaW50LCBzb2xpZCkpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIHRoaXMgY29sbGlkZXIgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gcmF5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICovXG4gICAgaW50ZXJzZWN0c1JheShyYXksIG1heFRvaSkge1xuICAgICAgICBsZXQgcmF3T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0ludGVyc2VjdHNSYXkodGhpcy5oYW5kbGUsIHJhd09yaWcsIHJhd0RpciwgbWF4VG9pKTtcbiAgICAgICAgcmF3T3JpZy5mcmVlKCk7XG4gICAgICAgIHJhd0Rpci5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qXG4gICAgICogQ29tcHV0ZXMgdGhlIHNtYWxsZXN0IHRpbWUgYmV0d2VlbiB0aGlzIGFuZCB0aGUgZ2l2ZW4gc2hhcGUgdW5kZXIgdHJhbnNsYXRpb25hbCBtb3ZlbWVudCBhcmUgc2VwYXJhdGVkIGJ5IGEgZGlzdGFuY2Ugc21hbGxlciBvciBlcXVhbCB0byBkaXN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjFWZWwgLSBUaGUgY29uc3RhbnQgdmVsb2NpdHkgb2YgdGhlIGN1cnJlbnQgc2hhcGUgdG8gY2FzdCAoaS5lLiB0aGUgY2FzdCBkaXJlY3Rpb24pLlxuICAgICAqIEBwYXJhbSBzaGFwZTIgLSBUaGUgc2hhcGUgdG8gY2FzdCBhZ2FpbnN0LlxuICAgICAqIEBwYXJhbSBzaGFwZTJQb3MgLSBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGUyUm90IC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMlZlbCAtIFRoZSBjb25zdGFudCB2ZWxvY2l0eSBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgZGlzdGFuY2UgdHJhdmVsZWQgYnkgdGhlIHNoYXBlIHRvIGBjb2xsaWRlcjFWZWwubm9ybSgpICogbWF4VG9pYC5cbiAgICAgKi9cbiAgICBjYXN0U2hhcGUoY29sbGlkZXIxVmVsLCBzaGFwZTIsIHNoYXBlMlBvcywgc2hhcGUyUm90LCBzaGFwZTJWZWwsIG1heFRvaSkge1xuICAgICAgICBsZXQgcmF3Q29sbGlkZXIxVmVsID0gVmVjdG9yT3BzLmludG9SYXcoY29sbGlkZXIxVmVsKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMlBvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlMlBvcyk7XG4gICAgICAgIGxldCByYXdTaGFwZTJSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlMlJvdCk7XG4gICAgICAgIGxldCByYXdTaGFwZTJWZWwgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZTJWZWwpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlVE9JLmZyb21SYXcodGhpcy5jb2xsaWRlclNldCwgdGhpcy5jb2xsaWRlclNldC5yYXcuY29DYXN0U2hhcGUodGhpcy5oYW5kbGUsIHJhd0NvbGxpZGVyMVZlbCwgcmF3U2hhcGUyLCByYXdTaGFwZTJQb3MsIHJhd1NoYXBlMlJvdCwgcmF3U2hhcGUyVmVsLCBtYXhUb2kpKTtcbiAgICAgICAgcmF3Q29sbGlkZXIxVmVsLmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUyUG9zLmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUyUm90LmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUyVmVsLmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUyLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLypcbiAgICAgKiBDb21wdXRlcyB0aGUgc21hbGxlc3QgdGltZSBiZXR3ZWVuIHRoaXMgYW5kIHRoZSBnaXZlbiBjb2xsaWRlciB1bmRlciB0cmFuc2xhdGlvbmFsIG1vdmVtZW50IGFyZSBzZXBhcmF0ZWQgYnkgYSBkaXN0YW5jZSBzbWFsbGVyIG9yIGVxdWFsIHRvIGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMVZlbCAtIFRoZSBjb25zdGFudCB2ZWxvY2l0eSBvZiB0aGUgY3VycmVudCBjb2xsaWRlciB0byBjYXN0IChpLmUuIHRoZSBjYXN0IGRpcmVjdGlvbikuXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMiAtIFRoZSBjb2xsaWRlciB0byBjYXN0IGFnYWluc3QuXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMlZlbCAtIFRoZSBjb25zdGFudCB2ZWxvY2l0eSBvZiB0aGUgc2Vjb25kIGNvbGxpZGVyLlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgZGlzdGFuY2UgdHJhdmVsZWQgYnkgdGhlIHNoYXBlIHRvIGBzaGFwZVZlbC5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqL1xuICAgIGNhc3RDb2xsaWRlcihjb2xsaWRlcjFWZWwsIGNvbGxpZGVyMiwgY29sbGlkZXIyVmVsLCBtYXhUb2kpIHtcbiAgICAgICAgbGV0IHJhd0NvbGxpZGVyMVZlbCA9IFZlY3Rvck9wcy5pbnRvUmF3KGNvbGxpZGVyMVZlbCk7XG4gICAgICAgIGxldCByYXdDb2xsaWRlcjJWZWwgPSBWZWN0b3JPcHMuaW50b1Jhdyhjb2xsaWRlcjJWZWwpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gU2hhcGVDb2xsaWRlclRPSS5mcm9tUmF3KHRoaXMuY29sbGlkZXJTZXQsIHRoaXMuY29sbGlkZXJTZXQucmF3LmNvQ2FzdENvbGxpZGVyKHRoaXMuaGFuZGxlLCByYXdDb2xsaWRlcjFWZWwsIGNvbGxpZGVyMi5oYW5kbGUsIHJhd0NvbGxpZGVyMlZlbCwgbWF4VG9pKSk7XG4gICAgICAgIHJhd0NvbGxpZGVyMVZlbC5mcmVlKCk7XG4gICAgICAgIHJhd0NvbGxpZGVyMlZlbC5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGludGVyc2VjdHNTaGFwZShzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyKSB7XG4gICAgICAgIGxldCByYXdQb3MyID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVQb3MyKTtcbiAgICAgICAgbGV0IHJhd1JvdDIgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90Mik7XG4gICAgICAgIGxldCByYXdTaGFwZTIgPSBzaGFwZTIuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb2xsaWRlclNldC5yYXcuY29JbnRlcnNlY3RzU2hhcGUodGhpcy5oYW5kbGUsIHJhd1NoYXBlMiwgcmF3UG9zMiwgcmF3Um90Mik7XG4gICAgICAgIHJhd1BvczIuZnJlZSgpO1xuICAgICAgICByYXdSb3QyLmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUyLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgb25lIHBhaXIgb2YgY29udGFjdCBwb2ludHMgYmV0d2VlbiB0aGUgc2hhcGUgb3duZWQgYnkgdGhpcyBjb2xsaWRlciBhbmQgdGhlIGdpdmVuIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNoYXBlMiAtIFRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMlBvcyAtIFRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMlJvdCAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBwcmVkaWN0aW9uIC0gVGhlIHByZWRpY3Rpb24gdmFsdWUsIGlmIHRoZSBzaGFwZXMgYXJlIHNlcGFyYXRlZCBieSBhIGRpc3RhbmNlIGdyZWF0ZXIgdGhhbiB0aGlzIHZhbHVlLCB0ZXN0IHdpbGwgZmFpbC5cbiAgICAgKiBAcmV0dXJucyBgbnVsbGAgaWYgdGhlIHNoYXBlcyBhcmUgc2VwYXJhdGVkIGJ5IGEgZGlzdGFuY2UgZ3JlYXRlciB0aGFuIHByZWRpY3Rpb24sIG90aGVyd2lzZSBjb250YWN0IGRldGFpbHMuIFRoZSByZXN1bHQgaXMgZ2l2ZW4gaW4gd29ybGQtc3BhY2UuXG4gICAgICovXG4gICAgY29udGFjdFNoYXBlKHNoYXBlMiwgc2hhcGUyUG9zLCBzaGFwZTJSb3QsIHByZWRpY3Rpb24pIHtcbiAgICAgICAgbGV0IHJhd1BvczIgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZTJQb3MpO1xuICAgICAgICBsZXQgcmF3Um90MiA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGUyUm90KTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMiA9IHNoYXBlMi5pbnRvUmF3KCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBTaGFwZUNvbnRhY3QuZnJvbVJhdyh0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0NvbnRhY3RTaGFwZSh0aGlzLmhhbmRsZSwgcmF3U2hhcGUyLCByYXdQb3MyLCByYXdSb3QyLCBwcmVkaWN0aW9uKSk7XG4gICAgICAgIHJhd1BvczIuZnJlZSgpO1xuICAgICAgICByYXdSb3QyLmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUyLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgb25lIHBhaXIgb2YgY29udGFjdCBwb2ludHMgYmV0d2VlbiB0aGUgY29sbGlkZXIgYW5kIHRoZSBnaXZlbiBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjIgLSBUaGUgc2Vjb25kIGNvbGxpZGVyLlxuICAgICAqIEBwYXJhbSBwcmVkaWN0aW9uIC0gVGhlIHByZWRpY3Rpb24gdmFsdWUsIGlmIHRoZSBzaGFwZXMgYXJlIHNlcGFyYXRlZCBieSBhIGRpc3RhbmNlIGdyZWF0ZXIgdGhhbiB0aGlzIHZhbHVlLCB0ZXN0IHdpbGwgZmFpbC5cbiAgICAgKiBAcmV0dXJucyBgbnVsbGAgaWYgdGhlIHNoYXBlcyBhcmUgc2VwYXJhdGVkIGJ5IGEgZGlzdGFuY2UgZ3JlYXRlciB0aGFuIHByZWRpY3Rpb24sIG90aGVyd2lzZSBjb250YWN0IGRldGFpbHMuIFRoZSByZXN1bHQgaXMgZ2l2ZW4gaW4gd29ybGQtc3BhY2UuXG4gICAgICovXG4gICAgY29udGFjdENvbGxpZGVyKGNvbGxpZGVyMiwgcHJlZGljdGlvbikge1xuICAgICAgICBsZXQgcmVzdWx0ID0gU2hhcGVDb250YWN0LmZyb21SYXcodGhpcy5jb2xsaWRlclNldC5yYXcuY29Db250YWN0Q29sbGlkZXIodGhpcy5oYW5kbGUsIGNvbGxpZGVyMi5oYW5kbGUsIHByZWRpY3Rpb24pKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLypcbiAgICAgKiBGaW5kIHRoZSBjbG9zZXN0IGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgcmF5IGFuZCB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogVGhpcyBhbHNvIGNvbXB1dGVzIHRoZSBub3JtYWwgYXQgdGhlIGhpdCBwb2ludC5cbiAgICAgKiBAcGFyYW0gcmF5IC0gVGhlIHJheSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgbGVuZ3RoIG9mIHRoZSByYXkgdG8gYHJheS5kaXIubm9ybSgpICogbWF4VG9pYC5cbiAgICAgKiBAcGFyYW0gc29saWQgLSBJZiBgZmFsc2VgIHRoZW4gdGhlIHJheSB3aWxsIGF0dGVtcHQgdG8gaGl0IHRoZSBib3VuZGFyeSBvZiBhIHNoYXBlLCBldmVuIGlmIGl0c1xuICAgICAqICAgb3JpZ2luIGFscmVhZHkgbGllcyBpbnNpZGUgb2YgYSBzaGFwZS4gSW4gb3RoZXIgdGVybXMsIGB0cnVlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgcGxhaW4sXG4gICAgICogICB3aGVyZWFzIGBmYWxzZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIGhvbGxvdyBmb3IgdGhpcyByYXktY2FzdC5cbiAgICAgKiBAcmV0dXJucyBUaGUgdGltZS1vZi1pbXBhY3QgYmV0d2VlbiB0aGlzIGNvbGxpZGVyIGFuZCB0aGUgcmF5LCBvciBgLTFgIGlmIHRoZXJlIGlzIG5vIGludGVyc2VjdGlvbi5cbiAgICAgKi9cbiAgICBjYXN0UmF5KHJheSwgbWF4VG9pLCBzb2xpZCkge1xuICAgICAgICBsZXQgcmF3T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0Nhc3RSYXkodGhpcy5oYW5kbGUsIHJhd09yaWcsIHJhd0RpciwgbWF4VG9pLCBzb2xpZCk7XG4gICAgICAgIHJhd09yaWcuZnJlZSgpO1xuICAgICAgICByYXdEaXIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBjbG9zZXN0IGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgcmF5IGFuZCB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogVGhpcyBhbHNvIGNvbXB1dGVzIHRoZSBub3JtYWwgYXQgdGhlIGhpdCBwb2ludC5cbiAgICAgKiBAcGFyYW0gcmF5IC0gVGhlIHJheSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgbGVuZ3RoIG9mIHRoZSByYXkgdG8gYHJheS5kaXIubm9ybSgpICogbWF4VG9pYC5cbiAgICAgKiBAcGFyYW0gc29saWQgLSBJZiBgZmFsc2VgIHRoZW4gdGhlIHJheSB3aWxsIGF0dGVtcHQgdG8gaGl0IHRoZSBib3VuZGFyeSBvZiBhIHNoYXBlLCBldmVuIGlmIGl0c1xuICAgICAqICAgb3JpZ2luIGFscmVhZHkgbGllcyBpbnNpZGUgb2YgYSBzaGFwZS4gSW4gb3RoZXIgdGVybXMsIGB0cnVlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgcGxhaW4sXG4gICAgICogICB3aGVyZWFzIGBmYWxzZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIGhvbGxvdyBmb3IgdGhpcyByYXktY2FzdC5cbiAgICAgKi9cbiAgICBjYXN0UmF5QW5kR2V0Tm9ybWFsKHJheSwgbWF4VG9pLCBzb2xpZCkge1xuICAgICAgICBsZXQgcmF3T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByZXN1bHQgPSBSYXlJbnRlcnNlY3Rpb24uZnJvbVJhdyh0aGlzLmNvbGxpZGVyU2V0LnJhdy5jb0Nhc3RSYXlBbmRHZXROb3JtYWwodGhpcy5oYW5kbGUsIHJhd09yaWcsIHJhd0RpciwgbWF4VG9pLCBzb2xpZCkpO1xuICAgICAgICByYXdPcmlnLmZyZWUoKTtcbiAgICAgICAgcmF3RGlyLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29sbGlkZXJEZXNjIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIGNvbGxpZGVyIGRlc2NyaXB0b3IgZnJvbSB0aGUgY29sbGlzaW9uIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNoYXBlIC0gVGhlIHNoYXBlIG9mIHRoZSBjb2xsaWRlciBiZWluZyBidWlsdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzaGFwZSkge1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgICAgIHRoaXMudXNlTWFzc1Byb3BzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVuc2l0eSA9IDEuMDtcbiAgICAgICAgdGhpcy5mcmljdGlvbiA9IDAuNTtcbiAgICAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IFJvdGF0aW9uT3BzLmlkZW50aXR5KCk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSBWZWN0b3JPcHMuemVyb3MoKTtcbiAgICAgICAgdGhpcy5pc1NlbnNvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwcyA9IDQyOTQ5NjcyOTU7XG4gICAgICAgIHRoaXMuc29sdmVyR3JvdXBzID0gNDI5NDk2NzI5NTtcbiAgICAgICAgdGhpcy5mcmljdGlvbkNvbWJpbmVSdWxlID0gQ29lZmZpY2llbnRDb21iaW5lUnVsZS5BdmVyYWdlO1xuICAgICAgICB0aGlzLnJlc3RpdHV0aW9uQ29tYmluZVJ1bGUgPSBDb2VmZmljaWVudENvbWJpbmVSdWxlLkF2ZXJhZ2U7XG4gICAgICAgIHRoaXMuYWN0aXZlQ29sbGlzaW9uVHlwZXMgPSBBY3RpdmVDb2xsaXNpb25UeXBlcy5ERUZBVUxUO1xuICAgICAgICB0aGlzLmFjdGl2ZUV2ZW50cyA9IDA7XG4gICAgICAgIHRoaXMuYWN0aXZlSG9va3MgPSAwO1xuICAgICAgICB0aGlzLm1hc3MgPSAwLjA7XG4gICAgICAgIHRoaXMuY2VudGVyT2ZNYXNzID0gVmVjdG9yT3BzLnplcm9zKCk7XG4gICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgIHRoaXMucHJpbmNpcGFsQW5ndWxhckluZXJ0aWEgPSBWZWN0b3JPcHMuemVyb3MoKTtcbiAgICAgICAgdGhpcy5hbmd1bGFySW5lcnRpYUxvY2FsRnJhbWUgPSBSb3RhdGlvbk9wcy5pZGVudGl0eSgpO1xuICAgICAgICAvLyAjZW5kaWZcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3Igd2l0aCBhIGJhbGwgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYmFsbC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYmFsbChyYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgQmFsbChyYWRpdXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBjYXBzdWxlIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbGZIZWlnaHQgLSBUaGUgaGFsZi1oZWlnaHQgb2YgdGhlIGNhcHN1bGUsIGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2Fwc3VsZSBiYXNpcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY2Fwc3VsZShoYWxmSGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgQ2Fwc3VsZShoYWxmSGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc2VnbWVudCBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSBzZWdtZW50LlxuICAgICAqIEBwYXJhbSBiIC0gVGhlIHNlY29uZCBwb2ludCBvZiB0aGUgc2VnbWVudC5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2VnbWVudChhLCBiKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFNlZ21lbnQoYSwgYik7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0cmlhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYiAtIFRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBjIC0gVGhlIHRoaXJkIHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgdHJpYW5nbGUoYSwgYiwgYykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBUcmlhbmdsZShhLCBiLCBjKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRyaWFuZ2xlIHNoYXBlIHdpdGggcm91bmQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIC0gVGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYiAtIFRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBjIC0gVGhlIHRoaXJkIHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIHRyaWFuZ2xlLiBJbiAzRCxcbiAgICAgKiAgIHRoaXMgaXMgYWxzbyBlcXVhbCB0byBoYWxmIHRoZSB0aGlja25lc3Mgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZFRyaWFuZ2xlKGEsIGIsIGMsIGJvcmRlclJhZGl1cykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBSb3VuZFRyaWFuZ2xlKGEsIGIsIGMsIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBwb2x5bGluZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9seWxpbmUncyB2ZXJ0aWNlcy5cbiAgICAgKiBAcGFyYW0gaW5kaWNlcyAtIFRoZSBpbmRpY2VzIG9mIHRoZSBwb2x5bGluZSdzIHNlZ21lbnRzLiBJZiB0aGlzIGlzIGB1bmRlZmluZWRgIG9yIGBudWxsYCxcbiAgICAgKiAgICB0aGUgdmVydGljZXMgYXJlIGFzc3VtZWQgdG8gZGVzY3JpYmUgYSBsaW5lIHN0cmlwLlxuICAgICAqL1xuICAgIHN0YXRpYyBwb2x5bGluZSh2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBQb2x5bGluZSh2ZXJ0aWNlcywgaW5kaWNlcyk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSB0cmlhbmdsZSBtZXNoIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0cmlhbmdsZSBtZXNoJ3MgdmVydGljZXMuXG4gICAgICogQHBhcmFtIGluZGljZXMgLSBUaGUgaW5kaWNlcyBvZiB0aGUgdHJpYW5nbGUgbWVzaCdzIHRyaWFuZ2xlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgdHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBUcmlNZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvLyAjaWYgRElNM1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sbGlkZXIgZGVzY3JpcHRvciB3aXRoIGEgY3Vib2lkIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGh4IC0gVGhlIGhhbGYtd2lkdGggb2YgdGhlIHJlY3RhbmdsZSBhbG9uZyBpdHMgbG9jYWwgYHhgIGF4aXMuXG4gICAgICogQHBhcmFtIGh5IC0gVGhlIGhhbGYtd2lkdGggb2YgdGhlIHJlY3RhbmdsZSBhbG9uZyBpdHMgbG9jYWwgYHlgIGF4aXMuXG4gICAgICogQHBhcmFtIGh6IC0gVGhlIGhhbGYtd2lkdGggb2YgdGhlIHJlY3RhbmdsZSBhbG9uZyBpdHMgbG9jYWwgYHpgIGF4aXMuXG4gICAgICovXG4gICAgc3RhdGljIGN1Ym9pZChoeCwgaHksIGh6KSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IEN1Ym9pZChoeCwgaHksIGh6KTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3Igd2l0aCBhIHJlY3Rhbmd1bGFyIHNoYXBlIHdpdGggcm91bmQgYm9yZGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoeCAtIFRoZSBoYWxmLXdpZHRoIG9mIHRoZSByZWN0YW5nbGUgYWxvbmcgaXRzIGxvY2FsIGB4YCBheGlzLlxuICAgICAqIEBwYXJhbSBoeSAtIFRoZSBoYWxmLXdpZHRoIG9mIHRoZSByZWN0YW5nbGUgYWxvbmcgaXRzIGxvY2FsIGB5YCBheGlzLlxuICAgICAqIEBwYXJhbSBoeiAtIFRoZSBoYWxmLXdpZHRoIG9mIHRoZSByZWN0YW5nbGUgYWxvbmcgaXRzIGxvY2FsIGB6YCBheGlzLlxuICAgICAqIEBwYXJhbSBib3JkZXJSYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjdWJvaWQncyBib3JkZXJzLlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZEN1Ym9pZChoeCwgaHksIGh6LCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgUm91bmRDdWJvaWQoaHgsIGh5LCBoeiwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3Igd2l0aCBhIGhlaWdodGZpZWxkIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5yb3dzIOKIkiBUaGUgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIGhlaWdodHMgbWF0cml4LlxuICAgICAqIEBwYXJhbSBuY29scyAtIFRoZSBudW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgaGVpZ2h0cyBtYXRyaXguXG4gICAgICogQHBhcmFtIGhlaWdodHMgLSBUaGUgaGVpZ2h0cyBvZiB0aGUgaGVpZ2h0ZmllbGQgYWxvbmcgaXRzIGxvY2FsIGB5YCBheGlzLFxuICAgICAqICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgYXMgYSBtYXRyaXggc3RvcmVkIGluIGNvbHVtbi1tYWpvciBvcmRlci5cbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBUaGUgc2NhbGUgZmFjdG9yIGFwcGxpZWQgdG8gdGhlIGhlaWdodGZpZWxkLlxuICAgICAqL1xuICAgIHN0YXRpYyBoZWlnaHRmaWVsZChucm93cywgbmNvbHMsIGhlaWdodHMsIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IEhlaWdodGZpZWxkKG5yb3dzLCBuY29scywgaGVpZ2h0cywgc2NhbGUpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBjeWxpbmRlciBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYWxmSGVpZ2h0IC0gVGhlIGhhbGYtaGVpZ2h0IG9mIHRoZSBjeWxpbmRlciwgYWxvbmcgdGhlIGB5YCBheGlzLlxuICAgICAqIEBwYXJhbSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjeWxpbmRlciBiYXNpcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3lsaW5kZXIoaGFsZkhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IEN5bGluZGVyKGhhbGZIZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3Igd2l0aCBhIGN5bGluZGVyIHNoYXBlIHdpdGggcm91bmRlZCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbGZIZWlnaHQgLSBUaGUgaGFsZi1oZWlnaHQgb2YgdGhlIGN5bGluZGVyLCBhbG9uZyB0aGUgYHlgIGF4aXMuXG4gICAgICogQHBhcmFtIHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGN5bGluZGVyIGJhc2lzLlxuICAgICAqIEBwYXJhbSBib3JkZXJSYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjeWxpbmRlcidzIHJvdW5kZWQgZWRnZXMgYW5kIHZlcnRpY2VzLlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZEN5bGluZGVyKGhhbGZIZWlnaHQsIHJhZGl1cywgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFJvdW5kQ3lsaW5kZXIoaGFsZkhlaWdodCwgcmFkaXVzLCBib3JkZXJSYWRpdXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBjb25lIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbGZIZWlnaHQgLSBUaGUgaGFsZi1oZWlnaHQgb2YgdGhlIGNvbmUsIGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY29uZSBiYXNpcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY29uZShoYWxmSGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgQ29uZShoYWxmSGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHdpdGggYSBjb25lIHNoYXBlIHdpdGggcm91bmRlZCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbGZIZWlnaHQgLSBUaGUgaGFsZi1oZWlnaHQgb2YgdGhlIGNvbmUsIGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY29uZSBiYXNpcy5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY29uZSdzIHJvdW5kZWQgZWRnZXMgYW5kIHZlcnRpY2VzLlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZENvbmUoaGFsZkhlaWdodCwgcmFkaXVzLCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgUm91bmRDb25lKGhhbGZIZWlnaHQsIHJhZGl1cywgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgY29udmV4LWh1bGwgb2YgdGhlIGdpdmVuIHBvaW50cyBhbmQgdXNlIHRoZSByZXN1bHRpbmdcbiAgICAgKiBjb252ZXggcG9seWhlZHJvbiBhcyB0aGUgc2hhcGUgZm9yIHRoaXMgbmV3IGNvbGxpZGVyIGRlc2NyaXB0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9pbnRzIC0gVGhlIHBvaW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbXB1dGUgdGhlIGNvbnZleC1odWxsLlxuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXhIdWxsKHBvaW50cykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKHBvaW50cywgbnVsbCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGlkZXJEZXNjKHNoYXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaWRlciBkZXNjcmlwdG9yIHRoYXQgdXNlcyB0aGUgZ2l2ZW4gc2V0IG9mIHBvaW50cyBhc3N1bWVkXG4gICAgICogdG8gZm9ybSBhIGNvbnZleCBwb2x5bGluZSAobm8gY29udmV4LWh1bGwgY29tcHV0YXRpb24gd2lsbCBiZSBkb25lKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0aWNlcyBvZiB0aGUgY29udmV4IHBvbHlsaW5lLlxuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXhNZXNoKHZlcnRpY2VzLCBpbmRpY2VzKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IENvbnZleFBvbHloZWRyb24odmVydGljZXMsIGluZGljZXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBjb252ZXgtaHVsbCBvZiB0aGUgZ2l2ZW4gcG9pbnRzIGFuZCB1c2UgdGhlIHJlc3VsdGluZ1xuICAgICAqIGNvbnZleCBwb2x5aGVkcm9uIGFzIHRoZSBzaGFwZSBmb3IgdGhpcyBuZXcgY29sbGlkZXIgZGVzY3JpcHRvci4gQVxuICAgICAqIGJvcmRlciBpcyBhZGRlZCB0byB0aGF0IGNvbnZleCBwb2x5aGVkcm9uIHRvIGdpdmUgaXQgcm91bmQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb2ludHMgLSBUaGUgcG9pbnQgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgY29udmV4LWh1bGwuXG4gICAgICogQHBhcmFtIGJvcmRlclJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIHJvdW5kIGJvcmRlciBhZGRlZCB0byB0aGUgY29udmV4IHBvbHloZWRyb24uXG4gICAgICovXG4gICAgc3RhdGljIHJvdW5kQ29udmV4SHVsbChwb2ludHMsIGJvcmRlclJhZGl1cykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBSb3VuZENvbnZleFBvbHloZWRyb24ocG9pbnRzLCBudWxsLCBib3JkZXJSYWRpdXMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxpZGVyRGVzYyhzaGFwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sbGlkZXIgZGVzY3JpcHRvciB0aGF0IHVzZXMgdGhlIGdpdmVuIHNldCBvZiBwb2ludHMgYXNzdW1lZFxuICAgICAqIHRvIGZvcm0gYSByb3VuZCBjb252ZXggcG9seWxpbmUgKG5vIGNvbnZleC1odWxsIGNvbXB1dGF0aW9uIHdpbGwgYmUgZG9uZSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVydGljZXMgLSBUaGUgdmVydGljZXMgb2YgdGhlIGNvbnZleCBwb2x5bGluZS5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgcm91bmQgYm9yZGVyIGFkZGVkIHRvIHRoZSBjb252ZXggcG9seWxpbmUuXG4gICAgICovXG4gICAgc3RhdGljIHJvdW5kQ29udmV4TWVzaCh2ZXJ0aWNlcywgaW5kaWNlcywgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFJvdW5kQ29udmV4UG9seWhlZHJvbih2ZXJ0aWNlcywgaW5kaWNlcywgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsaWRlckRlc2Moc2hhcGUpO1xuICAgIH1cbiAgICAvLyAjZW5kaWZcbiAgICAvLyAjaWYgRElNM1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBjb2xsaWRlciB0byBiZSBjcmVhdGVkIHJlbGF0aXZlIHRvIHRoZSByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIHNldFRyYW5zbGF0aW9uKHgsIHksIHopIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkgIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeiAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVGhlIHRyYW5zbGF0aW9uIGNvbXBvbmVudHMgbXVzdCBiZSBudW1iZXJzLlwiKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IHsgeDogeCwgeTogeSwgejogeiB9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcm90YXRpb24gb2YgdGhlIGNvbGxpZGVyIHRvIGJlIGNyZWF0ZWQgcmVsYXRpdmUgdG8gdGhlIHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm90IC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBjb2xsaWRlciB0byBiZSBjcmVhdGVkIHJlbGF0aXZlIHRvIHRoZSByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIHNldFJvdGF0aW9uKHJvdCkge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29sbGlkZXIgYmVpbmcgY3JlYXRlZCBpcyBhIHNlbnNvci5cbiAgICAgKlxuICAgICAqIEEgc2Vuc29yIGNvbGxpZGVyIGRvZXMgbm90IHRha2UgcGFydCBvZiB0aGUgcGh5c2ljcyBzaW11bGF0aW9uLCBidXQgZ2VuZXJhdGVzXG4gICAgICogcHJveGltaXR5IGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpcyAtIFNldCB0byBgdHJ1ZWAgb2YgdGhlIGNvbGxpZGVyIGJ1aWx0IGlzIHRvIGJlIGEgc2Vuc29yLlxuICAgICAqL1xuICAgIHNldFNlbnNvcihpcykge1xuICAgICAgICB0aGlzLmlzU2Vuc29yID0gaXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZW5zaXR5IG9mIHRoZSBjb2xsaWRlciBiZWluZyBidWlsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZW5zaXR5IC0gVGhlIGRlbnNpdHkgdG8gc2V0LCBtdXN0IGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMC4gQSBkZW5zaXR5IG9mIDAgbWVhbnMgdGhhdCB0aGlzIGNvbGxpZGVyXG4gICAgICogICAgICAgICAgICAgICAgICB3aWxsIG5vdCBhZmZlY3QgdGhlIG1hc3Mgb3IgYW5ndWxhciBpbmVydGlhIG9mIHRoZSByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIHNldERlbnNpdHkoZGVuc2l0eSkge1xuICAgICAgICB0aGlzLnVzZU1hc3NQcm9wcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbnNpdHkgPSBkZW5zaXR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXNzIHByb3BlcnRpZXMgb2YgdGhlIGNvbGxpZGVyIGJlaW5nIGJ1aWx0LlxuICAgICAqXG4gICAgICogVGhpcyByZXBsYWNlcyB0aGUgbWFzcy1wcm9wZXJ0aWVzIGF1dG9tYXRpY2FsbHkgY29tcHV0ZWQgZnJvbSB0aGUgY29sbGlkZXIncyBkZW5zaXR5IGFuZCBzaGFwZS5cbiAgICAgKiBUaGVzZSBtYXNzLXByb3BlcnRpZXMgd2lsbCBiZSBhZGRlZCB0byB0aGUgbWFzcy1wcm9wZXJ0aWVzIG9mIHRoZSByaWdpZC1ib2R5IHRoaXMgY29sbGlkZXIgd2lsbCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtYXNzIOKIkiBUaGUgbWFzcyBvZiB0aGUgY29sbGlkZXIgdG8gY3JlYXRlLlxuICAgICAqIEBwYXJhbSBjZW50ZXJPZk1hc3Mg4oiSIFRoZSBjZW50ZXItb2YtbWFzcyBvZiB0aGUgY29sbGlkZXIgdG8gY3JlYXRlLlxuICAgICAqIEBwYXJhbSBwcmluY2lwYWxBbmd1bGFySW5lcnRpYSDiiJIgVGhlIGluaXRpYWwgcHJpbmNpcGFsIGFuZ3VsYXIgaW5lcnRpYSBvZiB0aGUgY29sbGlkZXIgdG8gY3JlYXRlLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZXNlIGFyZSB0aGUgZWlnZW52YWx1ZXMgb2YgdGhlIGFuZ3VsYXIgaW5lcnRpYSBtYXRyaXguXG4gICAgICogQHBhcmFtIGFuZ3VsYXJJbmVydGlhTG9jYWxGcmFtZSDiiJIgVGhlIGluaXRpYWwgbG9jYWwgYW5ndWxhciBpbmVydGlhIGZyYW1lIG9mIHRoZSBjb2xsaWRlciB0byBjcmVhdGUuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZXNlIGFyZSB0aGUgZWlnZW52ZWN0b3JzIG9mIHRoZSBhbmd1bGFyIGluZXJ0aWEgbWF0cml4LlxuICAgICAqL1xuICAgIHNldE1hc3NQcm9wZXJ0aWVzKG1hc3MsIGNlbnRlck9mTWFzcywgcHJpbmNpcGFsQW5ndWxhckluZXJ0aWEsIGFuZ3VsYXJJbmVydGlhTG9jYWxGcmFtZSkge1xuICAgICAgICB0aGlzLnVzZU1hc3NQcm9wcyA9IHRydWU7XG4gICAgICAgIHRoaXMubWFzcyA9IG1hc3M7XG4gICAgICAgIHRoaXMuY2VudGVyT2ZNYXNzID0gY2VudGVyT2ZNYXNzO1xuICAgICAgICB0aGlzLnByaW5jaXBhbEFuZ3VsYXJJbmVydGlhID0gcHJpbmNpcGFsQW5ndWxhckluZXJ0aWE7XG4gICAgICAgIHRoaXMuYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lID0gYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnQgb2YgdGhlIGNvbGxpZGVyIHRvIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzdGl0dXRpb24gLSBUaGUgcmVzdGl0dXRpb24gY29lZmZpY2llbnQgaW4gYFswLCAxXWAuIEEgdmFsdWUgb2YgMCAodGhlIGRlZmF1bHQpIG1lYW5zIG5vIGJvdW5jaW5nIGJlaGF2aW9yXG4gICAgICogICAgICAgICAgICAgICAgICAgd2hpbGUgMSBtZWFucyBwZXJmZWN0IGJvdW5jaW5nICh0aG91Z2ggZW5lcmd5IG1heSBzdGlsbCBiZSBsb3N0IGR1ZSB0byBudW1lcmljYWwgZXJyb3JzIG9mIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzIHNvbHZlcikuXG4gICAgICovXG4gICAgc2V0UmVzdGl0dXRpb24ocmVzdGl0dXRpb24pIHtcbiAgICAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IHJlc3RpdHV0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZnJpY3Rpb24gY29lZmZpY2llbnQgb2YgdGhlIGNvbGxpZGVyIHRvIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJpY3Rpb24gLSBUaGUgZnJpY3Rpb24gY29lZmZpY2llbnQuIE11c3QgYmUgZ3JlYXRlciBvciBlcXVhbCB0byAwLiBUaGlzIGlzIGdlbmVyYWxseSBzbWFsbGVyIHRoYW4gMS4gVGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgaGlnaGVyIHRoZSBjb2VmZmljaWVudCwgdGhlIHN0cm9uZ2VyIGZyaWN0aW9uIGZvcmNlcyB3aWxsIGJlIGZvciBjb250YWN0cyB3aXRoIHRoZSBjb2xsaWRlclxuICAgICAqICAgICAgICAgICAgICAgICAgIGJlaW5nIGJ1aWx0LlxuICAgICAqL1xuICAgIHNldEZyaWN0aW9uKGZyaWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJ1bGUgdXNlZCB0byBjb21iaW5lIHRoZSBmcmljdGlvbiBjb2VmZmljaWVudHMgb2YgdHdvIGNvbGxpZGVyc1xuICAgICAqIGNvbGxpZGVycyBpbnZvbHZlZCBpbiBhIGNvbnRhY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcnVsZSDiiJIgVGhlIGNvbWJpbmUgcnVsZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBzZXRGcmljdGlvbkNvbWJpbmVSdWxlKHJ1bGUpIHtcbiAgICAgICAgdGhpcy5mcmljdGlvbkNvbWJpbmVSdWxlID0gcnVsZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJ1bGUgdXNlZCB0byBjb21iaW5lIHRoZSByZXN0aXR1dGlvbiBjb2VmZmljaWVudHMgb2YgdHdvIGNvbGxpZGVyc1xuICAgICAqIGNvbGxpZGVycyBpbnZvbHZlZCBpbiBhIGNvbnRhY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcnVsZSDiiJIgVGhlIGNvbWJpbmUgcnVsZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBzZXRSZXN0aXR1dGlvbkNvbWJpbmVSdWxlKHJ1bGUpIHtcbiAgICAgICAgdGhpcy5yZXN0aXR1dGlvbkNvbWJpbmVSdWxlID0gcnVsZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbGxpc2lvbiBncm91cHMgdXNlZCBieSB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogVHdvIGNvbGxpZGVycyB3aWxsIGludGVyYWN0IGlmZi4gdGhlaXIgY29sbGlzaW9uIGdyb3VwcyBhcmUgY29tcGF0aWJsZS5cbiAgICAgKiBTZWUgdGhlIGRvY3VtZW50YXRpb24gb2YgYEludGVyYWN0aW9uR3JvdXBzYCBmb3IgZGV0YWlscyBvbiB0ZWggdXNlZCBiaXQgcGF0dGVybi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgY29sbGlzaW9uIGdyb3VwcyB1c2VkIGZvciB0aGUgY29sbGlkZXIgYmVpbmcgYnVpbHQuXG4gICAgICovXG4gICAgc2V0Q29sbGlzaW9uR3JvdXBzKGdyb3Vwcykge1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwcyA9IGdyb3VwcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNvbHZlciBncm91cHMgdXNlZCBieSB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogRm9yY2VzIGJldHdlZW4gdHdvIGNvbGxpZGVycyBpbiBjb250YWN0IHdpbGwgYmUgY29tcHV0ZWQgaWZmIHRoZWlyIHNvbHZlclxuICAgICAqIGdyb3VwcyBhcmUgY29tcGF0aWJsZS5cbiAgICAgKiBTZWUgdGhlIGRvY3VtZW50YXRpb24gb2YgYEludGVyYWN0aW9uR3JvdXBzYCBmb3IgZGV0YWlscyBvbiB0aGUgdXNlZCBiaXQgcGF0dGVybi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgc29sdmVyIGdyb3VwcyB1c2VkIGZvciB0aGUgY29sbGlkZXIgYmVpbmcgYnVpbHQuXG4gICAgICovXG4gICAgc2V0U29sdmVyR3JvdXBzKGdyb3Vwcykge1xuICAgICAgICB0aGlzLnNvbHZlckdyb3VwcyA9IGdyb3VwcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGh5c2ljcyBob29rcyBhY3RpdmUgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyB0byBlbmFibGUgY3VzdG9tIGZpbHRlcmluZyBydWxlcyBmb3IgY29udGFjdC9pbnRlcnNlY3N0aW9uIHBhaXJzIGludm9sdmluZyB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGl2ZUhvb2tzIC0gVGhlIGhvb2tzIGFjdGl2ZSBmb3IgY29udGFjdC9pbnRlcnNlY3Rpb24gcGFpcnMgaW52b2x2aW5nIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgc2V0QWN0aXZlSG9va3MoYWN0aXZlSG9va3MpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVIb29rcyA9IGFjdGl2ZUhvb2tzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBldmVudHMgYWN0aXZlIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgdG8gZW5hYmxlIGNvbnRhY3QgYW5kL29yIGludGVyc2VjdGlvbiBldmVudCByZXBvcnRpbmcgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aXZlRXZlbnRzIC0gVGhlIGV2ZW50cyBhY3RpdmUgZm9yIGNvbnRhY3QvaW50ZXJzZWN0aW9uIHBhaXJzIGludm9sdmluZyB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHNldEFjdGl2ZUV2ZW50cyhhY3RpdmVFdmVudHMpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVFdmVudHMgPSBhY3RpdmVFdmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbGxpc2lvbiB0eXBlcyBhY3RpdmUgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aXZlQ29sbGlzaW9uVHlwZXMgLSBUaGUgaG9va3MgYWN0aXZlIGZvciBjb250YWN0L2ludGVyc2VjdGlvbiBwYWlycyBpbnZvbHZpbmcgdGhpcyBjb2xsaWRlci5cbiAgICAgKi9cbiAgICBzZXRBY3RpdmVDb2xsaXNpb25UeXBlcyhhY3RpdmVDb2xsaXNpb25UeXBlcykge1xuICAgICAgICB0aGlzLmFjdGl2ZUNvbGxpc2lvblR5cGVzID0gYWN0aXZlQ29sbGlzaW9uVHlwZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbGxpZGVyLmpzLm1hcCIsImltcG9ydCB7IFJhd0NvbGxpZGVyU2V0IH0gZnJvbSBcIi4uL3Jhd1wiO1xuaW1wb3J0IHsgQ29hcmVuYSB9IGZyb20gXCIuLi9jb2FyZW5hXCI7XG5pbXBvcnQgeyBSb3RhdGlvbk9wcywgVmVjdG9yT3BzIH0gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQgeyBDb2xsaWRlciB9IGZyb20gJy4vY29sbGlkZXInO1xuLyoqXG4gKiBBIHNldCBvZiByaWdpZCBib2RpZXMgdGhhdCBjYW4gYmUgaGFuZGxlZCBieSBhIHBoeXNpY3MgcGlwZWxpbmUuXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYGNvbGxpZGVyU2V0LmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0IChhbmQgYWxsIHRoZSByaWdpZC1ib2RpZXMgaXQgY3JlYXRlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xsaWRlclNldCB7XG4gICAgY29uc3RydWN0b3IocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdDb2xsaWRlclNldCgpO1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBDb2FyZW5hKCk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG1hcCB3aXRoIHRoZSBleGlzdGluZyBlbGVtZW50cywgaWYgYW55LlxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByYXcuZm9yRWFjaENvbGxpZGVySGFuZGxlKChoYW5kbGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXQoaGFuZGxlLCBuZXcgQ29sbGlkZXIodGhpcywgaGFuZGxlLCBudWxsKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIGNvbGxpZGVyIHNldC5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLnJhdy5mcmVlKCk7XG4gICAgICAgIHRoaXMucmF3ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1hcC5jbGVhcigpO1xuICAgICAgICB0aGlzLm1hcCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGJvZGllcykge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGNvbGxpZGVyID0+IGNvbGxpZGVyLmZpbmFsaXplRGVzZXJpYWxpemF0aW9uKGJvZGllcykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpZGVyIGFuZCByZXR1cm4gaXRzIGludGVnZXIgaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJvZGllcyAtIFRoZSBzZXQgb2YgYm9kaWVzIHdoZXJlIHRoZSBjb2xsaWRlcidzIHBhcmVudCBjYW4gYmUgZm91bmQuXG4gICAgICogQHBhcmFtIGRlc2MgLSBUaGUgY29sbGlkZXIncyBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0gcGFyZW50SGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSByaWdpZC1ib2R5IHRoaXMgY29sbGlkZXIgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgY3JlYXRlQ29sbGlkZXIoYm9kaWVzLCBkZXNjLCBwYXJlbnRIYW5kbGUpIHtcbiAgICAgICAgbGV0IGhhc1BhcmVudCA9IHBhcmVudEhhbmRsZSAhPSB1bmRlZmluZWQgJiYgcGFyZW50SGFuZGxlICE9IG51bGw7XG4gICAgICAgIGlmIChoYXNQYXJlbnQgJiYgaXNOYU4ocGFyZW50SGFuZGxlKSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIGNvbGxpZGVyIHdpdGggYSBwYXJlbnQgcmlnaWQtYm9keSBoYW5kbGUgdGhhdCBpcyBub3QgYSBudW1iZXIuXCIpO1xuICAgICAgICBsZXQgcmF3U2hhcGUgPSBkZXNjLnNoYXBlLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJhd1RyYSA9IFZlY3Rvck9wcy5pbnRvUmF3KGRlc2MudHJhbnNsYXRpb24pO1xuICAgICAgICBsZXQgcmF3Um90ID0gUm90YXRpb25PcHMuaW50b1JhdyhkZXNjLnJvdGF0aW9uKTtcbiAgICAgICAgbGV0IHJhd0NvbSA9IFZlY3Rvck9wcy5pbnRvUmF3KGRlc2MuY2VudGVyT2ZNYXNzKTtcbiAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgbGV0IHJhd1ByaW5jaXBhbEluZXJ0aWEgPSBWZWN0b3JPcHMuaW50b1JhdyhkZXNjLnByaW5jaXBhbEFuZ3VsYXJJbmVydGlhKTtcbiAgICAgICAgbGV0IHJhd0luZXJ0aWFGcmFtZSA9IFJvdGF0aW9uT3BzLmludG9SYXcoZGVzYy5hbmd1bGFySW5lcnRpYUxvY2FsRnJhbWUpO1xuICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgbGV0IGhhbmRsZSA9IHRoaXMucmF3LmNyZWF0ZUNvbGxpZGVyKHJhd1NoYXBlLCByYXdUcmEsIHJhd1JvdCwgZGVzYy51c2VNYXNzUHJvcHMsIGRlc2MubWFzcywgcmF3Q29tLCBcbiAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgcmF3UHJpbmNpcGFsSW5lcnRpYSwgcmF3SW5lcnRpYUZyYW1lLCBcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIGRlc2MuZGVuc2l0eSwgZGVzYy5mcmljdGlvbiwgZGVzYy5yZXN0aXR1dGlvbiwgZGVzYy5mcmljdGlvbkNvbWJpbmVSdWxlLCBkZXNjLnJlc3RpdHV0aW9uQ29tYmluZVJ1bGUsIGRlc2MuaXNTZW5zb3IsIGRlc2MuY29sbGlzaW9uR3JvdXBzLCBkZXNjLnNvbHZlckdyb3VwcywgZGVzYy5hY3RpdmVDb2xsaXNpb25UeXBlcywgZGVzYy5hY3RpdmVIb29rcywgZGVzYy5hY3RpdmVFdmVudHMsIGhhc1BhcmVudCwgaGFzUGFyZW50ID8gcGFyZW50SGFuZGxlIDogMCwgYm9kaWVzLnJhdyk7XG4gICAgICAgIHJhd1NoYXBlLmZyZWUoKTtcbiAgICAgICAgcmF3VHJhLmZyZWUoKTtcbiAgICAgICAgcmF3Um90LmZyZWUoKTtcbiAgICAgICAgcmF3Q29tLmZyZWUoKTtcbiAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgcmF3UHJpbmNpcGFsSW5lcnRpYS5mcmVlKCk7XG4gICAgICAgIHJhd0luZXJ0aWFGcmFtZS5mcmVlKCk7XG4gICAgICAgIC8vICNlbmRpZlxuICAgICAgICBsZXQgcGFyZW50ID0gaGFzUGFyZW50ID8gYm9kaWVzLmdldChwYXJlbnRIYW5kbGUpIDogbnVsbDtcbiAgICAgICAgbGV0IGNvbGxpZGVyID0gbmV3IENvbGxpZGVyKHRoaXMsIGhhbmRsZSwgcGFyZW50LCBkZXNjLnNoYXBlKTtcbiAgICAgICAgdGhpcy5tYXAuc2V0KGhhbmRsZSwgY29sbGlkZXIpO1xuICAgICAgICByZXR1cm4gY29sbGlkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGNvbGxpZGVyIGZyb20gdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGludGVnZXIgaGFuZGxlIG9mIHRoZSBjb2xsaWRlciB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIGJvZGllcyAtIFRoZSBzZXQgb2YgcmlnaWQtYm9keSBjb250YWluaW5nIHRoZSByaWdpZC1ib2R5IHRoZSBjb2xsaWRlciBpcyBhdHRhY2hlZCB0by5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gSWYgYHRydWVgLCB0aGUgcmlnaWQtYm9keSB0aGUgcmVtb3ZlZCBjb2xsaWRlciBpcyBhdHRhY2hlZCB0byB3aWxsIGJlIHdva2VuLXVwIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgcmVtb3ZlKGhhbmRsZSwgaXNsYW5kcywgYm9kaWVzLCB3YWtlVXApIHtcbiAgICAgICAgdGhpcy5yYXcucmVtb3ZlKGhhbmRsZSwgaXNsYW5kcy5yYXcsIGJvZGllcy5yYXcsIHdha2VVcCk7XG4gICAgICAgIHRoaXMudW5tYXAoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgZnVuY3Rpb24sIGRvIG5vdCBjYWxsIGRpcmVjdGx5LlxuICAgICAqIEBwYXJhbSBoYW5kbGVcbiAgICAgKi9cbiAgICB1bm1hcChoYW5kbGUpIHtcbiAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJpZ2lkLWJvZHkgd2l0aCB0aGUgZ2l2ZW4gaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBoYW5kbGUgb2YgdGhlIHJpZ2lkLWJvZHkgdG8gcmV0cmlldmUuXG4gICAgICovXG4gICAgZ2V0KGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgY29sbGlkZXJzIG9uIHRoaXMgc2V0LlxuICAgICAqL1xuICAgIGxlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmxlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoaXMgc2V0IGNvbnRhaW4gYSBjb2xsaWRlciB3aXRoIHRoZSBnaXZlbiBoYW5kbGU/XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlIC0gVGhlIGNvbGxpZGVyIGhhbmRsZSB0byBjaGVjay5cbiAgICAgKi9cbiAgICBjb250YWlucyhoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGhhbmRsZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gY2xvc3VyZSB0byBlYWNoIGNvbGxpZGVyIGNvbnRhaW5lZCBieSB0aGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmIC0gVGhlIGNsb3N1cmUgdG8gYXBwbHkuXG4gICAgICovXG4gICAgZm9yRWFjaChmKSB7XG4gICAgICAgIHRoaXMubWFwLmZvckVhY2goZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGNvbGxpZGVycyBpbiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGNvbGxpZGVyIGxpc3QuXG4gICAgICovXG4gICAgZ2V0QWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0QWxsKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGlkZXJfc2V0LmpzLm1hcCIsImltcG9ydCB7IFZlY3Rvck9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG4vKipcbiAqIFRoZSBjb250YWN0IGluZm8gYmV0d2VlbiB0d28gc2hhcGVzLlxuICovXG5leHBvcnQgY2xhc3MgU2hhcGVDb250YWN0IHtcbiAgICBjb25zdHJ1Y3RvcihkaXN0LCBwb2ludDEsIHBvaW50Miwgbm9ybWFsMSwgbm9ybWFsMikge1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdDtcbiAgICAgICAgdGhpcy5wb2ludDEgPSBwb2ludDE7XG4gICAgICAgIHRoaXMucG9pbnQyID0gcG9pbnQyO1xuICAgICAgICB0aGlzLm5vcm1hbDEgPSBub3JtYWwxO1xuICAgICAgICB0aGlzLm5vcm1hbDIgPSBub3JtYWwyO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVJhdyhyYXcpIHtcbiAgICAgICAgaWYgKCFyYXcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNoYXBlQ29udGFjdChyYXcuZGlzdGFuY2UoKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LnBvaW50MSgpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LnBvaW50MigpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3Lm5vcm1hbDEoKSksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy5ub3JtYWwyKCkpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250YWN0LmpzLm1hcCIsIi8vICNpZiBESU0zXG5leHBvcnQgdmFyIEZlYXR1cmVUeXBlO1xuKGZ1bmN0aW9uIChGZWF0dXJlVHlwZSkge1xuICAgIEZlYXR1cmVUeXBlW0ZlYXR1cmVUeXBlW1wiVmVydGV4XCJdID0gMF0gPSBcIlZlcnRleFwiO1xuICAgIEZlYXR1cmVUeXBlW0ZlYXR1cmVUeXBlW1wiRWRnZVwiXSA9IDFdID0gXCJFZGdlXCI7XG4gICAgRmVhdHVyZVR5cGVbRmVhdHVyZVR5cGVbXCJGYWNlXCJdID0gMl0gPSBcIkZhY2VcIjtcbiAgICBGZWF0dXJlVHlwZVtGZWF0dXJlVHlwZVtcIlVua25vd25cIl0gPSAzXSA9IFwiVW5rbm93blwiO1xufSkoRmVhdHVyZVR5cGUgfHwgKEZlYXR1cmVUeXBlID0ge30pKTtcbi8vICNlbmRpZlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmVhdHVyZS5qcy5tYXAiLCJpbXBvcnQgeyBSYXdOYXJyb3dQaGFzZSB9IGZyb20gXCIuLi9yYXdcIjtcbmltcG9ydCB7IFZlY3Rvck9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG4vKipcbiAqIFRoZSBuYXJyb3ctcGhhc2UgdXNlZCBmb3IgcHJlY2lzZSBjb2xsaXNpb24tZGV0ZWN0aW9uLlxuICpcbiAqIFRvIGF2b2lkIGxlYWtpbmcgV0FTTSByZXNvdXJjZXMsIHRoaXMgTVVTVCBiZSBmcmVlZCBtYW51YWxseSB3aXRoIGBuYXJyb3dQaGFzZS5mcmVlKClgXG4gKiBvbmNlIHlvdSBhcmUgZG9uZSB1c2luZyBpdC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5hcnJvd1BoYXNlIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd05hcnJvd1BoYXNlKCk7XG4gICAgICAgIHRoaXMudGVtcE1hbmlmb2xkID0gbmV3IFRlbXBDb250YWN0TWFuaWZvbGQobnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgbmFycm93LXBoYXNlLlxuICAgICAqL1xuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMucmF3LmZyZWUoKTtcbiAgICAgICAgdGhpcy5yYXcgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVudW1lcmF0ZXMgYWxsIHRoZSBjb2xsaWRlcnMgcG90ZW50aWFsbHkgaW4gY29udGFjdCB3aXRoIHRoZSBnaXZlbiBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjEgLSBUaGUgc2Vjb25kIGNvbGxpZGVyIGludm9sdmVkIGluIHRoZSBjb250YWN0LlxuICAgICAqIEBwYXJhbSBmIC0gQ2xvc3VyZSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggY29sbGlkZXIgdGhhdCBpcyBpbiBjb250YWN0IHdpdGggYGNvbGxpZGVyMWAuXG4gICAgICovXG4gICAgY29udGFjdHNXaXRoKGNvbGxpZGVyMSwgZikge1xuICAgICAgICB0aGlzLnJhdy5jb250YWN0c193aXRoKGNvbGxpZGVyMSwgZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVudW1lcmF0ZXMgYWxsIHRoZSBjb2xsaWRlcnMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBjb2xsaWRlcnMsIGFzc3VtaW5nIG9uZSBvZiB0aGVtXG4gICAgICogaXMgYSBzZW5zb3IuXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGgoY29sbGlkZXIxLCBmKSB7XG4gICAgICAgIHRoaXMucmF3LmludGVyc2VjdGlvbnNfd2l0aChjb2xsaWRlcjEsIGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyB0aHJvdWdoIGFsbCB0aGUgY29udGFjdCBtYW5pZm9sZHMgYmV0d2VlbiB0aGUgZ2l2ZW4gcGFpciBvZiBjb2xsaWRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXIxIC0gVGhlIGZpcnN0IGNvbGxpZGVyIGludm9sdmVkIGluIHRoZSBjb250YWN0LlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjIgLSBUaGUgc2Vjb25kIGNvbGxpZGVyIGludm9sdmVkIGluIHRoZSBjb250YWN0LlxuICAgICAqIEBwYXJhbSBmIC0gQ2xvc3VyZSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggY29udGFjdCBtYW5pZm9sZCBiZXR3ZWVuIHRoZSB0d28gY29sbGlkZXJzLiBJZiB0aGUgc2Vjb25kIGFyZ3VtZW50XG4gICAgICogICAgICAgICAgICBwYXNzZWQgdG8gdGhpcyBjbG9zdXJlIGlzIGB0cnVlYCwgdGhlbiB0aGUgY29udGFjdCBtYW5pZm9sZCBkYXRhIGlzIGZsaXBwZWQsIGkuZS4sIG1ldGhvZHMgbGlrZSBgbG9jYWxOb3JtYWwxYFxuICAgICAqICAgICAgICAgICAgYWN0dWFsbHkgYXBwbHkgdG8gdGhlIGBjb2xsaWRlcjJgIGFuZCBmaWVsZHMgbGlrZSBgbG9jYWxOb3JtYWwyYCBhcHBseSB0byB0aGUgYGNvbGxpZGVyMWAuXG4gICAgICovXG4gICAgY29udGFjdFBhaXIoY29sbGlkZXIxLCBjb2xsaWRlcjIsIGYpIHtcbiAgICAgICAgY29uc3QgcmF3UGFpciA9IHRoaXMucmF3LmNvbnRhY3RfcGFpcihjb2xsaWRlcjEsIGNvbGxpZGVyMik7XG4gICAgICAgIGlmICghIXJhd1BhaXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGZsaXBwZWQgPSByYXdQYWlyLmNvbGxpZGVyMSgpICE9IGNvbGxpZGVyMTtcbiAgICAgICAgICAgIGxldCBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJhd1BhaXIubnVtQ29udGFjdE1hbmlmb2xkcygpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBNYW5pZm9sZC5yYXcgPSByYXdQYWlyLmNvbnRhY3RNYW5pZm9sZChpKTtcbiAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnRlbXBNYW5pZm9sZC5yYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgZih0aGlzLnRlbXBNYW5pZm9sZCwgZmxpcHBlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNBRkVUWTogVGhlIFJhd0NvbnRhY3RNYW5pZm9sZCBzdG9yZXMgYSByYXcgcG9pbnRlciB0aGF0IHdpbGwgYmUgaW52YWxpZGF0ZWRcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGF0IHRoZSBuZXh0IHRpbWVzdGVwLiBTbyB3ZSBtdXN0IGJlIHN1cmUgdG8gZnJlZSB0aGUgcGFpciBoZXJlXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0byBhdm9pZCB1bnNvdW5kbmVzcyBpbiB0aGUgUnVzdCBjb2RlLlxuICAgICAgICAgICAgICAgIHRoaXMudGVtcE1hbmlmb2xkLmZyZWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhd1BhaXIuZnJlZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGBjb2xsaWRlcjFgIGFuZCBgY29sbGlkZXIyYCBpbnRlcnNlY3QgYW5kIGF0IGxlYXN0IG9uZSBvZiB0aGVtIGlzIGEgc2Vuc29yLlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjEg4oiSIFRoZSBmaXJzdCBjb2xsaWRlciBpbnZvbHZlZCBpbiB0aGUgaW50ZXJzZWN0aW9uLlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjIg4oiSIFRoZSBzZWNvbmQgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGludGVyc2VjdGlvbi5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25QYWlyKGNvbGxpZGVyMSwgY29sbGlkZXIyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5pbnRlcnNlY3Rpb25fcGFpcihjb2xsaWRlcjEsIGNvbGxpZGVyMik7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRlbXBDb250YWN0TWFuaWZvbGQge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdztcbiAgICB9XG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbm9ybWFsKCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcodGhpcy5yYXcubm9ybWFsKCkpO1xuICAgIH1cbiAgICBsb2NhbE5vcm1hbDEoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhdy5sb2NhbF9uMSgpKTtcbiAgICB9XG4gICAgbG9jYWxOb3JtYWwyKCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcodGhpcy5yYXcubG9jYWxfbjIoKSk7XG4gICAgfVxuICAgIHN1YnNoYXBlMSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnN1YnNoYXBlMSgpO1xuICAgIH1cbiAgICBzdWJzaGFwZTIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5zdWJzaGFwZTIoKTtcbiAgICB9XG4gICAgbnVtQ29udGFjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5udW1fY29udGFjdHMoKTtcbiAgICB9XG4gICAgbG9jYWxDb250YWN0UG9pbnQxKGkpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3LmNvbnRhY3RfbG9jYWxfcDEoaSkpO1xuICAgIH1cbiAgICBsb2NhbENvbnRhY3RQb2ludDIoaSkge1xuICAgICAgICByZXR1cm4gVmVjdG9yT3BzLmZyb21SYXcodGhpcy5yYXcuY29udGFjdF9sb2NhbF9wMihpKSk7XG4gICAgfVxuICAgIGNvbnRhY3REaXN0KGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmNvbnRhY3RfZGlzdChpKTtcbiAgICB9XG4gICAgY29udGFjdEZpZDEoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuY29udGFjdF9maWQxKGkpO1xuICAgIH1cbiAgICBjb250YWN0RmlkMihpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5jb250YWN0X2ZpZDIoaSk7XG4gICAgfVxuICAgIGNvbnRhY3RJbXB1bHNlKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmNvbnRhY3RfaW1wdWxzZShpKTtcbiAgICB9XG4gICAgLy8gI2lmIERJTTNcbiAgICBjb250YWN0VGFuZ2VudEltcHVsc2VYKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmNvbnRhY3RfdGFuZ2VudF9pbXB1bHNlX3goaSk7XG4gICAgfVxuICAgIGNvbnRhY3RUYW5nZW50SW1wdWxzZVkoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuY29udGFjdF90YW5nZW50X2ltcHVsc2VfeShpKTtcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgbnVtU29sdmVyQ29udGFjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5udW1fc29sdmVyX2NvbnRhY3RzKCk7XG4gICAgfVxuICAgIHNvbHZlckNvbnRhY3RQb2ludChpKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3JPcHMuZnJvbVJhdyh0aGlzLnJhdy5zb2x2ZXJfY29udGFjdF9wb2ludChpKSk7XG4gICAgfVxuICAgIHNvbHZlckNvbnRhY3REaXN0KGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnNvbHZlcl9jb250YWN0X2Rpc3QoaSk7XG4gICAgfVxuICAgIHNvbHZlckNvbnRhY3RGcmljdGlvbihpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5zb2x2ZXJfY29udGFjdF9mcmljdGlvbihpKTtcbiAgICB9XG4gICAgc29sdmVyQ29udGFjdFJlc3RpdHV0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnNvbHZlcl9jb250YWN0X3Jlc3RpdHV0aW9uKGkpO1xuICAgIH1cbiAgICBzb2x2ZXJDb250YWN0VGFuZ2VudFZlbG9jaXR5KGkpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5mcm9tUmF3KHRoaXMucmF3LnNvbHZlcl9jb250YWN0X3RhbmdlbnRfdmVsb2NpdHkoaSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hcnJvd19waGFzZS5qcy5tYXAiLCJpbXBvcnQgeyBWZWN0b3JPcHMgfSBmcm9tIFwiLi4vbWF0aFwiO1xuaW1wb3J0IHsgRmVhdHVyZVR5cGUgfSBmcm9tIFwiLi9mZWF0dXJlXCI7XG4vKipcbiAqIFRoZSBwcm9qZWN0aW9uIG9mIGEgcG9pbnQgb24gYSBjb2xsaWRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvaW50UHJvamVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocG9pbnQsIGlzSW5zaWRlKSB7XG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5pc0luc2lkZSA9IGlzSW5zaWRlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVJhdyhyYXcpIHtcbiAgICAgICAgaWYgKCFyYXcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFBvaW50UHJvamVjdGlvbihWZWN0b3JPcHMuZnJvbVJhdyhyYXcucG9pbnQoKSksIHJhdy5pc0luc2lkZSgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBwcm9qZWN0aW9uIG9mIGEgcG9pbnQgb24gYSBjb2xsaWRlciAoaW5jbHVkZXMgdGhlIGNvbGxpZGVyIGhhbmRsZSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2ludENvbGxpZGVyUHJvamVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoY29sbGlkZXIsIHBvaW50LCBpc0luc2lkZSwgZmVhdHVyZVR5cGUsIGZlYXR1cmVJZCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIGdlb21ldHJpYyBmZWF0dXJlIHRoZSBwb2ludCB3YXMgcHJvamVjdGVkIG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZWF0dXJlVHlwZSA9IEZlYXR1cmVUeXBlLlVua25vd247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWQgb2YgdGhlIGdlb21ldHJpYyBmZWF0dXJlIHRoZSBwb2ludCB3YXMgcHJvamVjdGVkIG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZWF0dXJlSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29sbGlkZXIgPSBjb2xsaWRlcjtcbiAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLmlzSW5zaWRlID0gaXNJbnNpZGU7XG4gICAgICAgIGlmIChmZWF0dXJlSWQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUlkID0gZmVhdHVyZUlkO1xuICAgICAgICBpZiAoZmVhdHVyZVR5cGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBmZWF0dXJlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgUG9pbnRDb2xsaWRlclByb2plY3Rpb24oY29sbGlkZXJTZXQuZ2V0KHJhdy5jb2xsaWRlckhhbmRsZSgpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LnBvaW50KCkpLCByYXcuaXNJbnNpZGUoKSwgcmF3LmZlYXR1cmVUeXBlKCksIHJhdy5mZWF0dXJlSWQoKSk7XG4gICAgICAgIHJhdy5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9pbnQuanMubWFwIiwiaW1wb3J0IHsgVmVjdG9yT3BzIH0gZnJvbSBcIi4uL21hdGhcIjtcbmltcG9ydCB7IEZlYXR1cmVUeXBlIH0gZnJvbSBcIi4vZmVhdHVyZVwiO1xuLyoqXG4gKiBBIHJheS4gVGhpcyBpcyBhIGRpcmVjdGVkIGhhbGYtbGluZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJheSB7XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGEgcmF5IGZyb20gaXRzIG9yaWdpbiBhbmQgZGlyZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9yaWdpbiAtIFRoZSByYXkncyBzdGFydGluZyBwb2ludC5cbiAgICAgKiBAcGFyYW0gZGlyIC0gVGhlIHJheSdzIGRpcmVjdGlvbiBvZiBwcm9wYWdhdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcmlnaW4sIGRpcikge1xuICAgICAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XG4gICAgfVxuICAgIHBvaW50QXQodCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5vcmlnaW4ueCArIHRoaXMuZGlyLnggKiB0LFxuICAgICAgICAgICAgeTogdGhpcy5vcmlnaW4ueSArIHRoaXMuZGlyLnkgKiB0LFxuICAgICAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgICAgIHo6IHRoaXMub3JpZ2luLnogKyB0aGlzLmRpci56ICogdCxcbiAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICB9O1xuICAgIH1cbiAgICA7XG59XG4vKipcbiAqIFRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgYSBjb2xsaWRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFJheUludGVyc2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodG9pLCBub3JtYWwsIGZlYXR1cmVUeXBlLCBmZWF0dXJlSWQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBnZW9tZXRyaWMgZmVhdHVyZSB0aGUgcG9pbnQgd2FzIHByb2plY3RlZCBvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBGZWF0dXJlVHlwZS5Vbmtub3duO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkIG9mIHRoZSBnZW9tZXRyaWMgZmVhdHVyZSB0aGUgcG9pbnQgd2FzIHByb2plY3RlZCBvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmVhdHVyZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBub3JtYWw7XG4gICAgICAgIGlmIChmZWF0dXJlSWQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUlkID0gZmVhdHVyZUlkO1xuICAgICAgICBpZiAoZmVhdHVyZVR5cGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBmZWF0dXJlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcocmF3KSB7XG4gICAgICAgIGlmICghcmF3KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBSYXlJbnRlcnNlY3Rpb24ocmF3LnRvaSgpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsKCkpLCByYXcuZmVhdHVyZVR5cGUoKSwgcmF3LmZlYXR1cmVJZCgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgYSBjb2xsaWRlciAoaW5jbHVkZXMgdGhlIGNvbGxpZGVyIGhhbmRsZSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBSYXlDb2xsaWRlckludGVyc2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoY29sbGlkZXIsIHRvaSwgbm9ybWFsLCBmZWF0dXJlVHlwZSwgZmVhdHVyZUlkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZ2VvbWV0cmljIGZlYXR1cmUgdGhlIHBvaW50IHdhcyBwcm9qZWN0ZWQgb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZlYXR1cmVUeXBlID0gRmVhdHVyZVR5cGUuVW5rbm93bjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZCBvZiB0aGUgZ2VvbWV0cmljIGZlYXR1cmUgdGhlIHBvaW50IHdhcyBwcm9qZWN0ZWQgb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZlYXR1cmVJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb2xsaWRlciA9IGNvbGxpZGVyO1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBub3JtYWw7XG4gICAgICAgIGlmIChmZWF0dXJlSWQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUlkID0gZmVhdHVyZUlkO1xuICAgICAgICBpZiAoZmVhdHVyZVR5cGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZVR5cGUgPSBmZWF0dXJlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgUmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24oY29sbGlkZXJTZXQuZ2V0KHJhdy5jb2xsaWRlckhhbmRsZSgpKSwgcmF3LnRvaSgpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsKCkpLCByYXcuZmVhdHVyZVR5cGUoKSwgcmF3LmZlYXR1cmVJZCgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSB0aW1lIG9mIGltcGFjdCBiZXR3ZWVuIGEgcmF5IGFuZCBhIGNvbGxpZGVyLlxuICovXG5leHBvcnQgY2xhc3MgUmF5Q29sbGlkZXJUb2kge1xuICAgIGNvbnN0cnVjdG9yKGNvbGxpZGVyLCB0b2kpIHtcbiAgICAgICAgdGhpcy5jb2xsaWRlciA9IGNvbGxpZGVyO1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgUmF5Q29sbGlkZXJUb2koY29sbGlkZXJTZXQuZ2V0KHJhdy5jb2xsaWRlckhhbmRsZSgpKSwgcmF3LnRvaSgpKTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYXkuanMubWFwIiwiaW1wb3J0IHsgVmVjdG9yT3BzLCBSb3RhdGlvbk9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgeyBSYXdTaGFwZSB9IGZyb20gXCIuLi9yYXdcIjtcbmltcG9ydCB7IFNoYXBlQ29udGFjdCB9IGZyb20gXCIuL2NvbnRhY3RcIjtcbmltcG9ydCB7IFBvaW50UHJvamVjdGlvbiB9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQgeyBSYXlJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi9yYXlcIjtcbmltcG9ydCB7IFNoYXBlVE9JIH0gZnJvbSBcIi4vdG9pXCI7XG5leHBvcnQgY2xhc3MgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIGluc3RhbnQgbW9kZSB3aXRob3V0IGNhY2hlXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SYXcocmF3U2V0LCBoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmF3VHlwZSA9IHJhd1NldC5jb1NoYXBlVHlwZShoYW5kbGUpO1xuICAgICAgICBsZXQgZXh0ZW50cztcbiAgICAgICAgbGV0IGJvcmRlclJhZGl1cztcbiAgICAgICAgbGV0IHZzO1xuICAgICAgICBsZXQgaW5kaWNlcztcbiAgICAgICAgbGV0IGhhbGZIZWlnaHQ7XG4gICAgICAgIGxldCByYWRpdXM7XG4gICAgICAgIHN3aXRjaCAocmF3VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQmFsbDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJhbGwocmF3U2V0LmNvUmFkaXVzKGhhbmRsZSkpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ3Vib2lkOlxuICAgICAgICAgICAgICAgIGV4dGVudHMgPSByYXdTZXQuY29IYWxmRXh0ZW50cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDdWJvaWQoZXh0ZW50cy54LCBleHRlbnRzLnksIGV4dGVudHMueik7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlJvdW5kQ3Vib2lkOlxuICAgICAgICAgICAgICAgIGV4dGVudHMgPSByYXdTZXQuY29IYWxmRXh0ZW50cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1cyA9IHJhd1NldC5jb1JvdW5kUmFkaXVzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJvdW5kQ3Vib2lkKGV4dGVudHMueCwgZXh0ZW50cy55LCBleHRlbnRzLnosIGJvcmRlclJhZGl1cyk7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkNhcHN1bGU6XG4gICAgICAgICAgICAgICAgaGFsZkhlaWdodCA9IHJhd1NldC5jb0hhbGZIZWlnaHQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYXdTZXQuY29SYWRpdXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENhcHN1bGUoaGFsZkhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlNlZ21lbnQ6XG4gICAgICAgICAgICAgICAgdnMgPSByYXdTZXQuY29WZXJ0aWNlcyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWdtZW50KFZlY3Rvck9wcy5uZXcodnNbMF0sIHZzWzFdLCB2c1syXSksIFZlY3Rvck9wcy5uZXcodnNbM10sIHZzWzRdLCB2c1s1XSkpO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5Qb2x5bGluZTpcbiAgICAgICAgICAgICAgICB2cyA9IHJhd1NldC5jb1ZlcnRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IHJhd1NldC5jb0luZGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvbHlsaW5lKHZzLCBpbmRpY2VzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlRyaWFuZ2xlOlxuICAgICAgICAgICAgICAgIHZzID0gcmF3U2V0LmNvVmVydGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAvLyAjaWYgRElNM1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVHJpYW5nbGUoVmVjdG9yT3BzLm5ldyh2c1swXSwgdnNbMV0sIHZzWzJdKSwgVmVjdG9yT3BzLm5ldyh2c1szXSwgdnNbNF0sIHZzWzVdKSwgVmVjdG9yT3BzLm5ldyh2c1s2XSwgdnNbN10sIHZzWzhdKSk7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlJvdW5kVHJpYW5nbGU6XG4gICAgICAgICAgICAgICAgdnMgPSByYXdTZXQuY29WZXJ0aWNlcyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1cyA9IHJhd1NldC5jb1JvdW5kUmFkaXVzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJvdW5kVHJpYW5nbGUoVmVjdG9yT3BzLm5ldyh2c1swXSwgdnNbMV0sIHZzWzJdKSwgVmVjdG9yT3BzLm5ldyh2c1szXSwgdnNbNF0sIHZzWzVdKSwgVmVjdG9yT3BzLm5ldyh2c1s2XSwgdnNbN10sIHZzWzhdKSwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuVHJpTWVzaDpcbiAgICAgICAgICAgICAgICB2cyA9IHJhd1NldC5jb1ZlcnRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IHJhd1NldC5jb0luZGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyaU1lc2godnMsIGluZGljZXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuSGVpZ2h0RmllbGQ6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSByYXdTZXQuY29IZWlnaHRmaWVsZFNjYWxlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0cyA9IHJhd1NldC5jb0hlaWdodGZpZWxkSGVpZ2h0cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgICAgICAgICAgY29uc3QgbnJvd3MgPSByYXdTZXQuY29IZWlnaHRmaWVsZE5Sb3dzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmNvbHMgPSByYXdTZXQuY29IZWlnaHRmaWVsZE5Db2xzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWlnaHRmaWVsZChucm93cywgbmNvbHMsIGhlaWdodHMsIHNjYWxlKTtcbiAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkNvbnZleFBvbHloZWRyb246XG4gICAgICAgICAgICAgICAgdnMgPSByYXdTZXQuY29WZXJ0aWNlcyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIGluZGljZXMgPSByYXdTZXQuY29JbmRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb252ZXhQb2x5aGVkcm9uKHZzLCBpbmRpY2VzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlJvdW5kQ29udmV4UG9seWhlZHJvbjpcbiAgICAgICAgICAgICAgICB2cyA9IHJhd1NldC5jb1ZlcnRpY2VzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IHJhd1NldC5jb0luZGljZXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXMgPSByYXdTZXQuY29Sb3VuZFJhZGl1cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUm91bmRDb252ZXhQb2x5aGVkcm9uKHZzLCBpbmRpY2VzLCBib3JkZXJSYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ3lsaW5kZXI6XG4gICAgICAgICAgICAgICAgaGFsZkhlaWdodCA9IHJhd1NldC5jb0hhbGZIZWlnaHQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYXdTZXQuY29SYWRpdXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEN5bGluZGVyKGhhbGZIZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5Sb3VuZEN5bGluZGVyOlxuICAgICAgICAgICAgICAgIGhhbGZIZWlnaHQgPSByYXdTZXQuY29IYWxmSGVpZ2h0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgcmFkaXVzID0gcmF3U2V0LmNvUmFkaXVzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzID0gcmF3U2V0LmNvUm91bmRSYWRpdXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJvdW5kQ3lsaW5kZXIoaGFsZkhlaWdodCwgcmFkaXVzLCBib3JkZXJSYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ29uZTpcbiAgICAgICAgICAgICAgICBoYWxmSGVpZ2h0ID0gcmF3U2V0LmNvSGFsZkhlaWdodChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHJhd1NldC5jb1JhZGl1cyhoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29uZShoYWxmSGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUm91bmRDb25lOlxuICAgICAgICAgICAgICAgIGhhbGZIZWlnaHQgPSByYXdTZXQuY29IYWxmSGVpZ2h0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgcmFkaXVzID0gcmF3U2V0LmNvUmFkaXVzKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzID0gcmF3U2V0LmNvUm91bmRSYWRpdXMoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJvdW5kQ29uZShoYWxmSGVpZ2h0LCByYWRpdXMsIGJvcmRlclJhZGl1cyk7XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBzaGFwZSB0eXBlOiBcIiArIHJhd1R5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSB0aW1lIG9mIGltcGFjdCBiZXR3ZWVuIHR3byBtb3Zpbmcgc2hhcGVzLlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczEgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGlzIHNhaHBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDEgLSBUaGUgcm90YXRpb24gb2YgdGhpcyBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVWZWwxIC0gVGhlIHZlbG9jaXR5IG9mIHRoaXMgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMiAtIFRoZSBzZWNvbmQgbW92aW5nIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczIgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDIgLSBUaGUgcm90YXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVWZWwyIC0gVGhlIHZlbG9jaXR5IG9mIHRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUgd2hlbiB0aGUgaW5wYWN0IGNhbiBoYXBwZW4uXG4gICAgICogQHJldHVybnMgSWYgdGhlIHR3byBtb3Zpbmcgc2hhcGVzIGNvbGxpZGVyIGF0IHNvbWUgcG9pbnQgYWxvbmcgdGhlaXIgdHJhamVjdG9yaWVzLCB0aGlzIHJldHJ1bnMgdGhlXG4gICAgICogIHRpbWUgYXQgd2hpY2ggdGhlIHR3byBzaGFwZSBjb2xsaWRlciBhcyB3ZWxsIGFzIHRoZSBjb250YWN0IGluZm9ybWF0aW9uIGR1cm5pbmcgdGhlIGltcGFjdC4gUmV0dXJuc1xuICAgICAqICBgbnVsbGBpZiB0aGUgdHdvIHNoYXBlcyBuZXZlciBjb2xsaWRlIGFsb25nIHRoZWlyIHBhdGhzLlxuICAgICAqL1xuICAgIGNhc3RTaGFwZShzaGFwZVBvczEsIHNoYXBlUm90MSwgc2hhcGVWZWwxLCBzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyLCBzaGFwZVZlbDIsIG1heFRvaSkge1xuICAgICAgICBsZXQgcmF3UG9zMSA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zMSk7XG4gICAgICAgIGxldCByYXdSb3QxID0gUm90YXRpb25PcHMuaW50b1JhdyhzaGFwZVJvdDEpO1xuICAgICAgICBsZXQgcmF3VmVsMSA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlVmVsMSk7XG4gICAgICAgIGxldCByYXdQb3MyID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVQb3MyKTtcbiAgICAgICAgbGV0IHJhd1JvdDIgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90Mik7XG4gICAgICAgIGxldCByYXdWZWwyID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVWZWwyKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlVE9JLmZyb21SYXcobnVsbCwgcmF3U2hhcGUxLmNhc3RTaGFwZShyYXdQb3MxLCByYXdSb3QxLCByYXdWZWwxLCByYXdTaGFwZTIsIHJhd1BvczIsIHJhd1JvdDIsIHJhd1ZlbDIsIG1heFRvaSkpO1xuICAgICAgICByYXdQb3MxLmZyZWUoKTtcbiAgICAgICAgcmF3Um90MS5mcmVlKCk7XG4gICAgICAgIHJhd1ZlbDEuZnJlZSgpO1xuICAgICAgICByYXdQb3MyLmZyZWUoKTtcbiAgICAgICAgcmF3Um90Mi5mcmVlKCk7XG4gICAgICAgIHJhd1ZlbDIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTEuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiB0aGlzIHNoYXBlIGludGVyc2VjdHMgYW5vdGhlciBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczEgLSBUaGUgcG9zaXRpb24gb2YgdGhpcyBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QxIC0gVGhlIHJvdGF0aW9uIG9mIHRoaXMgc2hhcGUuXG4gICAgICogQHBhcmFtIHNoYXBlMiAgLSBUaGUgc2Vjb25kIHNoYXBlIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHNoYXBlUG9zMiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIHNoYXBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDIgLSBUaGUgcm90YXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHR3byBzaGFwZXMgaW50ZXJzZWN0LCBgZmFsc2VgIGlmIHRoZXkgZG9u4oCZdC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3RzU2hhcGUoc2hhcGVQb3MxLCBzaGFwZVJvdDEsIHNoYXBlMiwgc2hhcGVQb3MyLCBzaGFwZVJvdDIpIHtcbiAgICAgICAgbGV0IHJhd1BvczEgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczEpO1xuICAgICAgICBsZXQgcmF3Um90MSA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QxKTtcbiAgICAgICAgbGV0IHJhd1BvczIgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczIpO1xuICAgICAgICBsZXQgcmF3Um90MiA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QyKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJhd1NoYXBlMS5pbnRlcnNlY3RzU2hhcGUocmF3UG9zMSwgcmF3Um90MSwgcmF3U2hhcGUyLCByYXdQb3MyLCByYXdSb3QyKTtcbiAgICAgICAgcmF3UG9zMS5mcmVlKCk7XG4gICAgICAgIHJhd1JvdDEuZnJlZSgpO1xuICAgICAgICByYXdQb3MyLmZyZWUoKTtcbiAgICAgICAgcmF3Um90Mi5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMS5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlMi5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIG9uZSBwYWlyIG9mIGNvbnRhY3QgcG9pbnRzIGJldHdlZW4gdHdvIHNoYXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZVBvczEgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGlzIHNhaHBlLlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdDEgLSBUaGUgcm90YXRpb24gb2YgdGhpcyBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGUyIC0gVGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVQb3MyIC0gVGhlIGluaXRpYWwgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBzaGFwZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QyIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzZWNvbmQgc2hhcGUuXG4gICAgICogQHBhcmFtIHByZWRpY3Rpb24gLSBUaGUgcHJlZGljdGlvbiB2YWx1ZSwgaWYgdGhlIHNoYXBlcyBhcmUgc2VwYXJhdGVkIGJ5IGEgZGlzdGFuY2UgZ3JlYXRlciB0aGFuIHRoaXMgdmFsdWUsIHRlc3Qgd2lsbCBmYWlsLlxuICAgICAqIEByZXR1cm5zIGBudWxsYCBpZiB0aGUgc2hhcGVzIGFyZSBzZXBhcmF0ZWQgYnkgYSBkaXN0YW5jZSBncmVhdGVyIHRoYW4gcHJlZGljdGlvbiwgb3RoZXJ3aXNlIGNvbnRhY3QgZGV0YWlscy4gVGhlIHJlc3VsdCBpcyBnaXZlbiBpbiB3b3JsZC1zcGFjZS5cbiAgICAgKi9cbiAgICBjb250YWN0U2hhcGUoc2hhcGVQb3MxLCBzaGFwZVJvdDEsIHNoYXBlMiwgc2hhcGVQb3MyLCBzaGFwZVJvdDIsIHByZWRpY3Rpb24pIHtcbiAgICAgICAgbGV0IHJhd1BvczEgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczEpO1xuICAgICAgICBsZXQgcmF3Um90MSA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QxKTtcbiAgICAgICAgbGV0IHJhd1BvczIgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvczIpO1xuICAgICAgICBsZXQgcmF3Um90MiA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QyKTtcbiAgICAgICAgbGV0IHJhd1NoYXBlMSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmF3U2hhcGUyID0gc2hhcGUyLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlQ29udGFjdC5mcm9tUmF3KHJhd1NoYXBlMS5jb250YWN0U2hhcGUocmF3UG9zMSwgcmF3Um90MSwgcmF3U2hhcGUyLCByYXdQb3MyLCByYXdSb3QyLCBwcmVkaWN0aW9uKSk7XG4gICAgICAgIHJhd1BvczEuZnJlZSgpO1xuICAgICAgICByYXdSb3QxLmZyZWUoKTtcbiAgICAgICAgcmF3UG9zMi5mcmVlKCk7XG4gICAgICAgIHJhd1JvdDIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTEuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZTIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb250YWluc1BvaW50KHNoYXBlUG9zLCBzaGFwZVJvdCwgcG9pbnQpIHtcbiAgICAgICAgbGV0IHJhd1BvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdCA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QpO1xuICAgICAgICBsZXQgcmF3UG9pbnQgPSBWZWN0b3JPcHMuaW50b1Jhdyhwb2ludCk7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmF3U2hhcGUuY29udGFpbnNQb2ludChyYXdQb3MsIHJhd1JvdCwgcmF3UG9pbnQpO1xuICAgICAgICByYXdQb3MuZnJlZSgpO1xuICAgICAgICByYXdSb3QuZnJlZSgpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgICAgIHJhd1NoYXBlLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcHJvamVjdFBvaW50KHNoYXBlUG9zLCBzaGFwZVJvdCwgcG9pbnQsIHNvbGlkKSB7XG4gICAgICAgIGxldCByYXdQb3MgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvcyk7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90KTtcbiAgICAgICAgbGV0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICBsZXQgcmF3U2hhcGUgPSB0aGlzLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBvaW50UHJvamVjdGlvbi5mcm9tUmF3KHJhd1NoYXBlLnByb2plY3RQb2ludChyYXdQb3MsIHJhd1JvdCwgcmF3UG9pbnQsIHNvbGlkKSk7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1BvaW50LmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpbnRlcnNlY3RzUmF5KHJheSwgc2hhcGVQb3MsIHNoYXBlUm90LCBtYXhUb2kpIHtcbiAgICAgICAgbGV0IHJhd1BvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdCA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QpO1xuICAgICAgICBsZXQgcmF3UmF5T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3UmF5RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmF3U2hhcGUuaW50ZXJzZWN0c1JheShyYXdQb3MsIHJhd1JvdCwgcmF3UmF5T3JpZywgcmF3UmF5RGlyLCBtYXhUb2kpO1xuICAgICAgICByYXdQb3MuZnJlZSgpO1xuICAgICAgICByYXdSb3QuZnJlZSgpO1xuICAgICAgICByYXdSYXlPcmlnLmZyZWUoKTtcbiAgICAgICAgcmF3UmF5RGlyLmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXN0UmF5KHJheSwgc2hhcGVQb3MsIHNoYXBlUm90LCBtYXhUb2ksIHNvbGlkKSB7XG4gICAgICAgIGxldCByYXdQb3MgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVBvcyk7XG4gICAgICAgIGxldCByYXdSb3QgPSBSb3RhdGlvbk9wcy5pbnRvUmF3KHNoYXBlUm90KTtcbiAgICAgICAgbGV0IHJhd1JheU9yaWcgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkub3JpZ2luKTtcbiAgICAgICAgbGV0IHJhd1JheURpciA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5kaXIpO1xuICAgICAgICBsZXQgcmF3U2hhcGUgPSB0aGlzLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJhd1NoYXBlLmNhc3RSYXkocmF3UG9zLCByYXdSb3QsIHJhd1JheU9yaWcsIHJhd1JheURpciwgbWF4VG9pLCBzb2xpZCk7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1JheU9yaWcuZnJlZSgpO1xuICAgICAgICByYXdSYXlEaXIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNhc3RSYXlBbmRHZXROb3JtYWwocmF5LCBzaGFwZVBvcywgc2hhcGVSb3QsIG1heFRvaSwgc29saWQpIHtcbiAgICAgICAgbGV0IHJhd1BvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdCA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QpO1xuICAgICAgICBsZXQgcmF3UmF5T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3UmF5RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHRoaXMuaW50b1JhdygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUmF5SW50ZXJzZWN0aW9uLmZyb21SYXcocmF3U2hhcGUuY2FzdFJheUFuZEdldE5vcm1hbChyYXdQb3MsIHJhd1JvdCwgcmF3UmF5T3JpZywgcmF3UmF5RGlyLCBtYXhUb2ksIHNvbGlkKSk7XG4gICAgICAgIHJhd1Bvcy5mcmVlKCk7XG4gICAgICAgIHJhd1JvdC5mcmVlKCk7XG4gICAgICAgIHJhd1JheU9yaWcuZnJlZSgpO1xuICAgICAgICByYXdSYXlEaXIuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8gI2lmIERJTTNcbi8qKlxuICogQW4gZW51bWVyYXRpb24gcmVwcmVzZW50aW5nIHRoZSB0eXBlIG9mIGEgc2hhcGUuXG4gKi9cbmV4cG9ydCB2YXIgU2hhcGVUeXBlO1xuKGZ1bmN0aW9uIChTaGFwZVR5cGUpIHtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiQmFsbFwiXSA9IDBdID0gXCJCYWxsXCI7XG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIkN1Ym9pZFwiXSA9IDFdID0gXCJDdWJvaWRcIjtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiQ2Fwc3VsZVwiXSA9IDJdID0gXCJDYXBzdWxlXCI7XG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIlNlZ21lbnRcIl0gPSAzXSA9IFwiU2VnbWVudFwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJQb2x5bGluZVwiXSA9IDRdID0gXCJQb2x5bGluZVwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJUcmlhbmdsZVwiXSA9IDVdID0gXCJUcmlhbmdsZVwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJUcmlNZXNoXCJdID0gNl0gPSBcIlRyaU1lc2hcIjtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiSGVpZ2h0RmllbGRcIl0gPSA3XSA9IFwiSGVpZ2h0RmllbGRcIjtcbiAgICAvLyBDb21wb3VuZCA9IDgsXG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIkNvbnZleFBvbHloZWRyb25cIl0gPSA5XSA9IFwiQ29udmV4UG9seWhlZHJvblwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJDeWxpbmRlclwiXSA9IDEwXSA9IFwiQ3lsaW5kZXJcIjtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiQ29uZVwiXSA9IDExXSA9IFwiQ29uZVwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJSb3VuZEN1Ym9pZFwiXSA9IDEyXSA9IFwiUm91bmRDdWJvaWRcIjtcbiAgICBTaGFwZVR5cGVbU2hhcGVUeXBlW1wiUm91bmRUcmlhbmdsZVwiXSA9IDEzXSA9IFwiUm91bmRUcmlhbmdsZVwiO1xuICAgIFNoYXBlVHlwZVtTaGFwZVR5cGVbXCJSb3VuZEN5bGluZGVyXCJdID0gMTRdID0gXCJSb3VuZEN5bGluZGVyXCI7XG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIlJvdW5kQ29uZVwiXSA9IDE1XSA9IFwiUm91bmRDb25lXCI7XG4gICAgU2hhcGVUeXBlW1NoYXBlVHlwZVtcIlJvdW5kQ29udmV4UG9seWhlZHJvblwiXSA9IDE2XSA9IFwiUm91bmRDb252ZXhQb2x5aGVkcm9uXCI7XG59KShTaGFwZVR5cGUgfHwgKFNoYXBlVHlwZSA9IHt9KSk7XG4vLyAjZW5kaWZcbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgc3BoZXJlIGluIDNEIGFuZCBhIGNpcmNsZSBpbiAyRC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhbGwgZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBiYWxsIHdpdGggdGhlIGdpdmVuIHJhZGl1cy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIGJhbGxzIHJhZGl1cy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyYWRpdXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLkJhbGw7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUuYmFsbCh0aGlzLnJhZGl1cyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNoYXBlIHRoYXQgaXMgYSBib3ggaW4gM0QgYW5kIGEgcmVjdGFuZ2xlIGluIDJELlxuICovXG5leHBvcnQgY2xhc3MgQ3Vib2lkIGV4dGVuZHMgU2hhcGUge1xuICAgIC8vICNpZiBESU0zXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyAzRCBjdWJvaWQuXG4gICAgICogQHBhcmFtIGh4IC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGN1Ym9pZC5cbiAgICAgKiBAcGFyYW0gaHkgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGN1Ym9pZC5cbiAgICAgKiBAcGFyYW0gaHogLSBUaGUgaGFsZiBkZXB0aCBvZiB0aGUgY3Vib2lkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGh4LCBoeSwgaHopIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLkN1Ym9pZDtcbiAgICAgICAgdGhpcy5oYWxmRXh0ZW50cyA9IFZlY3Rvck9wcy5uZXcoaHgsIGh5LCBoeik7XG4gICAgfVxuICAgIC8vICNlbmRpZlxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIC8vICNpZiBESU0zXG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5jdWJvaWQodGhpcy5oYWxmRXh0ZW50cy54LCB0aGlzLmhhbGZFeHRlbnRzLnksIHRoaXMuaGFsZkV4dGVudHMueik7XG4gICAgICAgIC8vICNlbmRpZlxuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgYm94IGluIDNEIGFuZCBhIHJlY3RhbmdsZSBpbiAyRCwgd2l0aCByb3VuZCBjb3JuZXJzLlxuICovXG5leHBvcnQgY2xhc3MgUm91bmRDdWJvaWQgZXh0ZW5kcyBTaGFwZSB7XG4gICAgLy8gI2lmIERJTTNcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IDNEIGN1Ym9pZC5cbiAgICAgKiBAcGFyYW0gaHggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgY3Vib2lkLlxuICAgICAqIEBwYXJhbSBoeSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGUgY3Vib2lkLlxuICAgICAqIEBwYXJhbSBoeiAtIFRoZSBoYWxmIGRlcHRoIG9mIHRoZSBjdWJvaWQuXG4gICAgICogQHBhcmFtIGJvcmRlclJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGJvcmRlcnMgb2YgdGhpcyBjdWJvaWQuIFRoaXMgd2lsbFxuICAgICAqICAgZWZmZWN0aXZlbHkgaW5jcmVhc2UgdGhlIGhhbGYtZXh0ZW50cyBvZiB0aGUgY3Vib2lkIGJ5IHRoaXMgcmFkaXVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGh4LCBoeSwgaHosIGJvcmRlclJhZGl1cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuUm91bmRDdWJvaWQ7XG4gICAgICAgIHRoaXMuaGFsZkV4dGVudHMgPSBWZWN0b3JPcHMubmV3KGh4LCBoeSwgaHopO1xuICAgICAgICB0aGlzLmJvcmRlclJhZGl1cyA9IGJvcmRlclJhZGl1cztcbiAgICB9XG4gICAgLy8gI2VuZGlmXG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgLy8gI2lmIERJTTNcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLnJvdW5kQ3Vib2lkKHRoaXMuaGFsZkV4dGVudHMueCwgdGhpcy5oYWxmRXh0ZW50cy55LCB0aGlzLmhhbGZFeHRlbnRzLnosIHRoaXMuYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgLy8gI2VuZGlmXG4gICAgfVxufVxuLyoqXG4gKiBBIHNoYXBlIHRoYXQgaXMgYSBjYXBzdWxlLlxuICovXG5leHBvcnQgY2xhc3MgQ2Fwc3VsZSBleHRlbmRzIFNoYXBlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNhcHN1bGUgd2l0aCB0aGUgZ2l2ZW4gcmFkaXVzIGFuZCBoYWxmLWhlaWdodC5cbiAgICAgKiBAcGFyYW0gaGFsZkhlaWdodCAtIFRoZSBiYWxscyBoYWxmLWhlaWdodCBhbG9uZyB0aGUgYHlgIGF4aXMuXG4gICAgICogQHBhcmFtIHJhZGl1cyAtIFRoZSBiYWxscyByYWRpdXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaGFsZkhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5DYXBzdWxlO1xuICAgICAgICB0aGlzLmhhbGZIZWlnaHQgPSBoYWxmSGVpZ2h0O1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLmNhcHN1bGUodGhpcy5oYWxmSGVpZ2h0LCB0aGlzLnJhZGl1cyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNoYXBlIHRoYXQgaXMgYSBzZWdtZW50LlxuICovXG5leHBvcnQgY2xhc3MgU2VnbWVudCBleHRlbmRzIFNoYXBlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNlZ21lbnQgc2hhcGUuXG4gICAgICogQHBhcmFtIGEgLSBUaGUgZmlyc3QgcG9pbnQgb2YgdGhlIHNlZ21lbnQuXG4gICAgICogQHBhcmFtIGIgLSBUaGUgc2Vjb25kIHBvaW50IG9mIHRoZSBzZWdtZW50LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGEsIGIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLlNlZ21lbnQ7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIGxldCByYSA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYSk7XG4gICAgICAgIGxldCByYiA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYik7XG4gICAgICAgIGxldCByZXN1bHQgPSBSYXdTaGFwZS5zZWdtZW50KHJhLCByYik7XG4gICAgICAgIHJhLmZyZWUoKTtcbiAgICAgICAgcmIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgc2VnbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRyaWFuZ2xlIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdHJpYW5nbGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYSAtIFRoZSBmaXJzdCBwb2ludCBvZiB0aGUgdHJpYW5nbGUuXG4gICAgICogQHBhcmFtIGIgLSBUaGUgc2Vjb25kIHBvaW50IG9mIHRoZSB0cmlhbmdsZS5cbiAgICAgKiBAcGFyYW0gYyAtIFRoZSB0aGlyZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYSwgYiwgYykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuVHJpYW5nbGU7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIGxldCByYSA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYSk7XG4gICAgICAgIGxldCByYiA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYik7XG4gICAgICAgIGxldCByYyA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuYyk7XG4gICAgICAgIGxldCByZXN1bHQgPSBSYXdTaGFwZS50cmlhbmdsZShyYSwgcmIsIHJjKTtcbiAgICAgICAgcmEuZnJlZSgpO1xuICAgICAgICByYi5mcmVlKCk7XG4gICAgICAgIHJjLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIHRyaWFuZ2xlIHdpdGggcm91bmQgYm9yZGVycyBhbmQgYSBub24temVybyB0aGlja25lc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3VuZFRyaWFuZ2xlIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdHJpYW5nbGUgc2hhcGUgd2l0aCByb3VuZCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGEgLSBUaGUgZmlyc3QgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBiIC0gVGhlIHNlY29uZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUuXG4gICAgICogQHBhcmFtIGMgLSBUaGUgdGhpcmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlLlxuICAgICAqIEBwYXJhbSBib3JkZXJSYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBib3JkZXJzIG9mIHRoaXMgdHJpYW5nbGUuIEluIDNELFxuICAgICAqICAgdGhpcyBpcyBhbHNvIGVxdWFsIHRvIGhhbGYgdGhlIHRoaWNrbmVzcyBvZiB0aGUgdHJpYW5nbGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYSwgYiwgYywgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5Sb3VuZFRyaWFuZ2xlO1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmJvcmRlclJhZGl1cyA9IGJvcmRlclJhZGl1cztcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgbGV0IHJhID0gVmVjdG9yT3BzLmludG9SYXcodGhpcy5hKTtcbiAgICAgICAgbGV0IHJiID0gVmVjdG9yT3BzLmludG9SYXcodGhpcy5iKTtcbiAgICAgICAgbGV0IHJjID0gVmVjdG9yT3BzLmludG9SYXcodGhpcy5jKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFJhd1NoYXBlLnJvdW5kVHJpYW5nbGUocmEsIHJiLCByYywgdGhpcy5ib3JkZXJSYWRpdXMpO1xuICAgICAgICByYS5mcmVlKCk7XG4gICAgICAgIHJiLmZyZWUoKTtcbiAgICAgICAgcmMuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgdHJpYW5nbGUgbWVzaC5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvbHlsaW5lIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcG9seWxpbmUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVydGljZXMgLSBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlsaW5lJ3MgdmVydGljZXMuXG4gICAgICogQHBhcmFtIGluZGljZXMgLSBUaGUgaW5kaWNlcyBvZiB0aGUgcG9seWxpbmUncyBzZWdtZW50cy4gSWYgdGhpcyBpcyBgbnVsbGAgb3Igbm90IHByb3ZpZGVkLCB0aGVuXG4gICAgICogICAgdGhlIHZlcnRpY2VzIGFyZSBhc3N1bWVkIHRvIGZvcm0gYSBsaW5lIHN0cmlwLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCBpbmRpY2VzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5Qb2x5bGluZTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBpbmRpY2VzICE9PSBudWxsICYmIGluZGljZXMgIT09IHZvaWQgMCA/IGluZGljZXMgOiBuZXcgVWludDMyQXJyYXkoMCk7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5wb2x5bGluZSh0aGlzLnZlcnRpY2VzLCB0aGlzLmluZGljZXMpO1xuICAgIH1cbn1cbi8qKlxuICogQSBzaGFwZSB0aGF0IGlzIGEgdHJpYW5nbGUgbWVzaC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRyaU1lc2ggZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0cmlhbmdsZSBtZXNoIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0cmlhbmdsZSBtZXNoJ3MgdmVydGljZXMuXG4gICAgICogQHBhcmFtIGluZGljZXMgLSBUaGUgaW5kaWNlcyBvZiB0aGUgdHJpYW5nbGUgbWVzaCdzIHRyaWFuZ2xlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuVHJpTWVzaDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBpbmRpY2VzO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUudHJpbWVzaCh0aGlzLnZlcnRpY2VzLCB0aGlzLmluZGljZXMpO1xuICAgIH1cbn1cbi8vICNpZiBESU0zXG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIGNvbnZleCBwb2x5Z29uLlxuICovXG5leHBvcnQgY2xhc3MgQ29udmV4UG9seWhlZHJvbiBleHRlbmRzIFNoYXBlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbnZleCBwb2x5Z29uIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBjb252ZXggcG9seWdvbidzIHZlcnRpY2VzLlxuICAgICAqIEBwYXJhbSBpbmRpY2VzIC0gVGhlIGluZGV4IGJ1ZmZlciBvZiB0aGlzIGNvbnZleCBtZXNoLiBJZiB0aGlzIGlzIGBudWxsYFxuICAgICAqICAgb3IgYHVuZGVmaW5lZGAsIHRoZSBjb252ZXgtaHVsbCBvZiB0aGUgaW5wdXQgdmVydGljZXMgd2lsbCBiZSBjb21wdXRlZFxuICAgICAqICAgYXV0b21hdGljYWxseS4gT3RoZXJ3aXNlLCBpdCB3aWxsIGJlIGFzc3VtZWQgdGhhdCB0aGUgbWVzaCB5b3UgcHJvdmlkZVxuICAgICAqICAgaXMgYWxyZWFkeSBjb252ZXguXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLkNvbnZleFBvbHloZWRyb247XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgaWYgKCEhdGhpcy5pbmRpY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gUmF3U2hhcGUuY29udmV4TWVzaCh0aGlzLnZlcnRpY2VzLCB0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFJhd1NoYXBlLmNvbnZleEh1bGwodGhpcy52ZXJ0aWNlcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIGNvbnZleCBwb2x5Z29uLlxuICovXG5leHBvcnQgY2xhc3MgUm91bmRDb252ZXhQb2x5aGVkcm9uIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29udmV4IHBvbHlnb24gc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVydGljZXMgLSBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIGNvbnZleCBwb2x5Z29uJ3MgdmVydGljZXMuXG4gICAgICogQHBhcmFtIGluZGljZXMgLSBUaGUgaW5kZXggYnVmZmVyIG9mIHRoaXMgY29udmV4IG1lc2guIElmIHRoaXMgaXMgYG51bGxgXG4gICAgICogICBvciBgdW5kZWZpbmVkYCwgdGhlIGNvbnZleC1odWxsIG9mIHRoZSBpbnB1dCB2ZXJ0aWNlcyB3aWxsIGJlIGNvbXB1dGVkXG4gICAgICogICBhdXRvbWF0aWNhbGx5LiBPdGhlcndpc2UsIGl0IHdpbGwgYmUgYXNzdW1lZCB0aGF0IHRoZSBtZXNoIHlvdSBwcm92aWRlXG4gICAgICogICBpcyBhbHJlYWR5IGNvbnZleC5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIGNvbnZleCBwb2x5aGVkcm9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCBpbmRpY2VzLCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLlJvdW5kQ29udmV4UG9seWhlZHJvbjtcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICB0aGlzLmJvcmRlclJhZGl1cyA9IGJvcmRlclJhZGl1cztcbiAgICB9XG4gICAgaW50b1JhdygpIHtcbiAgICAgICAgaWYgKCEhdGhpcy5pbmRpY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gUmF3U2hhcGUucm91bmRDb252ZXhNZXNoKHRoaXMudmVydGljZXMsIHRoaXMuaW5kaWNlcywgdGhpcy5ib3JkZXJSYWRpdXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFJhd1NoYXBlLnJvdW5kQ29udmV4SHVsbCh0aGlzLnZlcnRpY2VzLCB0aGlzLmJvcmRlclJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIGhlaWdodGZpZWxkLlxuICovXG5leHBvcnQgY2xhc3MgSGVpZ2h0ZmllbGQgZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBoZWlnaHRmaWVsZCBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBucm93cyDiiJIgVGhlIG51bWJlciBvZiByb3dzIGluIHRoZSBoZWlnaHRzIG1hdHJpeC5cbiAgICAgKiBAcGFyYW0gbmNvbHMgLSBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIGhlaWdodHMgbWF0cml4LlxuICAgICAqIEBwYXJhbSBoZWlnaHRzIC0gVGhlIGhlaWdodHMgb2YgdGhlIGhlaWdodGZpZWxkIGFsb25nIGl0cyBsb2NhbCBgeWAgYXhpcyxcbiAgICAgKiAgICAgICAgICAgICAgICAgIHByb3ZpZGVkIGFzIGEgbWF0cml4IHN0b3JlZCBpbiBjb2x1bW4tbWFqb3Igb3JkZXIuXG4gICAgICogQHBhcmFtIHNjYWxlIC0gVGhlIGRpbWVuc2lvbnMgb2YgdGhlIGhlaWdodGZpZWxkJ3MgbG9jYWwgYHgsemAgcGxhbmUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobnJvd3MsIG5jb2xzLCBoZWlnaHRzLCBzY2FsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBTaGFwZVR5cGUuSGVpZ2h0RmllbGQ7XG4gICAgICAgIHRoaXMubnJvd3MgPSBucm93cztcbiAgICAgICAgdGhpcy5uY29scyA9IG5jb2xzO1xuICAgICAgICB0aGlzLmhlaWdodHMgPSBoZWlnaHRzO1xuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGU7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIGxldCByYXdTY2FsZSA9IFZlY3Rvck9wcy5pbnRvUmF3KHRoaXMuc2NhbGUpO1xuICAgICAgICBsZXQgcmF3U2hhcGUgPSBSYXdTaGFwZS5oZWlnaHRmaWVsZCh0aGlzLm5yb3dzLCB0aGlzLm5jb2xzLCB0aGlzLmhlaWdodHMsIHJhd1NjYWxlKTtcbiAgICAgICAgcmF3U2NhbGUuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmF3U2hhcGU7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNoYXBlIHRoYXQgaXMgYSAzRCBjeWxpbmRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIEN5bGluZGVyIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY3lsaW5kZXIgd2l0aCB0aGUgZ2l2ZW4gcmFkaXVzIGFuZCBoYWxmLWhlaWdodC5cbiAgICAgKiBAcGFyYW0gaGFsZkhlaWdodCAtIFRoZSBiYWxscyBoYWxmLWhlaWdodCBhbG9uZyB0aGUgYHlgIGF4aXMuXG4gICAgICogQHBhcmFtIHJhZGl1cyAtIFRoZSBiYWxscyByYWRpdXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaGFsZkhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5DeWxpbmRlcjtcbiAgICAgICAgdGhpcy5oYWxmSGVpZ2h0ID0gaGFsZkhlaWdodDtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5jeWxpbmRlcih0aGlzLmhhbGZIZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIDNEIGN5bGluZGVyIHdpdGggcm91bmQgY29ybmVycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJvdW5kQ3lsaW5kZXIgZXh0ZW5kcyBTaGFwZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjeWxpbmRlciB3aXRoIHRoZSBnaXZlbiByYWRpdXMgYW5kIGhhbGYtaGVpZ2h0LlxuICAgICAqIEBwYXJhbSBoYWxmSGVpZ2h0IC0gVGhlIGJhbGxzIGhhbGYtaGVpZ2h0IGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIGJhbGxzIHJhZGl1cy5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIGN5bGluZGVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGhhbGZIZWlnaHQsIHJhZGl1cywgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNoYXBlVHlwZS5Sb3VuZEN5bGluZGVyO1xuICAgICAgICB0aGlzLmJvcmRlclJhZGl1cyA9IGJvcmRlclJhZGl1cztcbiAgICAgICAgdGhpcy5oYWxmSGVpZ2h0ID0gaGFsZkhlaWdodDtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgfVxuICAgIGludG9SYXcoKSB7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5yb3VuZEN5bGluZGVyKHRoaXMuaGFsZkhlaWdodCwgdGhpcy5yYWRpdXMsIHRoaXMuYm9yZGVyUmFkaXVzKTtcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIDNEIGNvbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25lIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29uZSB3aXRoIHRoZSBnaXZlbiByYWRpdXMgYW5kIGhhbGYtaGVpZ2h0LlxuICAgICAqIEBwYXJhbSBoYWxmSGVpZ2h0IC0gVGhlIGJhbGxzIGhhbGYtaGVpZ2h0IGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIGJhbGxzIHJhZGl1cy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihoYWxmSGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLkNvbmU7XG4gICAgICAgIHRoaXMuaGFsZkhlaWdodCA9IGhhbGZIZWlnaHQ7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUuY29uZSh0aGlzLmhhbGZIZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9XG59XG4vKipcbiAqIEEgc2hhcGUgdGhhdCBpcyBhIDNEIGNvbmUgd2l0aCByb3VuZCBjb3JuZXJzLlxuICovXG5leHBvcnQgY2xhc3MgUm91bmRDb25lIGV4dGVuZHMgU2hhcGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29uZSB3aXRoIHRoZSBnaXZlbiByYWRpdXMgYW5kIGhhbGYtaGVpZ2h0LlxuICAgICAqIEBwYXJhbSBoYWxmSGVpZ2h0IC0gVGhlIGJhbGxzIGhhbGYtaGVpZ2h0IGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIGJhbGxzIHJhZGl1cy5cbiAgICAgKiBAcGFyYW0gYm9yZGVyUmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYm9yZGVycyBvZiB0aGlzIGNvbmUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaGFsZkhlaWdodCwgcmFkaXVzLCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gU2hhcGVUeXBlLlJvdW5kQ29uZTtcbiAgICAgICAgdGhpcy5oYWxmSGVpZ2h0ID0gaGFsZkhlaWdodDtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIHRoaXMuYm9yZGVyUmFkaXVzID0gYm9yZGVyUmFkaXVzO1xuICAgIH1cbiAgICBpbnRvUmF3KCkge1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUucm91bmRDb25lKHRoaXMuaGFsZkhlaWdodCwgdGhpcy5yYWRpdXMsIHRoaXMuYm9yZGVyUmFkaXVzKTtcbiAgICB9XG59XG4vLyAjZW5kaWZcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXBlLmpzLm1hcCIsImltcG9ydCB7IFZlY3Rvck9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG4vKipcbiAqIFRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgYSBjb2xsaWRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFNoYXBlVE9JIHtcbiAgICBjb25zdHJ1Y3Rvcih0b2ksIHdpdG5lc3MxLCB3aXRuZXNzMiwgbm9ybWFsMSwgbm9ybWFsMikge1xuICAgICAgICB0aGlzLnRvaSA9IHRvaTtcbiAgICAgICAgdGhpcy53aXRuZXNzMSA9IHdpdG5lc3MxO1xuICAgICAgICB0aGlzLndpdG5lc3MyID0gd2l0bmVzczI7XG4gICAgICAgIHRoaXMubm9ybWFsMSA9IG5vcm1hbDE7XG4gICAgICAgIHRoaXMubm9ybWFsMiA9IG5vcm1hbDI7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmF3KGNvbGxpZGVyU2V0LCByYXcpIHtcbiAgICAgICAgaWYgKCFyYXcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNoYXBlVE9JKHJhdy50b2koKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LndpdG5lc3MxKCkpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcud2l0bmVzczIoKSksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy5ub3JtYWwxKCkpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsMigpKSk7XG4gICAgICAgIHJhdy5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSByYXkgYW5kIGEgY29sbGlkZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFwZUNvbGxpZGVyVE9JIGV4dGVuZHMgU2hhcGVUT0kge1xuICAgIGNvbnN0cnVjdG9yKGNvbGxpZGVyLCB0b2ksIHdpdG5lc3MxLCB3aXRuZXNzMiwgbm9ybWFsMSwgbm9ybWFsMikge1xuICAgICAgICBzdXBlcih0b2ksIHdpdG5lc3MxLCB3aXRuZXNzMiwgbm9ybWFsMSwgbm9ybWFsMik7XG4gICAgICAgIHRoaXMuY29sbGlkZXIgPSBjb2xsaWRlcjtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYXcoY29sbGlkZXJTZXQsIHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU2hhcGVDb2xsaWRlclRPSShjb2xsaWRlclNldC5nZXQocmF3LmNvbGxpZGVySGFuZGxlKCkpLCByYXcudG9pKCksIFZlY3Rvck9wcy5mcm9tUmF3KHJhdy53aXRuZXNzMSgpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3LndpdG5lc3MyKCkpLCBWZWN0b3JPcHMuZnJvbVJhdyhyYXcubm9ybWFsMSgpKSwgVmVjdG9yT3BzLmZyb21SYXcocmF3Lm5vcm1hbDIoKSkpO1xuICAgICAgICByYXcuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvaS5qcy5tYXAiLCJpbXBvcnQgeyBSYXdWZWN0b3IsIFJhd1JvdGF0aW9uIH0gZnJvbSBcIi4vcmF3XCI7XG4vKipcbiAqIEEgM0QgdmVjdG9yLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yMyB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBWZWN0b3JPcHMge1xuICAgIHN0YXRpYyBuZXcoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoeCwgeSwgeik7XG4gICAgfVxuICAgIHN0YXRpYyBpbnRvUmF3KHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYXdWZWN0b3Iodi54LCB2LnksIHYueik7XG4gICAgfVxuICAgIHN0YXRpYyB6ZXJvcygpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvck9wcy5uZXcoMC4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIC8vIEZJWE1FOiB0eXBlIHJhbTogUmF3VmVjdG9yP1xuICAgIHN0YXRpYyBmcm9tUmF3KHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgcmVzID0gVmVjdG9yT3BzLm5ldyhyYXcueCwgcmF3LnksIHJhdy56KTtcbiAgICAgICAgcmF3LmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59XG4vKipcbiAqIEEgcXVhdGVybmlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFF1YXRlcm5pb24ge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHosIHcpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy53ID0gdztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUm90YXRpb25PcHMge1xuICAgIHN0YXRpYyBpZGVudGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmF3KHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgcmVzID0gbmV3IFF1YXRlcm5pb24ocmF3LngsIHJhdy55LCByYXcueiwgcmF3LncpO1xuICAgICAgICByYXcuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBzdGF0aWMgaW50b1Jhdyhyb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYXdSb3RhdGlvbihyb3QueCwgcm90LnksIHJvdC56LCByb3Qudyk7XG4gICAgfVxufVxuLy8gI2VuZGlmXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoLmpzLm1hcCIsImltcG9ydCB7IFJhd0RlYnVnUmVuZGVyUGlwZWxpbmUsIH0gZnJvbSBcIi4uL3Jhd1wiO1xuLyoqXG4gKiBUaGUgdmVydGV4IGFuZCBjb2xvciBidWZmZXJzIGZvciBkZWJ1Zy1yZWRlcmluZyB0aGUgcGh5c2ljcyBzY2VuZS5cbiAqL1xuZXhwb3J0IGNsYXNzIERlYnVnUmVuZGVyQnVmZmVycyB7XG4gICAgY29uc3RydWN0b3IodmVydGljZXMsIGNvbG9ycykge1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgICAgIHRoaXMuY29sb3JzID0gY29sb3JzO1xuICAgIH1cbn1cbi8qKlxuICogQSBwaXBlbGluZSBmb3IgcmVuZGVyaW5nIHRoZSBwaHlzaWNzIHNjZW5lLlxuICpcbiAqIFRvIGF2b2lkIGxlYWtpbmcgV0FTTSByZXNvdXJjZXMsIHRoaXMgTVVTVCBiZSBmcmVlZCBtYW51YWxseSB3aXRoIGBkZWJ1Z1JlbmRlclBpcGVsaW5lLmZyZWUoKWBcbiAqIG9uY2UgeW91IGFyZSBkb25lIHVzaW5nIGl0IChhbmQgYWxsIHRoZSByaWdpZC1ib2RpZXMgaXQgY3JlYXRlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWJ1Z1JlbmRlclBpcGVsaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd0RlYnVnUmVuZGVyUGlwZWxpbmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV0FTTSBtZW1vcnkgb2NjdXBpZWQgYnkgdGhpcyBzZXJpYWxpemF0aW9uIHBpcGVsaW5lLlxuICAgICAqL1xuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMucmF3LmZyZWUoKTtcbiAgICAgICAgdGhpcy5yYXcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29sb3JzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZW5kZXIoYm9kaWVzLCBjb2xsaWRlcnMsIGltcHVsc2Vfam9pbnRzLCBtdWx0aWJvZHlfam9pbnRzLCBuYXJyb3dfcGhhc2UpIHtcbiAgICAgICAgdGhpcy5yYXcucmVuZGVyKGJvZGllcy5yYXcsIGNvbGxpZGVycy5yYXcsIGltcHVsc2Vfam9pbnRzLnJhdywgbXVsdGlib2R5X2pvaW50cy5yYXcsIG5hcnJvd19waGFzZS5yYXcpO1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gdGhpcy5yYXcudmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSB0aGlzLnJhdy5jb2xvcnMoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJ1Z19yZW5kZXJfcGlwZWxpbmUuanMubWFwIiwiaW1wb3J0IHsgUmF3RXZlbnRRdWV1ZSB9IGZyb20gJy4uL3Jhdyc7XG4vLy8gRmxhZ3MgaW5kaWNhdGluZyB3aGF0IGV2ZW50cyBhcmUgZW5hYmxlZCBmb3IgY29sbGlkZXJzLlxuZXhwb3J0IHZhciBBY3RpdmVFdmVudHM7XG4oZnVuY3Rpb24gKEFjdGl2ZUV2ZW50cykge1xuICAgIC8vLyBFbmFibGUgY29sbGlzaW9uIGV2ZW50cy5cbiAgICBBY3RpdmVFdmVudHNbQWN0aXZlRXZlbnRzW1wiQ09MTElTSU9OX0VWRU5UU1wiXSA9IDFdID0gXCJDT0xMSVNJT05fRVZFTlRTXCI7XG59KShBY3RpdmVFdmVudHMgfHwgKEFjdGl2ZUV2ZW50cyA9IHt9KSk7XG4vKipcbiAqIEEgc3RydWN0dXJlIHJlc3BvbnNpYmxlIGZvciBjb2xsZWN0aW5nIGV2ZW50cyBnZW5lcmF0ZWRcbiAqIGJ5IHRoZSBwaHlzaWNzIGVuZ2luZS5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgZXZlbnRRdWV1ZS5mcmVlKClgXG4gKiBvbmNlIHlvdSBhcmUgZG9uZSB1c2luZyBpdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50UXVldWUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZXZlbnQgY29sbGVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF1dG9EcmFpbiAtc2V0dGluZyB0aGlzIHRvIGB0cnVlYCBpcyBzdHJvbmdseSByZWNvbW1lbmRlZC4gSWYgdHJ1ZSwgdGhlIGNvbGxlY3RvciB3aWxsXG4gICAgICogYmUgYXV0b21hdGljYWxseSBkcmFpbmVkIGJlZm9yZSBlYWNoIGB3b3JsZC5zdGVwKGNvbGxlY3RvcilgLiBJZiBmYWxzZSwgdGhlIGNvbGxlY3RvciB3aWxsXG4gICAgICoga2VlcCBhbGwgZXZlbnRzIGluIG1lbW9yeSB1bmxlc3MgaXQgaXMgbWFudWFsbHkgZHJhaW5lZC9jbGVhcmVkOyB0aGlzIG1heSBsZWFkIHRvIHVuYm91bmRlZCB1c2Ugb2ZcbiAgICAgKiBSQU0gaWYgbm8gZHJhaW4gaXMgcGVyZm9ybWVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGF1dG9EcmFpbiwgcmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3IHx8IG5ldyBSYXdFdmVudFF1ZXVlKGF1dG9EcmFpbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgZXZlbnQtcXVldWUuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gamF2YXNjcmlwdCBjbG9zdXJlIG9uIGVhY2ggY29sbGlzaW9uIGV2ZW50IG9mIHRoaXMgY29sbGVjdG9yLCB0aGVuIGNsZWFyXG4gICAgICogdGhlIGludGVybmFsIGNvbGxpc2lvbiBldmVudCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIEphdmFTY3JpcHQgY2xvc3VyZSBhcHBsaWVkIHRvIGVhY2ggY29sbGlzaW9uIGV2ZW50LiBUaGVcbiAgICAgKiBjbG9zdXJlIG11c3QgdGFrZSB0aHJlZSBhcmd1bWVudHM6IHR3byBpbnRlZ2VycyByZXByZXNlbnRpbmcgdGhlIGhhbmRsZXMgb2YgdGhlIGNvbGxpZGVyc1xuICAgICAqIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24sIGFuZCBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgY29sbGlzaW9uIHN0YXJ0ZWQgKHRydWUpIG9yIHN0b3BwZWRcbiAgICAgKiAoZmFsc2UpLlxuICAgICAqL1xuICAgIGRyYWluQ29sbGlzaW9uRXZlbnRzKGYpIHtcbiAgICAgICAgdGhpcy5yYXcuZHJhaW5Db2xsaXNpb25FdmVudHMoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGV2ZW50cyBjb250YWluZWQgYnkgdGhpcyBjb2xsZWN0b3JcbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5yYXcuY2xlYXIoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudF9xdWV1ZS5qcy5tYXAiLCJleHBvcnQgdmFyIEFjdGl2ZUhvb2tzO1xuKGZ1bmN0aW9uIChBY3RpdmVIb29rcykge1xuICAgIEFjdGl2ZUhvb2tzW0FjdGl2ZUhvb2tzW1wiRklMVEVSX0NPTlRBQ1RfUEFJUlNcIl0gPSAxXSA9IFwiRklMVEVSX0NPTlRBQ1RfUEFJUlNcIjtcbiAgICBBY3RpdmVIb29rc1tBY3RpdmVIb29rc1tcIkZJTFRFUl9JTlRFUlNFQ1RJT05fUEFJUlNcIl0gPSAyXSA9IFwiRklMVEVSX0lOVEVSU0VDVElPTl9QQUlSU1wiO1xuICAgIC8vIE1PRElGWV9TT0xWRVJfQ09OVEFDVFMgPSAwYjAxMDAsIC8qIE5vdCBzdXBwb3J0ZWQgeWV0IGluIEpTLiAqL1xufSkoQWN0aXZlSG9va3MgfHwgKEFjdGl2ZUhvb2tzID0ge30pKTtcbmV4cG9ydCB2YXIgU29sdmVyRmxhZ3M7XG4oZnVuY3Rpb24gKFNvbHZlckZsYWdzKSB7XG4gICAgU29sdmVyRmxhZ3NbU29sdmVyRmxhZ3NbXCJFTVBUWVwiXSA9IDBdID0gXCJFTVBUWVwiO1xuICAgIFNvbHZlckZsYWdzW1NvbHZlckZsYWdzW1wiQ09NUFVURV9JTVBVTFNFXCJdID0gMV0gPSBcIkNPTVBVVEVfSU1QVUxTRVwiO1xufSkoU29sdmVyRmxhZ3MgfHwgKFNvbHZlckZsYWdzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBoeXNpY3NfaG9va3MuanMubWFwIiwiaW1wb3J0IHsgUmF3UGh5c2ljc1BpcGVsaW5lIH0gZnJvbSBcIi4uL3Jhd1wiO1xuaW1wb3J0IHsgVmVjdG9yT3BzIH0gZnJvbSBcIi4uL21hdGhcIjtcbmV4cG9ydCBjbGFzcyBQaHlzaWNzUGlwZWxpbmUge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3UGh5c2ljc1BpcGVsaW5lKCk7XG4gICAgfVxuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMucmF3LmZyZWUoKTtcbiAgICAgICAgdGhpcy5yYXcgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHN0ZXAoZ3Jhdml0eSwgaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBpc2xhbmRzLCBicm9hZFBoYXNlLCBuYXJyb3dQaGFzZSwgYm9kaWVzLCBjb2xsaWRlcnMsIGltcHVsc2VKb2ludHMsIG11bHRpYm9keUpvaW50cywgY2NkU29sdmVyLCBldmVudFF1ZXVlLCBob29rcykge1xuICAgICAgICBsZXQgcmF3RyA9IFZlY3Rvck9wcy5pbnRvUmF3KGdyYXZpdHkpO1xuICAgICAgICBpZiAoISFldmVudFF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnJhdy5zdGVwV2l0aEV2ZW50cyhyYXdHLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucmF3LCBpc2xhbmRzLnJhdywgYnJvYWRQaGFzZS5yYXcsIG5hcnJvd1BoYXNlLnJhdywgYm9kaWVzLnJhdywgY29sbGlkZXJzLnJhdywgaW1wdWxzZUpvaW50cy5yYXcsIG11bHRpYm9keUpvaW50cy5yYXcsIGNjZFNvbHZlci5yYXcsIGV2ZW50UXVldWUucmF3LCBob29rcywgISFob29rcyA/IGhvb2tzLmZpbHRlckNvbnRhY3RQYWlyIDogbnVsbCwgISFob29rcyA/IGhvb2tzLmZpbHRlckludGVyc2VjdGlvblBhaXIgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmF3LnN0ZXAocmF3RywgaW50ZWdyYXRpb25QYXJhbWV0ZXJzLnJhdywgaXNsYW5kcy5yYXcsIGJyb2FkUGhhc2UucmF3LCBuYXJyb3dQaGFzZS5yYXcsIGJvZGllcy5yYXcsIGNvbGxpZGVycy5yYXcsIGltcHVsc2VKb2ludHMucmF3LCBtdWx0aWJvZHlKb2ludHMucmF3LCBjY2RTb2x2ZXIucmF3KTtcbiAgICAgICAgfVxuICAgICAgICByYXdHLmZyZWUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waHlzaWNzX3BpcGVsaW5lLmpzLm1hcCIsImltcG9ydCB7IFJhd1F1ZXJ5UGlwZWxpbmUgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBQb2ludENvbGxpZGVyUHJvamVjdGlvbiwgUmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24sIFJheUNvbGxpZGVyVG9pLCBTaGFwZUNvbGxpZGVyVE9JIH0gZnJvbSBcIi4uL2dlb21ldHJ5XCI7XG5pbXBvcnQgeyBSb3RhdGlvbk9wcywgVmVjdG9yT3BzIH0gZnJvbSBcIi4uL21hdGhcIjtcbi8qKlxuICogQSBwaXBlbGluZSBmb3IgcGVyZm9ybWluZyBxdWVyaWVzIG9uIGFsbCB0aGUgY29sbGlkZXJzIG9mIGEgc2NlbmUuXG4gKlxuICogVG8gYXZvaWQgbGVha2luZyBXQVNNIHJlc291cmNlcywgdGhpcyBNVVNUIGJlIGZyZWVkIG1hbnVhbGx5IHdpdGggYHF1ZXJ5UGlwZWxpbmUuZnJlZSgpYFxuICogb25jZSB5b3UgYXJlIGRvbmUgdXNpbmcgaXQgKGFuZCBhbGwgdGhlIHJpZ2lkLWJvZGllcyBpdCBjcmVhdGVkKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFF1ZXJ5UGlwZWxpbmUge1xuICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdyB8fCBuZXcgUmF3UXVlcnlQaXBlbGluZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIHF1ZXJ5IHBpcGVsaW5lLlxuICAgICAqL1xuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMucmF3LmZyZWUoKTtcbiAgICAgICAgdGhpcy5yYXcgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGFjY2VsZXJhdGlvbiBzdHJ1Y3R1cmUgb2YgdGhlIHF1ZXJ5IHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSBib2RpZXMgLSBUaGUgc2V0IG9mIHJpZ2lkLWJvZGllcyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqL1xuICAgIHVwZGF0ZShpc2xhbmRzLCBib2RpZXMsIGNvbGxpZGVycykge1xuICAgICAgICB0aGlzLnJhdy51cGRhdGUoaXNsYW5kcy5yYXcsIGJvZGllcy5yYXcsIGNvbGxpZGVycy5yYXcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBjbG9zZXN0IGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgcmF5IGFuZCBhIHNldCBvZiBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSByYXkgLSBUaGUgcmF5IHRvIGNhc3QuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUtb2YtaW1wYWN0IHRoYXQgY2FuIGJlIHJlcG9ydGVkIGJ5IHRoaXMgY2FzdC4gVGhpcyBlZmZlY3RpdmVseVxuICAgICAqICAgbGltaXRzIHRoZSBsZW5ndGggb2YgdGhlIHJheSB0byBgcmF5LmRpci5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqIEBwYXJhbSBzb2xpZCAtIElmIGBmYWxzZWAgdGhlbiB0aGUgcmF5IHdpbGwgYXR0ZW1wdCB0byBoaXQgdGhlIGJvdW5kYXJ5IG9mIGEgc2hhcGUsIGV2ZW4gaWYgaXRzXG4gICAgICogICBvcmlnaW4gYWxyZWFkeSBsaWVzIGluc2lkZSBvZiBhIHNoYXBlLiBJbiBvdGhlciB0ZXJtcywgYHRydWVgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBwbGFpbixcbiAgICAgKiAgIHdoZXJlYXMgYGZhbHNlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgaG9sbG93IGZvciB0aGlzIHJheS1jYXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBVc2VkIHRvIGZpbHRlciB0aGUgY29sbGlkZXJzIHRoYXQgY2FuIG9yIGNhbm5vdCBiZSBoaXQgYnkgdGhlIHJheS5cbiAgICAgKiBAcGFyYW0gZmlsdGVyIC0gVGhlIGNhbGxiYWNrIHRvIGZpbHRlciBvdXQgd2hpY2ggY29sbGlkZXIgd2lsbCBiZSBoaXQuXG4gICAgICovXG4gICAgY2FzdFJheShjb2xsaWRlcnMsIHJheSwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgbGV0IHJhd09yaWcgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkub3JpZ2luKTtcbiAgICAgICAgbGV0IHJhd0RpciA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5kaXIpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gUmF5Q29sbGlkZXJUb2kuZnJvbVJhdyhjb2xsaWRlcnMsIHRoaXMucmF3LmNhc3RSYXkoY29sbGlkZXJzLnJhdywgcmF3T3JpZywgcmF3RGlyLCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGZpbHRlcikpO1xuICAgICAgICByYXdPcmlnLmZyZWUoKTtcbiAgICAgICAgcmF3RGlyLmZyZWUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgYSBzZXQgb2YgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGFsc28gY29tcHV0ZXMgdGhlIG5vcm1hbCBhdCB0aGUgaGl0IHBvaW50LlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSByYXkgLSBUaGUgcmF5IHRvIGNhc3QuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUtb2YtaW1wYWN0IHRoYXQgY2FuIGJlIHJlcG9ydGVkIGJ5IHRoaXMgY2FzdC4gVGhpcyBlZmZlY3RpdmVseVxuICAgICAqICAgbGltaXRzIHRoZSBsZW5ndGggb2YgdGhlIHJheSB0byBgcmF5LmRpci5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqIEBwYXJhbSBzb2xpZCAtIElmIGBmYWxzZWAgdGhlbiB0aGUgcmF5IHdpbGwgYXR0ZW1wdCB0byBoaXQgdGhlIGJvdW5kYXJ5IG9mIGEgc2hhcGUsIGV2ZW4gaWYgaXRzXG4gICAgICogICBvcmlnaW4gYWxyZWFkeSBsaWVzIGluc2lkZSBvZiBhIHNoYXBlLiBJbiBvdGhlciB0ZXJtcywgYHRydWVgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBwbGFpbixcbiAgICAgKiAgIHdoZXJlYXMgYGZhbHNlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgaG9sbG93IGZvciB0aGlzIHJheS1jYXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBVc2VkIHRvIGZpbHRlciB0aGUgY29sbGlkZXJzIHRoYXQgY2FuIG9yIGNhbm5vdCBiZSBoaXQgYnkgdGhlIHJheS5cbiAgICAgKi9cbiAgICBjYXN0UmF5QW5kR2V0Tm9ybWFsKGNvbGxpZGVycywgcmF5LCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGZpbHRlcikge1xuICAgICAgICBsZXQgcmF3T3JpZyA9IFZlY3Rvck9wcy5pbnRvUmF3KHJheS5vcmlnaW4pO1xuICAgICAgICBsZXQgcmF3RGlyID0gVmVjdG9yT3BzLmludG9SYXcocmF5LmRpcik7XG4gICAgICAgIGxldCByZXN1bHQgPSBSYXlDb2xsaWRlckludGVyc2VjdGlvbi5mcm9tUmF3KGNvbGxpZGVycywgdGhpcy5yYXcuY2FzdFJheUFuZEdldE5vcm1hbChjb2xsaWRlcnMucmF3LCByYXdPcmlnLCByYXdEaXIsIG1heFRvaSwgc29saWQsIGdyb3VwcywgZmlsdGVyKSk7XG4gICAgICAgIHJhd09yaWcuZnJlZSgpO1xuICAgICAgICByYXdEaXIuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXN0IGEgcmF5IGFuZCBjb2xsZWN0cyBhbGwgdGhlIGludGVyc2VjdGlvbnMgYmV0d2VlbiBhIHJheSBhbmQgdGhlIHNjZW5lLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFVzZWQgdG8gZmlsdGVyIHRoZSBjb2xsaWRlcnMgdGhhdCBjYW4gb3IgY2Fubm90IGJlIGhpdCBieSB0aGUgcmF5LlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBjYWxsZWQgb25jZSBwZXIgaGl0IChpbiBubyBwYXJ0aWN1bGFyIG9yZGVyKSBiZXR3ZWVuIGEgcmF5IGFuZCBhIGNvbGxpZGVyLlxuICAgICAqICAgSWYgdGhpcyBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAsIHRoZW4gdGhlIGNhc3Qgd2lsbCBzdG9wIGFuZCBubyBmdXJ0aGVyIGhpdHMgd2lsbCBiZSBkZXRlY3RlZC9yZXBvcnRlZC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25zV2l0aFJheShjb2xsaWRlcnMsIHJheSwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBjYWxsYmFjaywgZmlsdGVyKSB7XG4gICAgICAgIGxldCByYXdPcmlnID0gVmVjdG9yT3BzLmludG9SYXcocmF5Lm9yaWdpbik7XG4gICAgICAgIGxldCByYXdEaXIgPSBWZWN0b3JPcHMuaW50b1JhdyhyYXkuZGlyKTtcbiAgICAgICAgbGV0IHJhd0NhbGxiYWNrID0gKHJhd0ludGVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soUmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24uZnJvbVJhdyhjb2xsaWRlcnMsIHJhd0ludGVyKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmF3LmludGVyc2VjdGlvbnNXaXRoUmF5KGNvbGxpZGVycy5yYXcsIHJhd09yaWcsIHJhd0RpciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCByYXdDYWxsYmFjaywgZmlsdGVyKTtcbiAgICAgICAgcmF3T3JpZy5mcmVlKCk7XG4gICAgICAgIHJhd0Rpci5mcmVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhbmRsZSBvZiB1cCB0byBvbmUgY29sbGlkZXIgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSBzaGFwZVBvcyAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2hhcGUgdXNlZCBmb3IgdGhlIGludGVyc2VjdGlvbiB0ZXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdCAtIFRoZSBvcmllbnRhdGlvbiBvZiB0aGUgc2hhcGUgdXNlZCBmb3IgdGhlIGludGVyc2VjdGlvbiB0ZXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZSAtIFRoZSBzaGFwZSB1c2VkIGZvciB0aGUgaW50ZXJzZWN0aW9uIHRlc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgcmF5LCBpbiBvcmRlciB0byBvbmx5XG4gICAgICogICBoaXQgdGhlIGNvbGxpZGVycyB3aXRoIGNvbGxpc2lvbiBncm91cHMgY29tcGF0aWJsZSB3aXRoIHRoZSByYXkncyBncm91cC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25XaXRoU2hhcGUoY29sbGlkZXJzLCBzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlLCBncm91cHMsIGZpbHRlcikge1xuICAgICAgICBsZXQgcmF3UG9zID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVQb3MpO1xuICAgICAgICBsZXQgcmF3Um90ID0gUm90YXRpb25PcHMuaW50b1JhdyhzaGFwZVJvdCk7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHNoYXBlLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucmF3LmludGVyc2VjdGlvbldpdGhTaGFwZShjb2xsaWRlcnMucmF3LCByYXdQb3MsIHJhd1JvdCwgcmF3U2hhcGUsIGdyb3VwcywgZmlsdGVyKTtcbiAgICAgICAgcmF3UG9zLmZyZWUoKTtcbiAgICAgICAgcmF3Um90LmZyZWUoKTtcbiAgICAgICAgcmF3U2hhcGUuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBwcm9qZWN0aW9uIG9mIGEgcG9pbnQgb24gdGhlIGNsb3Nlc3QgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXJzIC0gVGhlIHNldCBvZiBjb2xsaWRlcnMgdGFraW5nIHBhcnQgaW4gdGhpcyBwaXBlbGluZS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gcHJvamVjdC5cbiAgICAgKiBAcGFyYW0gc29saWQgLSBJZiB0aGlzIGlzIHNldCB0byBgdHJ1ZWAgdGhlbiB0aGUgY29sbGlkZXIgc2hhcGVzIGFyZSBjb25zaWRlcmVkIHRvXG4gICAgICogICBiZSBwbGFpbiAoaWYgdGhlIHBvaW50IGlzIGxvY2F0ZWQgaW5zaWRlIG9mIGEgcGxhaW4gc2hhcGUsIGl0cyBwcm9qZWN0aW9uIGlzIHRoZSBwb2ludFxuICAgICAqICAgaXRzZWxmKS4gSWYgaXQgaXMgc2V0IHRvIGBmYWxzZWAgdGhlIGNvbGxpZGVyIHNoYXBlcyBhcmUgY29uc2lkZXJlZCB0byBiZSBob2xsb3dcbiAgICAgKiAgIChpZiB0aGUgcG9pbnQgaXMgbG9jYXRlZCBpbnNpZGUgb2YgYW4gaG9sbG93IHNoYXBlLCBpdCBpcyBwcm9qZWN0ZWQgb24gdGhlIHNoYXBlJ3NcbiAgICAgKiAgIGJvdW5kYXJ5KS5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVGhlIGJpdCBncm91cHMgYW5kIGZpbHRlciBhc3NvY2lhdGVkIHRvIHRoZSBwb2ludCB0byBwcm9qZWN0LCBpbiBvcmRlciB0byBvbmx5XG4gICAgICogICBwcm9qZWN0IG9uIGNvbGxpZGVycyB3aXRoIGNvbGxpc2lvbiBncm91cHMgY29tcGF0aWJsZSB3aXRoIHRoZSByYXkncyBncm91cC5cbiAgICAgKi9cbiAgICBwcm9qZWN0UG9pbnQoY29sbGlkZXJzLCBwb2ludCwgc29saWQsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIGxldCByYXdQb2ludCA9IFZlY3Rvck9wcy5pbnRvUmF3KHBvaW50KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBvaW50Q29sbGlkZXJQcm9qZWN0aW9uLmZyb21SYXcoY29sbGlkZXJzLCB0aGlzLnJhdy5wcm9qZWN0UG9pbnQoY29sbGlkZXJzLnJhdywgcmF3UG9pbnQsIHNvbGlkLCBncm91cHMsIGZpbHRlcikpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHByb2plY3Rpb24gb2YgYSBwb2ludCBvbiB0aGUgY2xvc2VzdCBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBwcm9qZWN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHBvaW50IHRvIHByb2plY3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHByb2plY3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhlIHJheSdzIGdyb3VwLlxuICAgICAqL1xuICAgIHByb2plY3RQb2ludEFuZEdldEZlYXR1cmUoY29sbGlkZXJzLCBwb2ludCwgZ3JvdXBzKSB7XG4gICAgICAgIGxldCByYXdQb2ludCA9IFZlY3Rvck9wcy5pbnRvUmF3KHBvaW50KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBvaW50Q29sbGlkZXJQcm9qZWN0aW9uLmZyb21SYXcoY29sbGlkZXJzLCB0aGlzLnJhdy5wcm9qZWN0UG9pbnRBbmRHZXRGZWF0dXJlKGNvbGxpZGVycy5yYXcsIHJhd1BvaW50LCBncm91cHMpKTtcbiAgICAgICAgcmF3UG9pbnQuZnJlZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIGFsbCB0aGUgY29sbGlkZXJzIGNvbnRhaW5pbmcgdGhlIGdpdmVuIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxpZGVycyAtIFRoZSBzZXQgb2YgY29sbGlkZXJzIHRha2luZyBwYXJ0IGluIHRoaXMgcGlwZWxpbmUuXG4gICAgICogQHBhcmFtIHBvaW50IC0gVGhlIHBvaW50IHVzZWQgZm9yIHRoZSBjb250YWlubWVudCB0ZXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHBvaW50IHRvIHRlc3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHRlc3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhlIHJheSdzIGdyb3VwLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEEgZnVuY3Rpb24gY2FsbGVkIHdpdGggdGhlIGhhbmRsZXMgb2YgZWFjaCBjb2xsaWRlciB3aXRoIGEgc2hhcGVcbiAgICAgKiAgIGNvbnRhaW5pbmcgdGhlIGBwb2ludGAuXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGhQb2ludChjb2xsaWRlcnMsIHBvaW50LCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgbGV0IHJhd1BvaW50ID0gVmVjdG9yT3BzLmludG9SYXcocG9pbnQpO1xuICAgICAgICB0aGlzLnJhdy5pbnRlcnNlY3Rpb25zV2l0aFBvaW50KGNvbGxpZGVycy5yYXcsIHJhd1BvaW50LCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpO1xuICAgICAgICByYXdQb2ludC5mcmVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc3RzIGEgc2hhcGUgYXQgYSBjb25zdGFudCBsaW5lYXIgdmVsb2NpdHkgYW5kIHJldHJpZXZlIHRoZSBmaXJzdCBjb2xsaWRlciBpdCBoaXRzLlxuICAgICAqIFRoaXMgaXMgc2ltaWxhciB0byByYXktY2FzdGluZyBleGNlcHQgdGhhdCB3ZSBhcmUgY2FzdGluZyBhIHdob2xlIHNoYXBlIGluc3RlYWQgb2ZcbiAgICAgKiBqdXN0IGEgcG9pbnQgKHRoZSByYXkgb3JpZ2luKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgc2V0IG9mIGNvbGxpZGVycyB0YWtpbmcgcGFydCBpbiB0aGlzIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSBzaGFwZVBvcyAtIFRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBzaGFwZSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZVJvdCAtIFRoZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBzaGFwZSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZVZlbCAtIFRoZSBjb25zdGFudCB2ZWxvY2l0eSBvZiB0aGUgc2hhcGUgdG8gY2FzdCAoaS5lLiB0aGUgY2FzdCBkaXJlY3Rpb24pLlxuICAgICAqIEBwYXJhbSBzaGFwZSAtIFRoZSBzaGFwZSB0byBjYXN0LlxuICAgICAqIEBwYXJhbSBtYXhUb2kgLSBUaGUgbWF4aW11bSB0aW1lLW9mLWltcGFjdCB0aGF0IGNhbiBiZSByZXBvcnRlZCBieSB0aGlzIGNhc3QuIFRoaXMgZWZmZWN0aXZlbHlcbiAgICAgKiAgIGxpbWl0cyB0aGUgZGlzdGFuY2UgdHJhdmVsZWQgYnkgdGhlIHNoYXBlIHRvIGBzaGFwZVZlbC5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHNoYXBlIHRvIGNhc3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHRlc3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICBjYXN0U2hhcGUoY29sbGlkZXJzLCBzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlVmVsLCBzaGFwZSwgbWF4VG9pLCBncm91cHMsIGZpbHRlcikge1xuICAgICAgICBsZXQgcmF3UG9zID0gVmVjdG9yT3BzLmludG9SYXcoc2hhcGVQb3MpO1xuICAgICAgICBsZXQgcmF3Um90ID0gUm90YXRpb25PcHMuaW50b1JhdyhzaGFwZVJvdCk7XG4gICAgICAgIGxldCByYXdWZWwgPSBWZWN0b3JPcHMuaW50b1JhdyhzaGFwZVZlbCk7XG4gICAgICAgIGxldCByYXdTaGFwZSA9IHNoYXBlLmludG9SYXcoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFNoYXBlQ29sbGlkZXJUT0kuZnJvbVJhdyhjb2xsaWRlcnMsIHRoaXMucmF3LmNhc3RTaGFwZShjb2xsaWRlcnMucmF3LCByYXdQb3MsIHJhd1JvdCwgcmF3VmVsLCByYXdTaGFwZSwgbWF4VG9pLCBncm91cHMsIGZpbHRlcikpO1xuICAgICAgICByYXdQb3MuZnJlZSgpO1xuICAgICAgICByYXdSb3QuZnJlZSgpO1xuICAgICAgICByYXdWZWwuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIGFsbCB0aGUgY29sbGlkZXJzIGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXJzIC0gVGhlIHNldCBvZiBjb2xsaWRlcnMgdGFraW5nIHBhcnQgaW4gdGhpcyBwaXBlbGluZS5cbiAgICAgKiBAcGFyYW0gc2hhcGVQb3MgLSBUaGUgcG9zaXRpb24gb2YgdGhlIHNoYXBlIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHNoYXBlUm90IC0gVGhlIG9yaWVudGF0aW9uIG9mIHRoZSBzaGFwZSB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSBzaGFwZSAtIFRoZSBzaGFwZSB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHNoYXBlIHRvIHRlc3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHRlc3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhpcyBncm91cC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBoYW5kbGVzIG9mIGVhY2ggY29sbGlkZXIgaW50ZXJzZWN0aW5nIHRoZSBgc2hhcGVgLlxuICAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoU2hhcGUoY29sbGlkZXJzLCBzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgbGV0IHJhd1BvcyA9IFZlY3Rvck9wcy5pbnRvUmF3KHNoYXBlUG9zKTtcbiAgICAgICAgbGV0IHJhd1JvdCA9IFJvdGF0aW9uT3BzLmludG9SYXcoc2hhcGVSb3QpO1xuICAgICAgICBsZXQgcmF3U2hhcGUgPSBzaGFwZS5pbnRvUmF3KCk7XG4gICAgICAgIHRoaXMucmF3LmludGVyc2VjdGlvbnNXaXRoU2hhcGUoY29sbGlkZXJzLnJhdywgcmF3UG9zLCByYXdSb3QsIHJhd1NoYXBlLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpO1xuICAgICAgICByYXdQb3MuZnJlZSgpO1xuICAgICAgICByYXdSb3QuZnJlZSgpO1xuICAgICAgICByYXdTaGFwZS5mcmVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBoYW5kbGVzIG9mIGFsbCB0aGUgY29sbGlkZXJzIHdpdGggYW4gQUFCQiBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIEFBQkIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWFiYkNlbnRlciAtIFRoZSBjZW50ZXIgb2YgdGhlIEFBQkIgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gYWFiYkhhbGZFeHRlbnRzIC0gVGhlIGhhbGYtZXh0ZW50cyBvZiB0aGUgQUFCQiB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGhhbmRsZXMgb2YgYWxsIHRoZSBjb2xsaWRlcnNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBjdXJyZW50bHkgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBBQUJCLlxuICAgICAqL1xuICAgIGNvbGxpZGVyc1dpdGhBYWJiSW50ZXJzZWN0aW5nQWFiYihhYWJiQ2VudGVyLCBhYWJiSGFsZkV4dGVudHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCByYXdDZW50ZXIgPSBWZWN0b3JPcHMuaW50b1JhdyhhYWJiQ2VudGVyKTtcbiAgICAgICAgbGV0IHJhd0hhbGZFeHRlbnRzID0gVmVjdG9yT3BzLmludG9SYXcoYWFiYkhhbGZFeHRlbnRzKTtcbiAgICAgICAgdGhpcy5yYXcuY29sbGlkZXJzV2l0aEFhYmJJbnRlcnNlY3RpbmdBYWJiKHJhd0NlbnRlciwgcmF3SGFsZkV4dGVudHMsIGNhbGxiYWNrKTtcbiAgICAgICAgcmF3Q2VudGVyLmZyZWUoKTtcbiAgICAgICAgcmF3SGFsZkV4dGVudHMuZnJlZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5X3BpcGVsaW5lLmpzLm1hcCIsImltcG9ydCB7IFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSwgfSBmcm9tIFwiLi4vcmF3XCI7XG5pbXBvcnQgeyBWZWN0b3JPcHMgfSBmcm9tIFwiLi4vbWF0aFwiO1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tIFwiLi93b3JsZFwiO1xuLyoqXG4gKiBBIHBpcGVsaW5lIGZvciBzZXJpYWxpemluZyB0aGUgcGh5c2ljcyBzY2VuZS5cbiAqXG4gKiBUbyBhdm9pZCBsZWFraW5nIFdBU00gcmVzb3VyY2VzLCB0aGlzIE1VU1QgYmUgZnJlZWQgbWFudWFsbHkgd2l0aCBgcXVlcnlQaXBlbGluZS5mcmVlKClgXG4gKiBvbmNlIHlvdSBhcmUgZG9uZSB1c2luZyBpdCAoYW5kIGFsbCB0aGUgcmlnaWQtYm9kaWVzIGl0IGNyZWF0ZWQpLlxuICovXG5leHBvcnQgY2xhc3MgU2VyaWFsaXphdGlvblBpcGVsaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXcgfHwgbmV3IFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXQVNNIG1lbW9yeSBvY2N1cGllZCBieSB0aGlzIHNlcmlhbGl6YXRpb24gcGlwZWxpbmUuXG4gICAgICovXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5yYXcuZnJlZSgpO1xuICAgICAgICB0aGlzLnJhdyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIGEgY29tcGxldGUgcGh5c2ljcyBzdGF0ZSBpbnRvIGEgc2luZ2xlIGJ5dGUgYXJyYXkuXG4gICAgICogQHBhcmFtIGdyYXZpdHkgLSBUaGUgY3VycmVudCBncmF2aXR5IGFmZmVjdGluZyB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb25QYXJhbWV0ZXJzIC0gVGhlIGludGVncmF0aW9uIHBhcmFtZXRlcnMgb2YgdGhlIHNpbXVsYXRpb24uXG4gICAgICogQHBhcmFtIGJyb2FkUGhhc2UgLSBUaGUgYnJvYWQtcGhhc2Ugb2YgdGhlIHNpbXVsYXRpb24uXG4gICAgICogQHBhcmFtIG5hcnJvd1BoYXNlIC0gVGhlIG5hcnJvdy1waGFzZSBvZiB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gYm9kaWVzIC0gVGhlIHJpZ2lkLWJvZGllcyB0YWtpbmcgcGFydCBpbnRvIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcnMgLSBUaGUgY29sbGlkZXJzIHRha2luZyBwYXJ0IGludG8gdGhlIHNpbXVsYXRpb24uXG4gICAgICogQHBhcmFtIGltcHVsc2VKb2ludHMgLSBUaGUgaW1wdWxzZSBqb2ludHMgdGFraW5nIHBhcnQgaW50byB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gbXVsdGlib2R5Sm9pbnRzIC0gVGhlIG11bHRpYm9keSBqb2ludHMgdGFraW5nIHBhcnQgaW50byB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKi9cbiAgICBzZXJpYWxpemVBbGwoZ3Jhdml0eSwgaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBpc2xhbmRzLCBicm9hZFBoYXNlLCBuYXJyb3dQaGFzZSwgYm9kaWVzLCBjb2xsaWRlcnMsIGltcHVsc2VKb2ludHMsIG11bHRpYm9keUpvaW50cykge1xuICAgICAgICBsZXQgcmF3R3JhID0gVmVjdG9yT3BzLmludG9SYXcoZ3Jhdml0eSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IHRoaXMucmF3LnNlcmlhbGl6ZUFsbChyYXdHcmEsIGludGVncmF0aW9uUGFyYW1ldGVycy5yYXcsIGlzbGFuZHMucmF3LCBicm9hZFBoYXNlLnJhdywgbmFycm93UGhhc2UucmF3LCBib2RpZXMucmF3LCBjb2xsaWRlcnMucmF3LCBpbXB1bHNlSm9pbnRzLnJhdywgbXVsdGlib2R5Sm9pbnRzLnJhdyk7XG4gICAgICAgIHJhd0dyYS5mcmVlKCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2VyaWFsaXplIHRoZSBjb21wbGV0ZSBwaHlzaWNzIHN0YXRlIGZyb20gYSBzaW5nbGUgYnl0ZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhIC0gVGhlIGJ5dGUgYXJyYXkgdG8gZGVzZXJpYWxpemUuXG4gICAgICovXG4gICAgZGVzZXJpYWxpemVBbGwoZGF0YSkge1xuICAgICAgICByZXR1cm4gV29ybGQuZnJvbVJhdyh0aGlzLnJhdy5kZXNlcmlhbGl6ZUFsbChkYXRhKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphdGlvbl9waXBlbGluZS5qcy5tYXAiLCJpbXBvcnQgeyBCcm9hZFBoYXNlLCBDb2xsaWRlclNldCwgTmFycm93UGhhc2UgfSBmcm9tIFwiLi4vZ2VvbWV0cnlcIjtcbmltcG9ydCB7IENDRFNvbHZlciwgSW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBJc2xhbmRNYW5hZ2VyLCBJbXB1bHNlSm9pbnRTZXQsIE11bHRpYm9keUpvaW50U2V0LCBSaWdpZEJvZHlTZXQgfSBmcm9tIFwiLi4vZHluYW1pY3NcIjtcbmltcG9ydCB7IFZlY3Rvck9wcyB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgeyBQaHlzaWNzUGlwZWxpbmUgfSBmcm9tIFwiLi9waHlzaWNzX3BpcGVsaW5lXCI7XG5pbXBvcnQgeyBRdWVyeVBpcGVsaW5lIH0gZnJvbSBcIi4vcXVlcnlfcGlwZWxpbmVcIjtcbmltcG9ydCB7IFNlcmlhbGl6YXRpb25QaXBlbGluZSB9IGZyb20gXCIuL3NlcmlhbGl6YXRpb25fcGlwZWxpbmVcIjtcbmltcG9ydCB7IERlYnVnUmVuZGVyQnVmZmVycywgRGVidWdSZW5kZXJQaXBlbGluZSB9IGZyb20gXCIuL2RlYnVnX3JlbmRlcl9waXBlbGluZVwiO1xuLyoqXG4gKiBUaGUgcGh5c2ljcyB3b3JsZC5cbiAqXG4gKiBUaGlzIGNvbnRhaW5zIGFsbCB0aGUgZGF0YS1zdHJ1Y3R1cmVzIG5lY2Vzc2FyeSBmb3IgY3JlYXRpbmcgYW5kIHNpbXVsYXRpbmdcbiAqIGJvZGllcyB3aXRoIGNvbnRhY3RzLCBqb2ludHMsIGFuZCBleHRlcm5hbCBmb3JjZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBXb3JsZCB7XG4gICAgY29uc3RydWN0b3IoZ3Jhdml0eSwgcmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzLCByYXdJc2xhbmRzLCByYXdCcm9hZFBoYXNlLCByYXdOYXJyb3dQaGFzZSwgcmF3Qm9kaWVzLCByYXdDb2xsaWRlcnMsIHJhd0ltcHVsc2VKb2ludHMsIHJhd011bHRpYm9keUpvaW50cywgcmF3Q0NEU29sdmVyLCByYXdRdWVyeVBpcGVsaW5lLCByYXdQaHlzaWNzUGlwZWxpbmUsIHJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSwgcmF3RGVidWdSZW5kZXJQaXBlbGluZSkge1xuICAgICAgICB0aGlzLmdyYXZpdHkgPSBncmF2aXR5O1xuICAgICAgICB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycyA9IG5ldyBJbnRlZ3JhdGlvblBhcmFtZXRlcnMocmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy5pc2xhbmRzID0gbmV3IElzbGFuZE1hbmFnZXIocmF3SXNsYW5kcyk7XG4gICAgICAgIHRoaXMuYnJvYWRQaGFzZSA9IG5ldyBCcm9hZFBoYXNlKHJhd0Jyb2FkUGhhc2UpO1xuICAgICAgICB0aGlzLm5hcnJvd1BoYXNlID0gbmV3IE5hcnJvd1BoYXNlKHJhd05hcnJvd1BoYXNlKTtcbiAgICAgICAgdGhpcy5ib2RpZXMgPSBuZXcgUmlnaWRCb2R5U2V0KHJhd0JvZGllcyk7XG4gICAgICAgIHRoaXMuY29sbGlkZXJzID0gbmV3IENvbGxpZGVyU2V0KHJhd0NvbGxpZGVycyk7XG4gICAgICAgIHRoaXMuaW1wdWxzZUpvaW50cyA9IG5ldyBJbXB1bHNlSm9pbnRTZXQocmF3SW1wdWxzZUpvaW50cyk7XG4gICAgICAgIHRoaXMubXVsdGlib2R5Sm9pbnRzID0gbmV3IE11bHRpYm9keUpvaW50U2V0KHJhd011bHRpYm9keUpvaW50cyk7XG4gICAgICAgIHRoaXMuY2NkU29sdmVyID0gbmV3IENDRFNvbHZlcihyYXdDQ0RTb2x2ZXIpO1xuICAgICAgICB0aGlzLnF1ZXJ5UGlwZWxpbmUgPSBuZXcgUXVlcnlQaXBlbGluZShyYXdRdWVyeVBpcGVsaW5lKTtcbiAgICAgICAgdGhpcy5waHlzaWNzUGlwZWxpbmUgPSBuZXcgUGh5c2ljc1BpcGVsaW5lKHJhd1BoeXNpY3NQaXBlbGluZSk7XG4gICAgICAgIHRoaXMuc2VyaWFsaXphdGlvblBpcGVsaW5lID0gbmV3IFNlcmlhbGl6YXRpb25QaXBlbGluZShyYXdTZXJpYWxpemF0aW9uUGlwZWxpbmUpO1xuICAgICAgICB0aGlzLmRlYnVnUmVuZGVyUGlwZWxpbmUgPSBuZXcgRGVidWdSZW5kZXJQaXBlbGluZShyYXdEZWJ1Z1JlbmRlclBpcGVsaW5lKTtcbiAgICAgICAgdGhpcy5pbXB1bHNlSm9pbnRzLmZpbmFsaXplRGVzZXJpYWxpemF0aW9uKHRoaXMuYm9kaWVzKTtcbiAgICAgICAgdGhpcy5ib2RpZXMuZmluYWxpemVEZXNlcmlhbGl6YXRpb24odGhpcy5jb2xsaWRlcnMpO1xuICAgICAgICB0aGlzLmNvbGxpZGVycy5maW5hbGl6ZURlc2VyaWFsaXphdGlvbih0aGlzLmJvZGllcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdBU00gbWVtb3J5IG9jY3VwaWVkIGJ5IHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEFsbCB0aGUgZmllbGRzIG9mIHRoaXMgcGh5c2ljcyB3b3JsZCB3aWxsIGJlIGZyZWVkIGFzIHdlbGwsXG4gICAgICogc28gdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIHRoZWlyIGAuZnJlZSgpYCBtZXRob2RzIGluZGl2aWR1YWxseS5cbiAgICAgKi9cbiAgICBmcmVlKCkge1xuICAgICAgICB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5mcmVlKCk7XG4gICAgICAgIHRoaXMuaXNsYW5kcy5mcmVlKCk7XG4gICAgICAgIHRoaXMuYnJvYWRQaGFzZS5mcmVlKCk7XG4gICAgICAgIHRoaXMubmFycm93UGhhc2UuZnJlZSgpO1xuICAgICAgICB0aGlzLmJvZGllcy5mcmVlKCk7XG4gICAgICAgIHRoaXMuY29sbGlkZXJzLmZyZWUoKTtcbiAgICAgICAgdGhpcy5pbXB1bHNlSm9pbnRzLmZyZWUoKTtcbiAgICAgICAgdGhpcy5tdWx0aWJvZHlKb2ludHMuZnJlZSgpO1xuICAgICAgICB0aGlzLmNjZFNvbHZlci5mcmVlKCk7XG4gICAgICAgIHRoaXMucXVlcnlQaXBlbGluZS5mcmVlKCk7XG4gICAgICAgIHRoaXMucGh5c2ljc1BpcGVsaW5lLmZyZWUoKTtcbiAgICAgICAgdGhpcy5zZXJpYWxpemF0aW9uUGlwZWxpbmUuZnJlZSgpO1xuICAgICAgICB0aGlzLmRlYnVnUmVuZGVyUGlwZWxpbmUuZnJlZSgpO1xuICAgICAgICB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc2xhbmRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJyb2FkUGhhc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubmFycm93UGhhc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYm9kaWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbGxpZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jY2RTb2x2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW1wdWxzZUpvaW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tdWx0aWJvZHlKb2ludHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucXVlcnlQaXBlbGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5waHlzaWNzUGlwZWxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2VyaWFsaXphdGlvblBpcGVsaW5lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRlYnVnUmVuZGVyUGlwZWxpbmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmF3KHJhdykge1xuICAgICAgICBpZiAoIXJhdylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbmV3IFdvcmxkKFZlY3Rvck9wcy5mcm9tUmF3KHJhdy50YWtlR3Jhdml0eSgpKSwgcmF3LnRha2VJbnRlZ3JhdGlvblBhcmFtZXRlcnMoKSwgcmF3LnRha2VJc2xhbmRNYW5hZ2VyKCksIHJhdy50YWtlQnJvYWRQaGFzZSgpLCByYXcudGFrZU5hcnJvd1BoYXNlKCksIHJhdy50YWtlQm9kaWVzKCksIHJhdy50YWtlQ29sbGlkZXJzKCksIHJhdy50YWtlSW1wdWxzZUpvaW50cygpLCByYXcudGFrZU11bHRpYm9keUpvaW50cygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBzbmFwc2hvdCBvZiB0aGlzIHdvcmxkLlxuICAgICAqXG4gICAgICogVXNlIGBXb3JsZC5yZXN0b3JlU25hcHNob3RgIHRvIGNyZWF0ZSBhIG5ldyBwaHlzaWNzIHdvcmxkIHdpdGggYSBzdGF0ZSBpZGVudGljYWwgdG9cbiAgICAgKiB0aGUgc3RhdGUgd2hlbiBgLnRha2VTbmFwc2hvdCgpYCBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgdGFrZVNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemF0aW9uUGlwZWxpbmUuc2VyaWFsaXplQWxsKHRoaXMuZ3Jhdml0eSwgdGhpcy5pbnRlZ3JhdGlvblBhcmFtZXRlcnMsIHRoaXMuaXNsYW5kcywgdGhpcy5icm9hZFBoYXNlLCB0aGlzLm5hcnJvd1BoYXNlLCB0aGlzLmJvZGllcywgdGhpcy5jb2xsaWRlcnMsIHRoaXMuaW1wdWxzZUpvaW50cywgdGhpcy5tdWx0aWJvZHlKb2ludHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHBoeXNpY3Mgd29ybGQgZnJvbSBhIHNuYXBzaG90LlxuICAgICAqXG4gICAgICogVGhpcyBuZXcgcGh5c2ljcyB3b3JsZCB3aWxsIGJlIGFuIGlkZW50aWNhbCBjb3B5IG9mIHRoZSBzbmFwc2hvdGVkIHBoeXNpY3Mgd29ybGQuXG4gICAgICovXG4gICAgc3RhdGljIHJlc3RvcmVTbmFwc2hvdChkYXRhKSB7XG4gICAgICAgIGxldCBkZXNlciA9IG5ldyBTZXJpYWxpemF0aW9uUGlwZWxpbmUoKTtcbiAgICAgICAgcmV0dXJuIGRlc2VyLmRlc2VyaWFsaXplQWxsKGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhbGwgdGhlIGxpbmVzIChhbmQgdGhlaXIgY29sb3JzKSBuZWVkZWQgdG8gcmVuZGVyIHRoZSBzY2VuZS5cbiAgICAgKi9cbiAgICBkZWJ1Z1JlbmRlcigpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z1JlbmRlclBpcGVsaW5lLnJlbmRlcih0aGlzLmJvZGllcywgdGhpcy5jb2xsaWRlcnMsIHRoaXMuaW1wdWxzZUpvaW50cywgdGhpcy5tdWx0aWJvZHlKb2ludHMsIHRoaXMubmFycm93UGhhc2UpO1xuICAgICAgICByZXR1cm4gbmV3IERlYnVnUmVuZGVyQnVmZmVycyh0aGlzLmRlYnVnUmVuZGVyUGlwZWxpbmUudmVydGljZXMsIHRoaXMuZGVidWdSZW5kZXJQaXBlbGluZS5jb2xvcnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZHZhbmNlIHRoZSBzaW11bGF0aW9uIGJ5IG9uZSB0aW1lIHN0ZXAuXG4gICAgICpcbiAgICAgKiBBbGwgZXZlbnRzIGdlbmVyYXRlZCBieSB0aGUgcGh5c2ljcyBlbmdpbmUgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gRXZlbnRRdWV1ZSAtIChvcHRpb25hbCkgc3RydWN0dXJlIHJlc3BvbnNpYmxlIGZvciBjb2xsZWN0aW5nXG4gICAgICogICBldmVudHMgZ2VuZXJhdGVkIGJ5IHRoZSBwaHlzaWNzIGVuZ2luZS5cbiAgICAgKi9cbiAgICBzdGVwKGV2ZW50UXVldWUsIGhvb2tzKSB7XG4gICAgICAgIHRoaXMucGh5c2ljc1BpcGVsaW5lLnN0ZXAodGhpcy5ncmF2aXR5LCB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycywgdGhpcy5pc2xhbmRzLCB0aGlzLmJyb2FkUGhhc2UsIHRoaXMubmFycm93UGhhc2UsIHRoaXMuYm9kaWVzLCB0aGlzLmNvbGxpZGVycywgdGhpcy5pbXB1bHNlSm9pbnRzLCB0aGlzLm11bHRpYm9keUpvaW50cywgdGhpcy5jY2RTb2x2ZXIsIGV2ZW50UXVldWUsIGhvb2tzKTtcbiAgICAgICAgdGhpcy5xdWVyeVBpcGVsaW5lLnVwZGF0ZSh0aGlzLmlzbGFuZHMsIHRoaXMuYm9kaWVzLCB0aGlzLmNvbGxpZGVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHNpbXVsYXRpb24gdGltZXN0ZXAuXG4gICAgICovXG4gICAgZ2V0IHRpbWVzdGVwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JhdGlvblBhcmFtZXRlcnMuZHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldyBzaW11bGF0aW9uIHRpbWVzdGVwLlxuICAgICAqXG4gICAgICogVGhlIHNpbXVsYXRpb24gdGltZXN0ZXAgZ292ZXJucyBieSBob3cgbXVjaCB0aGUgcGh5c2ljcyBzdGF0ZSBvZiB0aGUgd29ybGQgd2lsbFxuICAgICAqIGJlIGludGVncmF0ZWQuIEEgc2ltdWxhdGlvbiB0aW1lc3RlcCBzaG91bGQ6XG4gICAgICogLSBiZSBhcyBzbWFsbCBhcyBwb3NzaWJsZS4gVHlwaWNhbCB2YWx1ZXMgZXZvbHZlIGFyb3VuZCAwLjAxNiAoYXNzdW1pbmcgdGhlIGNob3NlbiB1bml0IGlzIG1pbGxpc2Vjb25kcyxcbiAgICAgKiBjb3JyZXNwb25kcyB0byB0aGUgdGltZSBiZXR3ZWVuIHR3byBmcmFtZXMgb2YgYSBnYW1lIHJ1bm5pbmcgYXQgNjBGUFMpLlxuICAgICAqIC0gbm90IHZhcnkgdG9vIG11Y2ggZHVyaW5nIHRoZSBjb3Vyc2Ugb2YgdGhlIHNpbXVsYXRpb24uIEEgdGltZXN0ZXAgd2l0aCBsYXJnZSB2YXJpYXRpb25zIG1heVxuICAgICAqIGNhdXNlIGluc3RhYmlsaXRpZXMgaW4gdGhlIHNpbXVsYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZHQgLSBUaGUgdGltZXN0ZXAgbGVuZ3RoLCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIHNldCB0aW1lc3RlcChkdCkge1xuICAgICAgICB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5kdCA9IGR0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB2ZWxvY2l0eSBpdGVyYXRpb25zIHRoZSB2ZWxvY2l0eS1iYXNlZCBmb3JjZSBjb25zdHJhaW50IHNvbHZlciBjYW4gbWFrZS5cbiAgICAgKi9cbiAgICBnZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JhdGlvblBhcmFtZXRlcnMubWF4VmVsb2NpdHlJdGVyYXRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zIChkZWZhdWx0OiA0KS5cbiAgICAgKlxuICAgICAqIFRoZSBncmVhdGVyIHRoaXMgdmFsdWUgaXMsIHRoZSBtb3N0IHJpZ2lkIGFuZCByZWFsaXN0aWMgdGhlIHBoeXNpY3Mgc2ltdWxhdGlvbiB3aWxsIGJlLlxuICAgICAqIEhvd2V2ZXIgYSBncmVhdGVyIG51bWJlciBvZiBpdGVyYXRpb25zIGlzIG1vcmUgY29tcHV0YXRpb25hbGx5IGludGVuc2l2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuaXRlciAtIFRoZSBuZXcgbWF4aW11bSBudW1iZXIgb2YgdmVsb2NpdHkgaXRlcmF0aW9ucy5cbiAgICAgKi9cbiAgICBzZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKG5pdGVyKSB7XG4gICAgICAgIHRoaXMuaW50ZWdyYXRpb25QYXJhbWV0ZXJzLm1heFZlbG9jaXR5SXRlcmF0aW9ucyA9IG5pdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB2ZWxvY2l0eSBpdGVyYXRpb25zIHRoZSB2ZWxvY2l0eS1iYXNlZCBmcmljdGlvbiBjb25zdHJhaW50IHNvbHZlciBjYW4gbWFrZS5cbiAgICAgKi9cbiAgICBnZXQgbWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5tYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgdmVsb2NpdHkgaXRlcmF0aW9ucyBmb3IgZnJpY3Rpb24gKGRlZmF1bHQ6IDgpLlxuICAgICAqXG4gICAgICogVGhlIGdyZWF0ZXIgdGhpcyB2YWx1ZSBpcywgdGhlIG1vc3QgcmVhbGlzdGljIGZyaWN0aW9uIHdpbGwgYmUuXG4gICAgICogSG93ZXZlciBhIGdyZWF0ZXIgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgaXMgbW9yZSBjb21wdXRhdGlvbmFsbHkgaW50ZW5zaXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5pdGVyIC0gVGhlIG5ldyBtYXhpbXVtIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zLlxuICAgICAqL1xuICAgIHNldCBtYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucyhuaXRlcikge1xuICAgICAgICB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5tYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucyA9IG5pdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB2ZWxvY2l0eSBpdGVyYXRpb25zIHRoZSB2ZWxvY2l0eS1iYXNlZCBjb25zdHJhaW50IHNvbHZlciBjYW4gbWFrZSB0byBhdHRlbXB0IHRvIHJlbW92ZVxuICAgICAqIHRoZSBlbmVyZ3kgaW50cm9kdWNlZCBieSBjb25zdHJhaW50IHN0YWJpbGl6YXRpb24uXG4gICAgICovXG4gICAgZ2V0IG1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JhdGlvblBhcmFtZXRlcnMubWF4U3RhYmlsaXphdGlvbkl0ZXJhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHZlbG9jaXR5IGl0ZXJhdGlvbnMgZm9yIHN0YWJpbGl6YXRpb24gKGRlZmF1bHQ6IDEpLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5pdGVyIC0gVGhlIG5ldyBtYXhpbXVtIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zLlxuICAgICAqL1xuICAgIHNldCBtYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyhuaXRlcikge1xuICAgICAgICB0aGlzLmludGVncmF0aW9uUGFyYW1ldGVycy5tYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyA9IG5pdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJpZ2lkLWJvZHkgZnJvbSB0aGUgZ2l2ZW4gcmlnZC1ib2R5IGRlc2NyaXB0aW9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJvZHkgLSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHJpZ2lkLWJvZHkgdG8gY3JlYXRlLlxuICAgICAqL1xuICAgIGNyZWF0ZVJpZ2lkQm9keShib2R5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZGllcy5jcmVhdGVSaWdpZEJvZHkodGhpcy5jb2xsaWRlcnMsIGJvZHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlc2MgLSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGNvbGxpZGVyLlxuICAgICAqIEBwYXJhbSBwYXJlbnQgLSBUaGUgcmlnaWQtYm9keSB0aGlzIGNvbGxpZGVyIGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNyZWF0ZUNvbGxpZGVyKGRlc2MsIHBhcmVudCkge1xuICAgICAgICBsZXQgcGFyZW50SGFuZGxlID0gcGFyZW50ID8gcGFyZW50LmhhbmRsZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlkZXJzLmNyZWF0ZUNvbGxpZGVyKHRoaXMuYm9kaWVzLCBkZXNjLCBwYXJlbnRIYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGltcHVsc2Ugam9pbnQgZnJvbSB0aGUgZ2l2ZW4gam9pbnQgZGVzY3JpcHRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGpvaW50IHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0gcGFyZW50MSAtIFRoZSBmaXJzdCByaWdpZC1ib2R5IGF0dGFjaGVkIHRvIHRoaXMgam9pbnQuXG4gICAgICogQHBhcmFtIHBhcmVudDIgLSBUaGUgc2Vjb25kIHJpZ2lkLWJvZHkgYXR0YWNoZWQgdG8gdGhpcyBqb2ludC5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gU2hvdWxkIHRoZSBhdHRhY2hlZCByaWdpZC1ib2RpZXMgYmUgYXdha2VuZWQ/XG4gICAgICovXG4gICAgY3JlYXRlSW1wdWxzZUpvaW50KHBhcmFtcywgcGFyZW50MSwgcGFyZW50Miwgd2FrZVVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltcHVsc2VKb2ludHMuY3JlYXRlSm9pbnQodGhpcy5ib2RpZXMsIHBhcmFtcywgcGFyZW50MS5oYW5kbGUsIHBhcmVudDIuaGFuZGxlLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG11bHRpYm9keSBqb2ludCBmcm9tIHRoZSBnaXZlbiBqb2ludCBkZXNjcmlwdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgam9pbnQgdG8gY3JlYXRlLlxuICAgICAqIEBwYXJhbSBwYXJlbnQxIC0gVGhlIGZpcnN0IHJpZ2lkLWJvZHkgYXR0YWNoZWQgdG8gdGhpcyBqb2ludC5cbiAgICAgKiBAcGFyYW0gcGFyZW50MiAtIFRoZSBzZWNvbmQgcmlnaWQtYm9keSBhdHRhY2hlZCB0byB0aGlzIGpvaW50LlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBTaG91bGQgdGhlIGF0dGFjaGVkIHJpZ2lkLWJvZGllcyBiZSBhd2FrZW5lZD9cbiAgICAgKi9cbiAgICBjcmVhdGVNdWx0aWJvZHlKb2ludChwYXJhbXMsIHBhcmVudDEsIHBhcmVudDIsIHdha2VVcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aWJvZHlKb2ludHMuY3JlYXRlSm9pbnQocGFyYW1zLCBwYXJlbnQxLmhhbmRsZSwgcGFyZW50Mi5oYW5kbGUsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHJpZ2lkLWJvZHkgZnJvbSBpdHMgaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgcmlnaWQtYm9keSB0byByZXRyaWV2ZS5cbiAgICAgKi9cbiAgICBnZXRSaWdpZEJvZHkoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZGllcy5nZXQoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgY29sbGlkZXIgZnJvbSBpdHMgaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgY29sbGlkZXIgdG8gcmV0cmlldmUuXG4gICAgICovXG4gICAgZ2V0Q29sbGlkZXIoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGVycy5nZXQoaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFuIGltcHVsc2Ugam9pbnQgZnJvbSBpdHMgaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgaW1wdWxzZSBqb2ludCB0byByZXRyaWV2ZS5cbiAgICAgKi9cbiAgICBnZXRJbXB1bHNlSm9pbnQoaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltcHVsc2VKb2ludHMuZ2V0KGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbiBtdWx0aWJvZHkgam9pbnQgZnJvbSBpdHMgaGFuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZSAtIFRoZSBpbnRlZ2VyIGhhbmRsZSBvZiB0aGUgbXVsdGlib2R5IGpvaW50IHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIGdldE11bHRpYm9keUpvaW50KGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aWJvZHlKb2ludHMuZ2V0KGhhbmRsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIHJpZ2lkLWJvZHkgZnJvbSB0aGlzIHBoeXNpY3Mgd29ybGQuXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgcmVtb3ZlIHRoaXMgcmlnaWQtYm9keSBhcyB3ZWxsIGFzIGFsbCBpdHMgYXR0YWNoZWQgY29sbGlkZXJzIGFuZCBqb2ludHMuXG4gICAgICogRXZlcnkgb3RoZXIgYm9kaWVzIHRvdWNoaW5nIG9yIGF0dGFjaGVkIGJ5IGpvaW50cyB0byB0aGlzIHJpZ2lkLWJvZHkgd2lsbCBiZSB3b2tlbi11cC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBib2R5IC0gVGhlIHJpZ2lkLWJvZHkgdG8gcmVtb3ZlLlxuICAgICAqL1xuICAgIHJlbW92ZVJpZ2lkQm9keShib2R5KSB7XG4gICAgICAgIGlmICh0aGlzLmJvZGllcykge1xuICAgICAgICAgICAgdGhpcy5ib2RpZXMucmVtb3ZlKGJvZHkuaGFuZGxlLCB0aGlzLmlzbGFuZHMsIHRoaXMuY29sbGlkZXJzLCB0aGlzLmltcHVsc2VKb2ludHMsIHRoaXMubXVsdGlib2R5Sm9pbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBjb2xsaWRlciBmcm9tIHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlciAtIFRoZSBjb2xsaWRlciB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHdha2VVcCAtIElmIHNldCB0byBgdHJ1ZWAsIHRoZSByaWdpZC1ib2R5IHRoaXMgY29sbGlkZXIgaXMgYXR0YWNoZWQgdG8gd2lsbCBiZSBhd2FrZW4uXG4gICAgICovXG4gICAgcmVtb3ZlQ29sbGlkZXIoY29sbGlkZXIsIHdha2VVcCkge1xuICAgICAgICBpZiAodGhpcy5jb2xsaWRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJzLnJlbW92ZShjb2xsaWRlci5oYW5kbGUsIHRoaXMuaXNsYW5kcywgdGhpcy5ib2RpZXMsIHdha2VVcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gaW1wdWxzZSBqb2ludCBmcm9tIHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBqb2ludCAtIFRoZSBpbXB1bHNlIGpvaW50IHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0gd2FrZVVwIC0gSWYgc2V0IHRvIGB0cnVlYCwgdGhlIHJpZ2lkLWJvZGllcyBhdHRhY2hlZCBieSB0aGlzIGpvaW50IHdpbGwgYmUgYXdha2VuLlxuICAgICAqL1xuICAgIHJlbW92ZUltcHVsc2VKb2ludChqb2ludCwgd2FrZVVwKSB7XG4gICAgICAgIGlmICh0aGlzLmltcHVsc2VKb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW1wdWxzZUpvaW50cy5yZW1vdmUoam9pbnQuaGFuZGxlLCB3YWtlVXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIG11bHRpYm9keSBqb2ludCBmcm9tIHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBqb2ludCAtIFRoZSBtdWx0aWJvZHkgam9pbnQgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB3YWtlVXAgLSBJZiBzZXQgdG8gYHRydWVgLCB0aGUgcmlnaWQtYm9kaWVzIGF0dGFjaGVkIGJ5IHRoaXMgam9pbnQgd2lsbCBiZSBhd2FrZW4uXG4gICAgICovXG4gICAgcmVtb3ZlTXVsdGlib2R5Sm9pbnQoam9pbnQsIHdha2VVcCkge1xuICAgICAgICBpZiAodGhpcy5pbXB1bHNlSm9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpYm9keUpvaW50cy5yZW1vdmUoam9pbnQuaGFuZGxlLCB3YWtlVXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gZWFjaCBjb2xsaWRlciBtYW5hZ2VkIGJ5IHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmKGNvbGxpZGVyKSAtIFRoZSBmdW5jdGlvbiB0byBhcHBseSB0byBlYWNoIGNvbGxpZGVyIG1hbmFnZWQgYnkgdGhpcyBwaHlzaWNzIHdvcmxkLiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAgKi9cbiAgICBmb3JFYWNoQ29sbGlkZXIoZikge1xuICAgICAgICB0aGlzLmNvbGxpZGVycy5mb3JFYWNoKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBjbG9zdXJlIHRvIGVhY2ggcmlnaWQtYm9keSBtYW5hZ2VkIGJ5IHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmKGJvZHkpIC0gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggcmlnaWQtYm9keSBtYW5hZ2VkIGJ5IHRoaXMgcGh5c2ljcyB3b3JsZC4gQ2FsbGVkIGFzIGBmKGNvbGxpZGVyKWAuXG4gICAgICovXG4gICAgZm9yRWFjaFJpZ2lkQm9keShmKSB7XG4gICAgICAgIHRoaXMuYm9kaWVzLmZvckVhY2goZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIGNsb3N1cmUgdG8gZWFjaCBhY3RpdmUgcmlnaWQtYm9keSBtYW5hZ2VkIGJ5IHRoaXMgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEFmdGVyIGEgc2hvcnQgdGltZSBvZiBpbmFjdGl2aXR5LCBhIHJpZ2lkLWJvZHkgaXMgYXV0b21hdGljYWxseSBkZWFjdGl2YXRlZCAoXCJhc2xlZXBcIikgYnlcbiAgICAgKiB0aGUgcGh5c2ljcyBlbmdpbmUgaW4gb3JkZXIgdG8gc2F2ZSBjb21wdXRhdGlvbmFsIHBvd2VyLiBBIHNsZWVwaW5nIHJpZ2lkLWJvZHkgbmV2ZXIgbW92ZXNcbiAgICAgKiB1bmxlc3MgaXQgaXMgbW92ZWQgbWFudWFsbHkgYnkgdGhlIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiAtIFRoZSBmdW5jdGlvbiB0byBhcHBseSB0byBlYWNoIGFjdGl2ZSByaWdpZC1ib2R5IG1hbmFnZWQgYnkgdGhpcyBwaHlzaWNzIHdvcmxkLiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAgKi9cbiAgICBmb3JFYWNoQWN0aXZlUmlnaWRCb2R5KGYpIHtcbiAgICAgICAgdGhpcy5ib2RpZXMuZm9yRWFjaEFjdGl2ZVJpZ2lkQm9keSh0aGlzLmlzbGFuZHMsIGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBjbG9zZXN0IGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgcmF5IGFuZCB0aGUgcGh5c2ljcyB3b3JsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByYXkgLSBUaGUgcmF5IHRvIGNhc3QuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUtb2YtaW1wYWN0IHRoYXQgY2FuIGJlIHJlcG9ydGVkIGJ5IHRoaXMgY2FzdC4gVGhpcyBlZmZlY3RpdmVseVxuICAgICAqICAgbGltaXRzIHRoZSBsZW5ndGggb2YgdGhlIHJheSB0byBgcmF5LmRpci5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqIEBwYXJhbSBzb2xpZCAtIElmIGBmYWxzZWAgdGhlbiB0aGUgcmF5IHdpbGwgYXR0ZW1wdCB0byBoaXQgdGhlIGJvdW5kYXJ5IG9mIGEgc2hhcGUsIGV2ZW4gaWYgaXRzXG4gICAgICogICBvcmlnaW4gYWxyZWFkeSBsaWVzIGluc2lkZSBvZiBhIHNoYXBlLiBJbiBvdGhlciB0ZXJtcywgYHRydWVgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBwbGFpbixcbiAgICAgKiAgIHdoZXJlYXMgYGZhbHNlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgaG9sbG93IGZvciB0aGlzIHJheS1jYXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBVc2VkIHRvIGZpbHRlciB0aGUgY29sbGlkZXJzIHRoYXQgY2FuIG9yIGNhbm5vdCBiZSBoaXQgYnkgdGhlIHJheS5cbiAgICAgKiBAcGFyYW0gZmlsdGVyIC0gVGhlIGNhbGxiYWNrIHRvIGZpbHRlciBvdXQgd2hpY2ggY29sbGlkZXIgd2lsbCBiZSBoaXQuXG4gICAgICovXG4gICAgY2FzdFJheShyYXksIG1heFRvaSwgc29saWQsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5UGlwZWxpbmUuY2FzdFJheSh0aGlzLmNvbGxpZGVycywgcmF5LCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGNhc3RDbG9zdXJlKHRoaXMuY29sbGlkZXJzLCBmaWx0ZXIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIHJheSBhbmQgdGhlIHBoeXNpY3Mgd29ybGQuXG4gICAgICpcbiAgICAgKiBUaGlzIGFsc28gY29tcHV0ZXMgdGhlIG5vcm1hbCBhdCB0aGUgaGl0IHBvaW50LlxuICAgICAqIEBwYXJhbSByYXkgLSBUaGUgcmF5IHRvIGNhc3QuXG4gICAgICogQHBhcmFtIG1heFRvaSAtIFRoZSBtYXhpbXVtIHRpbWUtb2YtaW1wYWN0IHRoYXQgY2FuIGJlIHJlcG9ydGVkIGJ5IHRoaXMgY2FzdC4gVGhpcyBlZmZlY3RpdmVseVxuICAgICAqICAgbGltaXRzIHRoZSBsZW5ndGggb2YgdGhlIHJheSB0byBgcmF5LmRpci5ub3JtKCkgKiBtYXhUb2lgLlxuICAgICAqIEBwYXJhbSBzb2xpZCAtIElmIGBmYWxzZWAgdGhlbiB0aGUgcmF5IHdpbGwgYXR0ZW1wdCB0byBoaXQgdGhlIGJvdW5kYXJ5IG9mIGEgc2hhcGUsIGV2ZW4gaWYgaXRzXG4gICAgICogICBvcmlnaW4gYWxyZWFkeSBsaWVzIGluc2lkZSBvZiBhIHNoYXBlLiBJbiBvdGhlciB0ZXJtcywgYHRydWVgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBwbGFpbixcbiAgICAgKiAgIHdoZXJlYXMgYGZhbHNlYCBpbXBsaWVzIHRoYXQgYWxsIHNoYXBlcyBhcmUgaG9sbG93IGZvciB0aGlzIHJheS1jYXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBVc2VkIHRvIGZpbHRlciB0aGUgY29sbGlkZXJzIHRoYXQgY2FuIG9yIGNhbm5vdCBiZSBoaXQgYnkgdGhlIHJheS5cbiAgICAgKi9cbiAgICBjYXN0UmF5QW5kR2V0Tm9ybWFsKHJheSwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlQaXBlbGluZS5jYXN0UmF5QW5kR2V0Tm9ybWFsKHRoaXMuY29sbGlkZXJzLCByYXksIG1heFRvaSwgc29saWQsIGdyb3VwcywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXN0IGEgcmF5IGFuZCBjb2xsZWN0cyBhbGwgdGhlIGludGVyc2VjdGlvbnMgYmV0d2VlbiBhIHJheSBhbmQgdGhlIHNjZW5lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJheSAtIFRoZSByYXkgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGxlbmd0aCBvZiB0aGUgcmF5IHRvIGByYXkuZGlyLm5vcm0oKSAqIG1heFRvaWAuXG4gICAgICogQHBhcmFtIHNvbGlkIC0gSWYgYGZhbHNlYCB0aGVuIHRoZSByYXkgd2lsbCBhdHRlbXB0IHRvIGhpdCB0aGUgYm91bmRhcnkgb2YgYSBzaGFwZSwgZXZlbiBpZiBpdHNcbiAgICAgKiAgIG9yaWdpbiBhbHJlYWR5IGxpZXMgaW5zaWRlIG9mIGEgc2hhcGUuIEluIG90aGVyIHRlcm1zLCBgdHJ1ZWAgaW1wbGllcyB0aGF0IGFsbCBzaGFwZXMgYXJlIHBsYWluLFxuICAgICAqICAgd2hlcmVhcyBgZmFsc2VgIGltcGxpZXMgdGhhdCBhbGwgc2hhcGVzIGFyZSBob2xsb3cgZm9yIHRoaXMgcmF5LWNhc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFVzZWQgdG8gZmlsdGVyIHRoZSBjb2xsaWRlcnMgdGhhdCBjYW4gb3IgY2Fubm90IGJlIGhpdCBieSB0aGUgcmF5LlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBjYWxsZWQgb25jZSBwZXIgaGl0IChpbiBubyBwYXJ0aWN1bGFyIG9yZGVyKSBiZXR3ZWVuIGEgcmF5IGFuZCBhIGNvbGxpZGVyLlxuICAgICAqICAgSWYgdGhpcyBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAsIHRoZW4gdGhlIGNhc3Qgd2lsbCBzdG9wIGFuZCBubyBmdXJ0aGVyIGhpdHMgd2lsbCBiZSBkZXRlY3RlZC9yZXBvcnRlZC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb25zV2l0aFJheShyYXksIG1heFRvaSwgc29saWQsIGdyb3VwcywgY2FsbGJhY2ssIGZpbHRlcikge1xuICAgICAgICB0aGlzLnF1ZXJ5UGlwZWxpbmUuaW50ZXJzZWN0aW9uc1dpdGhSYXkodGhpcy5jb2xsaWRlcnMsIHJheSwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBjYWxsYmFjaywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYW5kbGUgb2YgdXAgdG8gb25lIGNvbGxpZGVyIGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2hhcGVQb3MgLSBUaGUgcG9zaXRpb24gb2YgdGhlIHNoYXBlIHVzZWQgZm9yIHRoZSBpbnRlcnNlY3Rpb24gdGVzdC5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QgLSBUaGUgb3JpZW50YXRpb24gb2YgdGhlIHNoYXBlIHVzZWQgZm9yIHRoZSBpbnRlcnNlY3Rpb24gdGVzdC5cbiAgICAgKiBAcGFyYW0gc2hhcGUgLSBUaGUgc2hhcGUgdXNlZCBmb3IgdGhlIGludGVyc2VjdGlvbiB0ZXN0LlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHJheSwgaW4gb3JkZXIgdG8gb25seVxuICAgICAqICAgaGl0IHRoZSBjb2xsaWRlcnMgd2l0aCBjb2xsaXNpb24gZ3JvdXBzIGNvbXBhdGlibGUgd2l0aCB0aGUgcmF5J3MgZ3JvdXAuXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uV2l0aFNoYXBlKHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIGxldCBoYW5kbGUgPSB0aGlzLnF1ZXJ5UGlwZWxpbmUuaW50ZXJzZWN0aW9uV2l0aFNoYXBlKHRoaXMuY29sbGlkZXJzLCBzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlLCBncm91cHMsIGNhc3RDbG9zdXJlKHRoaXMuY29sbGlkZXJzLCBmaWx0ZXIpKTtcbiAgICAgICAgcmV0dXJuIChoYW5kbGUgIT0gbnVsbCkgPyB0aGlzLmNvbGxpZGVycy5nZXQoaGFuZGxlKSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHByb2plY3Rpb24gb2YgYSBwb2ludCBvbiB0aGUgY2xvc2VzdCBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBwcm9qZWN0LlxuICAgICAqIEBwYXJhbSBzb2xpZCAtIElmIHRoaXMgaXMgc2V0IHRvIGB0cnVlYCB0aGVuIHRoZSBjb2xsaWRlciBzaGFwZXMgYXJlIGNvbnNpZGVyZWQgdG9cbiAgICAgKiAgIGJlIHBsYWluIChpZiB0aGUgcG9pbnQgaXMgbG9jYXRlZCBpbnNpZGUgb2YgYSBwbGFpbiBzaGFwZSwgaXRzIHByb2plY3Rpb24gaXMgdGhlIHBvaW50XG4gICAgICogICBpdHNlbGYpLiBJZiBpdCBpcyBzZXQgdG8gYGZhbHNlYCB0aGUgY29sbGlkZXIgc2hhcGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGhvbGxvd1xuICAgICAqICAgKGlmIHRoZSBwb2ludCBpcyBsb2NhdGVkIGluc2lkZSBvZiBhbiBob2xsb3cgc2hhcGUsIGl0IGlzIHByb2plY3RlZCBvbiB0aGUgc2hhcGUnc1xuICAgICAqICAgYm91bmRhcnkpLlxuICAgICAqIEBwYXJhbSBncm91cHMgLSBUaGUgYml0IGdyb3VwcyBhbmQgZmlsdGVyIGFzc29jaWF0ZWQgdG8gdGhlIHBvaW50IHRvIHByb2plY3QsIGluIG9yZGVyIHRvIG9ubHlcbiAgICAgKiAgIHByb2plY3Qgb24gY29sbGlkZXJzIHdpdGggY29sbGlzaW9uIGdyb3VwcyBjb21wYXRpYmxlIHdpdGggdGhlIHJheSdzIGdyb3VwLlxuICAgICAqL1xuICAgIHByb2plY3RQb2ludChwb2ludCwgc29saWQsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5UGlwZWxpbmUucHJvamVjdFBvaW50KHRoaXMuY29sbGlkZXJzLCBwb2ludCwgc29saWQsIGdyb3VwcywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBwcm9qZWN0aW9uIG9mIGEgcG9pbnQgb24gdGhlIGNsb3Nlc3QgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gcHJvamVjdC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVGhlIGJpdCBncm91cHMgYW5kIGZpbHRlciBhc3NvY2lhdGVkIHRvIHRoZSBwb2ludCB0byBwcm9qZWN0LCBpbiBvcmRlciB0byBvbmx5XG4gICAgICogICBwcm9qZWN0IG9uIGNvbGxpZGVycyB3aXRoIGNvbGxpc2lvbiBncm91cHMgY29tcGF0aWJsZSB3aXRoIHRoZSByYXkncyBncm91cC5cbiAgICAgKi9cbiAgICBwcm9qZWN0UG9pbnRBbmRHZXRGZWF0dXJlKHBvaW50LCBncm91cHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlQaXBlbGluZS5wcm9qZWN0UG9pbnRBbmRHZXRGZWF0dXJlKHRoaXMuY29sbGlkZXJzLCBwb2ludCwgZ3JvdXBzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBhbGwgdGhlIGNvbGxpZGVycyBjb250YWluaW5nIHRoZSBnaXZlbiBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB1c2VkIGZvciB0aGUgY29udGFpbm1lbnQgdGVzdC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVGhlIGJpdCBncm91cHMgYW5kIGZpbHRlciBhc3NvY2lhdGVkIHRvIHRoZSBwb2ludCB0byB0ZXN0LCBpbiBvcmRlciB0byBvbmx5XG4gICAgICogICB0ZXN0IG9uIGNvbGxpZGVycyB3aXRoIGNvbGxpc2lvbiBncm91cHMgY29tcGF0aWJsZSB3aXRoIHRoZSByYXkncyBncm91cC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBoYW5kbGVzIG9mIGVhY2ggY29sbGlkZXIgd2l0aCBhIHNoYXBlXG4gICAgICogICBjb250YWluaW5nIHRoZSBgcG9pbnRgLlxuICAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoUG9pbnQocG9pbnQsIGdyb3VwcywgY2FsbGJhY2ssIGZpbHRlcikge1xuICAgICAgICB0aGlzLnF1ZXJ5UGlwZWxpbmUuaW50ZXJzZWN0aW9uc1dpdGhQb2ludCh0aGlzLmNvbGxpZGVycywgcG9pbnQsIGdyb3VwcywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGNhbGxiYWNrKSwgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXN0cyBhIHNoYXBlIGF0IGEgY29uc3RhbnQgbGluZWFyIHZlbG9jaXR5IGFuZCByZXRyaWV2ZSB0aGUgZmlyc3QgY29sbGlkZXIgaXQgaGl0cy5cbiAgICAgKiBUaGlzIGlzIHNpbWlsYXIgdG8gcmF5LWNhc3RpbmcgZXhjZXB0IHRoYXQgd2UgYXJlIGNhc3RpbmcgYSB3aG9sZSBzaGFwZSBpbnN0ZWFkIG9mXG4gICAgICoganVzdCBhIHBvaW50ICh0aGUgcmF5IG9yaWdpbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2hhcGVQb3MgLSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgc2hhcGUgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QgLSBUaGUgaW5pdGlhbCByb3RhdGlvbiBvZiB0aGUgc2hhcGUgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gc2hhcGVWZWwgLSBUaGUgY29uc3RhbnQgdmVsb2NpdHkgb2YgdGhlIHNoYXBlIHRvIGNhc3QgKGkuZS4gdGhlIGNhc3QgZGlyZWN0aW9uKS5cbiAgICAgKiBAcGFyYW0gc2hhcGUgLSBUaGUgc2hhcGUgdG8gY2FzdC5cbiAgICAgKiBAcGFyYW0gbWF4VG9pIC0gVGhlIG1heGltdW0gdGltZS1vZi1pbXBhY3QgdGhhdCBjYW4gYmUgcmVwb3J0ZWQgYnkgdGhpcyBjYXN0LiBUaGlzIGVmZmVjdGl2ZWx5XG4gICAgICogICBsaW1pdHMgdGhlIGRpc3RhbmNlIHRyYXZlbGVkIGJ5IHRoZSBzaGFwZSB0byBgc2hhcGVWZWwubm9ybSgpICogbWF4VG9pYC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBzIC0gVGhlIGJpdCBncm91cHMgYW5kIGZpbHRlciBhc3NvY2lhdGVkIHRvIHRoZSBzaGFwZSB0byBjYXN0LCBpbiBvcmRlciB0byBvbmx5XG4gICAgICogICB0ZXN0IG9uIGNvbGxpZGVycyB3aXRoIGNvbGxpc2lvbiBncm91cHMgY29tcGF0aWJsZSB3aXRoIHRoaXMgZ3JvdXAuXG4gICAgICovXG4gICAgY2FzdFNoYXBlKHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGVWZWwsIHNoYXBlLCBtYXhUb2ksIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5UGlwZWxpbmUuY2FzdFNoYXBlKHRoaXMuY29sbGlkZXJzLCBzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlVmVsLCBzaGFwZSwgbWF4VG9pLCBncm91cHMsIGNhc3RDbG9zdXJlKHRoaXMuY29sbGlkZXJzLCBmaWx0ZXIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYWxsIHRoZSBjb2xsaWRlcnMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaGFwZVBvcyAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2hhcGUgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gc2hhcGVSb3QgLSBUaGUgb3JpZW50YXRpb24gb2YgdGhlIHNoYXBlIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHNoYXBlIC0gVGhlIHNoYXBlIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIGdyb3VwcyAtIFRoZSBiaXQgZ3JvdXBzIGFuZCBmaWx0ZXIgYXNzb2NpYXRlZCB0byB0aGUgc2hhcGUgdG8gdGVzdCwgaW4gb3JkZXIgdG8gb25seVxuICAgICAqICAgdGVzdCBvbiBjb2xsaWRlcnMgd2l0aCBjb2xsaXNpb24gZ3JvdXBzIGNvbXBhdGlibGUgd2l0aCB0aGlzIGdyb3VwLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEEgZnVuY3Rpb24gY2FsbGVkIHdpdGggdGhlIGhhbmRsZXMgb2YgZWFjaCBjb2xsaWRlciBpbnRlcnNlY3RpbmcgdGhlIGBzaGFwZWAuXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGhTaGFwZShzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5xdWVyeVBpcGVsaW5lLmludGVyc2VjdGlvbnNXaXRoU2hhcGUodGhpcy5jb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGNhbGxiYWNrKSwgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGZpbHRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgaGFuZGxlcyBvZiBhbGwgdGhlIGNvbGxpZGVycyB3aXRoIGFuIEFBQkIgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBBQUJCLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFhYmJDZW50ZXIgLSBUaGUgY2VudGVyIG9mIHRoZSBBQUJCIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIGFhYmJIYWxmRXh0ZW50cyAtIFRoZSBoYWxmLWV4dGVudHMgb2YgdGhlIEFBQkIgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBoYW5kbGVzIG9mIGFsbCB0aGUgY29sbGlkZXJzXG4gICAgICogICAgICAgICAgICAgICAgICAgY3VycmVudGx5IGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gQUFCQi5cbiAgICAgKi9cbiAgICBjb2xsaWRlcnNXaXRoQWFiYkludGVyc2VjdGluZ0FhYmIoYWFiYkNlbnRlciwgYWFiYkhhbGZFeHRlbnRzLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnF1ZXJ5UGlwZWxpbmUuY29sbGlkZXJzV2l0aEFhYmJJbnRlcnNlY3RpbmdBYWJiKGFhYmJDZW50ZXIsIGFhYmJIYWxmRXh0ZW50cywgY2FzdENsb3N1cmUodGhpcy5jb2xsaWRlcnMsIGNhbGxiYWNrKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVudW1lcmF0ZXMgYWxsIHRoZSBjb2xsaWRlcnMgcG90ZW50aWFsbHkgaW4gY29udGFjdCB3aXRoIHRoZSBnaXZlbiBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjEgLSBUaGUgc2Vjb25kIGNvbGxpZGVyIGludm9sdmVkIGluIHRoZSBjb250YWN0LlxuICAgICAqIEBwYXJhbSBmIC0gQ2xvc3VyZSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggY29sbGlkZXIgdGhhdCBpcyBpbiBjb250YWN0IHdpdGggYGNvbGxpZGVyMWAuXG4gICAgICovXG4gICAgY29udGFjdHNXaXRoKGNvbGxpZGVyMSwgZikge1xuICAgICAgICB0aGlzLm5hcnJvd1BoYXNlLmNvbnRhY3RzV2l0aChjb2xsaWRlcjEuaGFuZGxlLCBjYXN0Q2xvc3VyZSh0aGlzLmNvbGxpZGVycywgZikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnVtZXJhdGVzIGFsbCB0aGUgY29sbGlkZXJzIGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gY29sbGlkZXJzLCBhc3N1bWluZyBvbmUgb2YgdGhlbVxuICAgICAqIGlzIGEgc2Vuc29yLlxuICAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoKGNvbGxpZGVyMSwgZikge1xuICAgICAgICB0aGlzLm5hcnJvd1BoYXNlLmludGVyc2VjdGlvbnNXaXRoKGNvbGxpZGVyMS5oYW5kbGUsIGNhc3RDbG9zdXJlKHRoaXMuY29sbGlkZXJzLCBmKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIHRoZSBjb250YWN0IG1hbmlmb2xkcyBiZXR3ZWVuIHRoZSBnaXZlbiBwYWlyIG9mIGNvbGxpZGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlcjEgLSBUaGUgZmlyc3QgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGNvbnRhY3QuXG4gICAgICogQHBhcmFtIGNvbGxpZGVyMiAtIFRoZSBzZWNvbmQgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGNvbnRhY3QuXG4gICAgICogQHBhcmFtIGYgLSBDbG9zdXJlIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBjb250YWN0IG1hbmlmb2xkIGJldHdlZW4gdGhlIHR3byBjb2xsaWRlcnMuIElmIHRoZSBzZWNvbmQgYXJndW1lbnRcbiAgICAgKiAgICAgICAgICAgIHBhc3NlZCB0byB0aGlzIGNsb3N1cmUgaXMgYHRydWVgLCB0aGVuIHRoZSBjb250YWN0IG1hbmlmb2xkIGRhdGEgaXMgZmxpcHBlZCwgaS5lLiwgbWV0aG9kcyBsaWtlIGBsb2NhbE5vcm1hbDFgXG4gICAgICogICAgICAgICAgICBhY3R1YWxseSBhcHBseSB0byB0aGUgYGNvbGxpZGVyMmAgYW5kIGZpZWxkcyBsaWtlIGBsb2NhbE5vcm1hbDJgIGFwcGx5IHRvIHRoZSBgY29sbGlkZXIxYC5cbiAgICAgKi9cbiAgICBjb250YWN0UGFpcihjb2xsaWRlcjEsIGNvbGxpZGVyMiwgZikge1xuICAgICAgICB0aGlzLm5hcnJvd1BoYXNlLmNvbnRhY3RQYWlyKGNvbGxpZGVyMS5oYW5kbGUsIGNvbGxpZGVyMi5oYW5kbGUsIGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBgY29sbGlkZXIxYCBhbmQgYGNvbGxpZGVyMmAgaW50ZXJzZWN0IGFuZCBhdCBsZWFzdCBvbmUgb2YgdGhlbSBpcyBhIHNlbnNvci5cbiAgICAgKiBAcGFyYW0gY29sbGlkZXIxIOKIkiBUaGUgZmlyc3QgY29sbGlkZXIgaW52b2x2ZWQgaW4gdGhlIGludGVyc2VjdGlvbi5cbiAgICAgKiBAcGFyYW0gY29sbGlkZXIyIOKIkiBUaGUgc2Vjb25kIGNvbGxpZGVyIGludm9sdmVkIGluIHRoZSBpbnRlcnNlY3Rpb24uXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uUGFpcihjb2xsaWRlcjEsIGNvbGxpZGVyMikge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXJyb3dQaGFzZS5pbnRlcnNlY3Rpb25QYWlyKGNvbGxpZGVyMS5oYW5kbGUsIGNvbGxpZGVyMi5oYW5kbGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhc3RDbG9zdXJlKHNldCwgZikge1xuICAgIHJldHVybiBoYW5kbGUgPT4ge1xuICAgICAgICBpZiAoISFmKSB7XG4gICAgICAgICAgICByZXR1cm4gZihzZXQuZ2V0KGhhbmRsZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13b3JsZC5qcy5tYXAiLCJpbXBvcnQgKiBhcyBSQVBJRVIgZnJvbSAnLi9leHBvcnRzJztcbmV4cG9ydCAqIGZyb20gJy4vZXhwb3J0cyc7XG5leHBvcnQgZGVmYXVsdCBSQVBJRVI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYXBpZXIuanMubWFwIiwiaW1wb3J0ICogYXMgd2FzbSBmcm9tICcuL3JhcGllcl93YXNtM2RfYmcud2FzbSc7XG5cbmNvbnN0IGhlYXAgPSBuZXcgQXJyYXkoMzIpLmZpbGwodW5kZWZpbmVkKTtcblxuaGVhcC5wdXNoKHVuZGVmaW5lZCwgbnVsbCwgdHJ1ZSwgZmFsc2UpO1xuXG5mdW5jdGlvbiBnZXRPYmplY3QoaWR4KSB7IHJldHVybiBoZWFwW2lkeF07IH1cblxubGV0IGhlYXBfbmV4dCA9IGhlYXAubGVuZ3RoO1xuXG5mdW5jdGlvbiBkcm9wT2JqZWN0KGlkeCkge1xuICAgIGlmIChpZHggPCAzNikgcmV0dXJuO1xuICAgIGhlYXBbaWR4XSA9IGhlYXBfbmV4dDtcbiAgICBoZWFwX25leHQgPSBpZHg7XG59XG5cbmZ1bmN0aW9uIHRha2VPYmplY3QoaWR4KSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGlkeCk7XG4gICAgZHJvcE9iamVjdChpZHgpO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGFkZEhlYXBPYmplY3Qob2JqKSB7XG4gICAgaWYgKGhlYXBfbmV4dCA9PT0gaGVhcC5sZW5ndGgpIGhlYXAucHVzaChoZWFwLmxlbmd0aCArIDEpO1xuICAgIGNvbnN0IGlkeCA9IGhlYXBfbmV4dDtcbiAgICBoZWFwX25leHQgPSBoZWFwW2lkeF07XG5cbiAgICBoZWFwW2lkeF0gPSBvYmo7XG4gICAgcmV0dXJuIGlkeDtcbn1cblxuZnVuY3Rpb24gaXNMaWtlTm9uZSh4KSB7XG4gICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZCB8fCB4ID09PSBudWxsO1xufVxuXG5sZXQgY2FjaGVnZXRGbG9hdDY0TWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRGbG9hdDY0TWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVnZXRGbG9hdDY0TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldEZsb2F0NjRNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0RmxvYXQ2NE1lbW9yeTAgPSBuZXcgRmxvYXQ2NEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldEZsb2F0NjRNZW1vcnkwO1xufVxuXG5sZXQgY2FjaGVnZXRJbnQzMk1lbW9yeTAgPSBudWxsO1xuZnVuY3Rpb24gZ2V0SW50MzJNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldEludDMyTWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldEludDMyTWVtb3J5MC5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldEludDMyTWVtb3J5MCA9IG5ldyBJbnQzMkFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldEludDMyTWVtb3J5MDtcbn1cblxuY29uc3QgbFRleHREZWNvZGVyID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAndW5kZWZpbmVkJyA/ICgwLCBtb2R1bGUucmVxdWlyZSkoJ3V0aWwnKS5UZXh0RGVjb2RlciA6IFRleHREZWNvZGVyO1xuXG5sZXQgY2FjaGVkVGV4dERlY29kZXIgPSBuZXcgbFRleHREZWNvZGVyKCd1dGYtOCcsIHsgaWdub3JlQk9NOiB0cnVlLCBmYXRhbDogdHJ1ZSB9KTtcblxuY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKCk7XG5cbmxldCBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRVaW50OE1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0VWludDhNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0VWludDhNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0VWludDhNZW1vcnkwID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDhNZW1vcnkwO1xufVxuXG5mdW5jdGlvbiBnZXRTdHJpbmdGcm9tV2FzbTAocHRyLCBsZW4pIHtcbiAgICByZXR1cm4gY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKGdldFVpbnQ4TWVtb3J5MCgpLnN1YmFycmF5KHB0ciwgcHRyICsgbGVuKSk7XG59XG4vKipcbiogQHJldHVybnMge3N0cmluZ31cbiovXG5leHBvcnQgZnVuY3Rpb24gdmVyc2lvbigpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgd2FzbS52ZXJzaW9uKHJldHB0cik7XG4gICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICByZXR1cm4gZ2V0U3RyaW5nRnJvbVdhc20wKHIwLCByMSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRDbGFzcyhpbnN0YW5jZSwga2xhc3MpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIGtsYXNzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGV4cGVjdGVkIGluc3RhbmNlIG9mICR7a2xhc3MubmFtZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLnB0cjtcbn1cblxubGV0IHN0YWNrX3BvaW50ZXIgPSAzMjtcblxuZnVuY3Rpb24gYWRkQm9ycm93ZWRPYmplY3Qob2JqKSB7XG4gICAgaWYgKHN0YWNrX3BvaW50ZXIgPT0gMSkgdGhyb3cgbmV3IEVycm9yKCdvdXQgb2YganMgc3RhY2snKTtcbiAgICBoZWFwWy0tc3RhY2tfcG9pbnRlcl0gPSBvYmo7XG4gICAgcmV0dXJuIHN0YWNrX3BvaW50ZXI7XG59XG5cbmxldCBjYWNoZWdldEZsb2F0MzJNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldEZsb2F0MzJNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldEZsb2F0MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0RmxvYXQzMk1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRGbG9hdDMyTWVtb3J5MCA9IG5ldyBGbG9hdDMyQXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0RmxvYXQzMk1lbW9yeTA7XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5RjMyRnJvbVdhc20wKHB0ciwgbGVuKSB7XG4gICAgcmV0dXJuIGdldEZsb2F0MzJNZW1vcnkwKCkuc3ViYXJyYXkocHRyIC8gNCwgcHRyIC8gNCArIGxlbik7XG59XG5cbmxldCBjYWNoZWdldFVpbnQzMk1lbW9yeTAgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDMyTWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVnZXRVaW50MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0VWludDMyTWVtb3J5MC5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQzMk1lbW9yeTAgPSBuZXcgVWludDMyQXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDMyTWVtb3J5MDtcbn1cblxuZnVuY3Rpb24gZ2V0QXJyYXlVMzJGcm9tV2FzbTAocHRyLCBsZW4pIHtcbiAgICByZXR1cm4gZ2V0VWludDMyTWVtb3J5MCgpLnN1YmFycmF5KHB0ciAvIDQsIHB0ciAvIDQgKyBsZW4pO1xufVxuXG5sZXQgV0FTTV9WRUNUT1JfTEVOID0gMDtcblxuZnVuY3Rpb24gcGFzc0FycmF5RjMyVG9XYXNtMChhcmcsIG1hbGxvYykge1xuICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhhcmcubGVuZ3RoICogNCk7XG4gICAgZ2V0RmxvYXQzMk1lbW9yeTAoKS5zZXQoYXJnLCBwdHIgLyA0KTtcbiAgICBXQVNNX1ZFQ1RPUl9MRU4gPSBhcmcubGVuZ3RoO1xuICAgIHJldHVybiBwdHI7XG59XG5cbmZ1bmN0aW9uIHBhc3NBcnJheTMyVG9XYXNtMChhcmcsIG1hbGxvYykge1xuICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhhcmcubGVuZ3RoICogNCk7XG4gICAgZ2V0VWludDMyTWVtb3J5MCgpLnNldChhcmcsIHB0ciAvIDQpO1xuICAgIFdBU01fVkVDVE9SX0xFTiA9IGFyZy5sZW5ndGg7XG4gICAgcmV0dXJuIHB0cjtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZiwgYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2V4bl9zdG9yZShhZGRIZWFwT2JqZWN0KGUpKTtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY29uc3QgUmF3Sm9pbnRUeXBlID0gT2JqZWN0LmZyZWV6ZSh7IFJldm9sdXRlOjAsXCIwXCI6XCJSZXZvbHV0ZVwiLEZpeGVkOjEsXCIxXCI6XCJGaXhlZFwiLFByaXNtYXRpYzoyLFwiMlwiOlwiUHJpc21hdGljXCIsU3BoZXJpY2FsOjMsXCIzXCI6XCJTcGhlcmljYWxcIixHZW5lcmljOjQsXCI0XCI6XCJHZW5lcmljXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNvbnN0IFJhd01vdG9yTW9kZWwgPSBPYmplY3QuZnJlZXplKHsgQWNjZWxlcmF0aW9uQmFzZWQ6MCxcIjBcIjpcIkFjY2VsZXJhdGlvbkJhc2VkXCIsRm9yY2VCYXNlZDoxLFwiMVwiOlwiRm9yY2VCYXNlZFwiLCB9KTtcbi8qKlxuKi9cbmV4cG9ydCBjb25zdCBSYXdKb2ludEF4aXMgPSBPYmplY3QuZnJlZXplKHsgWDowLFwiMFwiOlwiWFwiLFk6MSxcIjFcIjpcIllcIixaOjIsXCIyXCI6XCJaXCIsQW5nWDozLFwiM1wiOlwiQW5nWFwiLEFuZ1k6NCxcIjRcIjpcIkFuZ1lcIixBbmdaOjUsXCI1XCI6XCJBbmdaXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNvbnN0IFJhd1JpZ2lkQm9keVR5cGUgPSBPYmplY3QuZnJlZXplKHsgRHluYW1pYzowLFwiMFwiOlwiRHluYW1pY1wiLEZpeGVkOjEsXCIxXCI6XCJGaXhlZFwiLEtpbmVtYXRpY1Bvc2l0aW9uQmFzZWQ6MixcIjJcIjpcIktpbmVtYXRpY1Bvc2l0aW9uQmFzZWRcIixLaW5lbWF0aWNWZWxvY2l0eUJhc2VkOjMsXCIzXCI6XCJLaW5lbWF0aWNWZWxvY2l0eUJhc2VkXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNvbnN0IFJhd0ZlYXR1cmVUeXBlID0gT2JqZWN0LmZyZWV6ZSh7IFZlcnRleDowLFwiMFwiOlwiVmVydGV4XCIsRWRnZToxLFwiMVwiOlwiRWRnZVwiLEZhY2U6MixcIjJcIjpcIkZhY2VcIixVbmtub3duOjMsXCIzXCI6XCJVbmtub3duXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNvbnN0IFJhd1NoYXBlVHlwZSA9IE9iamVjdC5mcmVlemUoeyBCYWxsOjAsXCIwXCI6XCJCYWxsXCIsQ3Vib2lkOjEsXCIxXCI6XCJDdWJvaWRcIixDYXBzdWxlOjIsXCIyXCI6XCJDYXBzdWxlXCIsU2VnbWVudDozLFwiM1wiOlwiU2VnbWVudFwiLFBvbHlsaW5lOjQsXCI0XCI6XCJQb2x5bGluZVwiLFRyaWFuZ2xlOjUsXCI1XCI6XCJUcmlhbmdsZVwiLFRyaU1lc2g6NixcIjZcIjpcIlRyaU1lc2hcIixIZWlnaHRGaWVsZDo3LFwiN1wiOlwiSGVpZ2h0RmllbGRcIixDb21wb3VuZDo4LFwiOFwiOlwiQ29tcG91bmRcIixDb252ZXhQb2x5aGVkcm9uOjksXCI5XCI6XCJDb252ZXhQb2x5aGVkcm9uXCIsQ3lsaW5kZXI6MTAsXCIxMFwiOlwiQ3lsaW5kZXJcIixDb25lOjExLFwiMTFcIjpcIkNvbmVcIixSb3VuZEN1Ym9pZDoxMixcIjEyXCI6XCJSb3VuZEN1Ym9pZFwiLFJvdW5kVHJpYW5nbGU6MTMsXCIxM1wiOlwiUm91bmRUcmlhbmdsZVwiLFJvdW5kQ3lsaW5kZXI6MTQsXCIxNFwiOlwiUm91bmRDeWxpbmRlclwiLFJvdW5kQ29uZToxNSxcIjE1XCI6XCJSb3VuZENvbmVcIixSb3VuZENvbnZleFBvbHloZWRyb246MTYsXCIxNlwiOlwiUm91bmRDb252ZXhQb2x5aGVkcm9uXCIsIH0pO1xuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0Jyb2FkUGhhc2Uge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdCcm9hZFBoYXNlLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd2Jyb2FkcGhhc2VfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Jyb2FkcGhhc2VfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdCcm9hZFBoYXNlLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdDQ0RTb2x2ZXIge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdDQ0RTb2x2ZXIucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3Y2Nkc29sdmVyX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjY2Rzb2x2ZXJfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdDQ0RTb2x2ZXIuX193cmFwKHJldCk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0NvbGxpZGVyU2V0IHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3Q29sbGlkZXJTZXQucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3Y29sbGlkZXJzZXRfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB3b3JsZC1zcGFjZSB0cmFuc2xhdGlvbiBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIGNvVHJhbnNsYXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29UcmFuc2xhdGlvbih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgd29ybGQtc3BhY2Ugb3JpZW50YXRpb24gb2YgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdSb3RhdGlvbn1cbiAgICAqL1xuICAgIGNvUm90YXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29Sb3RhdGlvbih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1JvdGF0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGB4YDogdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSBjb2xsaWRlciBhbG9uZyB0aGUgYHhgIGF4aXMuXG4gICAgKiAtIGB5YDogdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSBjb2xsaWRlciBhbG9uZyB0aGUgYHlgIGF4aXMuXG4gICAgKiAtIGB6YDogdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSBjb2xsaWRlciBhbG9uZyB0aGUgYHpgIGF4aXMuXG4gICAgKiAtIGB3YWtlVXBgOiBmb3JjZXMgdGhlIGNvbGxpZGVyIHRvIHdha2UtdXAgc28gaXQgaXMgcHJvcGVybHkgYWZmZWN0ZWQgYnkgZm9yY2VzIGlmIGl0XG4gICAgKiB3YXNuJ3QgbW92aW5nIGJlZm9yZSBtb2RpZnlpbmcgaXRzIHBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICovXG4gICAgY29TZXRUcmFuc2xhdGlvbihoYW5kbGUsIHgsIHksIHopIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldFRyYW5zbGF0aW9uKHRoaXMucHRyLCBoYW5kbGUsIHgsIHksIHopO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHpcbiAgICAqL1xuICAgIGNvU2V0VHJhbnNsYXRpb25XcnRQYXJlbnQoaGFuZGxlLCB4LCB5LCB6KSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRUcmFuc2xhdGlvbldydFBhcmVudCh0aGlzLnB0ciwgaGFuZGxlLCB4LCB5LCB6KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKlxuICAgICogVGhpcyBkb2VzIG5vdGhpbmcgaWYgYSB6ZXJvIHF1YXRlcm5pb24gaXMgcHJvdmlkZWQuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGB4YDogdGhlIGZpcnN0IHZlY3RvciBjb21wb25lbnQgb2YgdGhlIHF1YXRlcm5pb24uXG4gICAgKiAtIGB5YDogdGhlIHNlY29uZCB2ZWN0b3IgY29tcG9uZW50IG9mIHRoZSBxdWF0ZXJuaW9uLlxuICAgICogLSBgemA6IHRoZSB0aGlyZCB2ZWN0b3IgY29tcG9uZW50IG9mIHRoZSBxdWF0ZXJuaW9uLlxuICAgICogLSBgd2A6IHRoZSBzY2FsYXIgY29tcG9uZW50IG9mIHRoZSBxdWF0ZXJuaW9uLlxuICAgICogLSBgd2FrZVVwYDogZm9yY2VzIHRoZSBjb2xsaWRlciB0byB3YWtlLXVwIHNvIGl0IGlzIHByb3Blcmx5IGFmZmVjdGVkIGJ5IGZvcmNlcyBpZiBpdFxuICAgICogd2Fzbid0IG1vdmluZyBiZWZvcmUgbW9kaWZ5aW5nIGl0cyBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHpcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB3XG4gICAgKi9cbiAgICBjb1NldFJvdGF0aW9uKGhhbmRsZSwgeCwgeSwgeiwgdykge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0Um90YXRpb24odGhpcy5wdHIsIGhhbmRsZSwgeCwgeSwgeiwgdyk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICogQHBhcmFtIHtudW1iZXJ9IHdcbiAgICAqL1xuICAgIGNvU2V0Um90YXRpb25XcnRQYXJlbnQoaGFuZGxlLCB4LCB5LCB6LCB3KSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRSb3RhdGlvbldydFBhcmVudCh0aGlzLnB0ciwgaGFuZGxlLCB4LCB5LCB6LCB3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBJcyB0aGlzIGNvbGxpZGVyIGEgc2Vuc29yP1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBjb0lzU2Vuc29yKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSXNTZW5zb3IodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29TaGFwZVR5cGUoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29TaGFwZVR5cGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGhhbGYtZXh0ZW50cyBvZiB0aGlzIGNvbGxpZGVyIGlmIGl0IGlzIGhhcyBhIGN1Ym9pZCBzaGFwZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3IgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0hhbGZFeHRlbnRzKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSGFsZkV4dGVudHModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHJhZGl1cyBvZiB0aGlzIGNvbGxpZGVyIGlmIGl0IGlzIGEgYmFsbCwgY2Fwc3VsZSwgY3lsaW5kZXIsIG9yIGNvbmUgc2hhcGUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29SYWRpdXMoaGFuZGxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29SYWRpdXMocmV0cHRyLCB0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgICAgIHZhciByMSA9IGdldEZsb2F0MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICAgICAgcmV0dXJuIHIwID09PSAwID8gdW5kZWZpbmVkIDogcjE7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHJhZGl1cyBvZiB0aGlzIGNvbGxpZGVyIGlmIGl0IGlzIGEgY2Fwc3VsZSwgY3lsaW5kZXIsIG9yIGNvbmUgc2hhcGUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29IYWxmSGVpZ2h0KGhhbmRsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSGFsZkhlaWdodChyZXRwdHIsIHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0RmxvYXQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcmFkaXVzIG9mIHRoZSByb3VuZCBlZGdlcyBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvUm91bmRSYWRpdXMoaGFuZGxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29Sb3VuZFJhZGl1cyhyZXRwdHIsIHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0RmxvYXQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgdmVydGljZXMgb2YgdGhpcyB0cmlhbmdsZSBtZXNoLCBwb2x5bGluZSwgY29udmV4IHBvbHloZWRyb24sIHNlZ21lbnQsIHRyaWFuZ2xlIG9yIGNvbnZleCBwb2x5aGVkcm9uLCBpZiBpdCBpcyBvbmUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5IHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29WZXJ0aWNlcyhoYW5kbGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1ZlcnRpY2VzKHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICBsZXQgdjA7XG4gICAgICAgICAgICBpZiAocjAgIT09IDApIHtcbiAgICAgICAgICAgICAgICB2MCA9IGdldEFycmF5RjMyRnJvbVdhc20wKHIwLCByMSkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShyMCwgcjEgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2MDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgaW5kaWNlcyBvZiB0aGlzIHRyaWFuZ2xlIG1lc2gsIHBvbHlsaW5lLCBvciBjb252ZXggcG9seWhlZHJvbiwgaWYgaXQgaXMgb25lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1VpbnQzMkFycmF5IHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29JbmRpY2VzKGhhbmRsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSW5kaWNlcyhyZXRwdHIsIHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICAgICAgbGV0IHYwO1xuICAgICAgICAgICAgaWYgKHIwICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdjAgPSBnZXRBcnJheVUzMkZyb21XYXNtMChyMCwgcjEpLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxICogNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdjA7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGhlaWdodCBvZiB0aGlzIGhlaWdodGZpZWxkIGlmIGl0IGlzIG9uZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXkgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0hlaWdodGZpZWxkSGVpZ2h0cyhoYW5kbGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb0hlaWdodGZpZWxkSGVpZ2h0cyhyZXRwdHIsIHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICAgICAgbGV0IHYwO1xuICAgICAgICAgICAgaWYgKHIwICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdjAgPSBnZXRBcnJheUYzMkZyb21XYXNtMChyMCwgcjEpLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxICogNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdjA7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHNjYWxpbmcgZmFjdG9yIGFwcGxpZWQgb2YgdGhpcyBoZWlnaHRmaWVsZCBpZiBpdCBpcyBvbmUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29IZWlnaHRmaWVsZFNjYWxlKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSGVpZ2h0ZmllbGRTY2FsZSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgbnVtYmVyIG9mIHJvd3Mgb24gdGhpcyBoZWlnaHRmaWVsZCdzIGhlaWdodCBtYXRyaXgsIGlmIGl0IGlzIG9uZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0hlaWdodGZpZWxkTlJvd3MoaGFuZGxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29IZWlnaHRmaWVsZE5Sb3dzKHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMSA+Pj4gMDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgb24gdGhpcyBoZWlnaHRmaWVsZCdzIGhlaWdodCBtYXRyaXgsIGlmIGl0IGlzIG9uZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0hlaWdodGZpZWxkTkNvbHMoaGFuZGxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29IZWlnaHRmaWVsZE5Db2xzKHJldHB0ciwgdGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMSA+Pj4gMDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgdW5pcXVlIGludGVnZXIgaWRlbnRpZmllciBvZiB0aGUgY29sbGlkZXIgdGhpcyBjb2xsaWRlciBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb1BhcmVudChoYW5kbGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1BhcmVudChyZXRwdHIsIHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIyID0gZ2V0RmxvYXQ2NE1lbW9yeTAoKVtyZXRwdHIgLyA4ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgZnJpY3Rpb24gY29lZmZpY2llbnQgb2YgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb0ZyaWN0aW9uKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvRnJpY3Rpb24odGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHJlc3RpdHV0aW9uIGNvZWZmaWNpZW50IG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29SZXN0aXR1dGlvbihoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb1Jlc3RpdHV0aW9uKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBkZW5zaXR5IG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29EZW5zaXR5KGhhbmRsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvRGVuc2l0eShyZXRwdHIsIHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0RmxvYXQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgY29sbGlzaW9uIGdyb3VwcyBvZiB0aGlzIGNvbGxpZGVyLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvQ29sbGlzaW9uR3JvdXBzKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQ29sbGlzaW9uR3JvdXBzKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBzb2x2ZXIgZ3JvdXBzIG9mIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29Tb2x2ZXJHcm91cHMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29Tb2x2ZXJHcm91cHModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHBoeXNpY3MgaG9va3MgZW5hYmxlZCBmb3IgdGhpcyBjb2xsaWRlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb0FjdGl2ZUhvb2tzKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQWN0aXZlSG9va3ModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGNvbGxpc2lvbiB0eXBlcyBlbmFibGVkIGZvciB0aGlzIGNvbGxpZGVyLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvQWN0aXZlQ29sbGlzaW9uVHlwZXMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29BY3RpdmVDb2xsaXNpb25UeXBlcyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgZXZlbnRzIGVuYWJsZWQgZm9yIHRoaXMgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29BY3RpdmVFdmVudHMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29BY3RpdmVFdmVudHModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvQ29udGFpbnNQb2ludChoYW5kbGUsIHBvaW50KSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb0NvbnRhaW5zUG9pbnQodGhpcy5wdHIsIGhhbmRsZSwgcG9pbnQucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gY29sbGlkZXJWZWxcbiAgICAqIEBwYXJhbSB7UmF3U2hhcGV9IHNoYXBlMlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlMlBvc1xuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGUyUm90XG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGUyVmVsXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGVUT0kgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0Nhc3RTaGFwZShoYW5kbGUsIGNvbGxpZGVyVmVsLCBzaGFwZTIsIHNoYXBlMlBvcywgc2hhcGUyUm90LCBzaGFwZTJWZWwsIG1heFRvaSkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoY29sbGlkZXJWZWwsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZTIsIFJhd1NoYXBlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlMlBvcywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlMlJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGUyVmVsLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQ2FzdFNoYXBlKHRoaXMucHRyLCBoYW5kbGUsIGNvbGxpZGVyVmVsLnB0ciwgc2hhcGUyLnB0ciwgc2hhcGUyUG9zLnB0ciwgc2hhcGUyUm90LnB0ciwgc2hhcGUyVmVsLnB0ciwgbWF4VG9pKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlVE9JLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBjb2xsaWRlcjFWZWxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xsaWRlcjJoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBjb2xsaWRlcjJWZWxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhfdG9pXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGVDb2xsaWRlclRPSSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvQ2FzdENvbGxpZGVyKGhhbmRsZSwgY29sbGlkZXIxVmVsLCBjb2xsaWRlcjJoYW5kbGUsIGNvbGxpZGVyMlZlbCwgbWF4X3RvaSkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoY29sbGlkZXIxVmVsLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoY29sbGlkZXIyVmVsLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQ2FzdENvbGxpZGVyKHRoaXMucHRyLCBoYW5kbGUsIGNvbGxpZGVyMVZlbC5wdHIsIGNvbGxpZGVyMmhhbmRsZSwgY29sbGlkZXIyVmVsLnB0ciwgbWF4X3RvaSk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZUNvbGxpZGVyVE9JLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3U2hhcGV9IHNoYXBlMlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zMlxuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3QyXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvSW50ZXJzZWN0c1NoYXBlKGhhbmRsZSwgc2hhcGUyLCBzaGFwZVBvczIsIHNoYXBlUm90Mikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGUyLCBSYXdTaGFwZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvczIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdDIsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb0ludGVyc2VjdHNTaGFwZSh0aGlzLnB0ciwgaGFuZGxlLCBzaGFwZTIucHRyLCBzaGFwZVBvczIucHRyLCBzaGFwZVJvdDIucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1NoYXBlfSBzaGFwZTJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvczJcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHNoYXBlUm90MlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHByZWRpY3Rpb25cbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZUNvbnRhY3QgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0NvbnRhY3RTaGFwZShoYW5kbGUsIHNoYXBlMiwgc2hhcGVQb3MyLCBzaGFwZVJvdDIsIHByZWRpY3Rpb24pIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlMiwgUmF3U2hhcGUpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MyLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QyLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29Db250YWN0U2hhcGUodGhpcy5wdHIsIGhhbmRsZSwgc2hhcGUyLnB0ciwgc2hhcGVQb3MyLnB0ciwgc2hhcGVSb3QyLnB0ciwgcHJlZGljdGlvbik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZUNvbnRhY3QuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbGxpZGVyMmhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHByZWRpY3Rpb25cbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZUNvbnRhY3QgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb0NvbnRhY3RDb2xsaWRlcihoYW5kbGUsIGNvbGxpZGVyMmhhbmRsZSwgcHJlZGljdGlvbikge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQ29udGFjdENvbGxpZGVyKHRoaXMucHRyLCBoYW5kbGUsIGNvbGxpZGVyMmhhbmRsZSwgcHJlZGljdGlvbik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZUNvbnRhY3QuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7UmF3UG9pbnRQcm9qZWN0aW9ufVxuICAgICovXG4gICAgY29Qcm9qZWN0UG9pbnQoaGFuZGxlLCBwb2ludCwgc29saWQpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHBvaW50LCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvUHJvamVjdFBvaW50KHRoaXMucHRyLCBoYW5kbGUsIHBvaW50LnB0ciwgc29saWQpO1xuICAgICAgICByZXR1cm4gUmF3UG9pbnRQcm9qZWN0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlPcmlnXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5RGlyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvSW50ZXJzZWN0c1JheShoYW5kbGUsIHJheU9yaWcsIHJheURpciwgbWF4VG9pKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5RGlyLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvSW50ZXJzZWN0c1JheSh0aGlzLnB0ciwgaGFuZGxlLCByYXlPcmlnLnB0ciwgcmF5RGlyLnB0ciwgbWF4VG9pKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5T3JpZ1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheURpclxuICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRvaVxuICAgICogQHBhcmFtIHtib29sZWFufSBzb2xpZFxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvQ2FzdFJheShoYW5kbGUsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5T3JpZywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb0Nhc3RSYXkodGhpcy5wdHIsIGhhbmRsZSwgcmF5T3JpZy5wdHIsIHJheURpci5wdHIsIG1heFRvaSwgc29saWQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlPcmlnXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5RGlyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7UmF3UmF5SW50ZXJzZWN0aW9uIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29DYXN0UmF5QW5kR2V0Tm9ybWFsKGhhbmRsZSwgcmF5T3JpZywgcmF5RGlyLCBtYXhUb2ksIHNvbGlkKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5RGlyLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvQ2FzdFJheUFuZEdldE5vcm1hbCh0aGlzLnB0ciwgaGFuZGxlLCByYXlPcmlnLnB0ciwgcmF5RGlyLnB0ciwgbWF4VG9pLCBzb2xpZCk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdSYXlJbnRlcnNlY3Rpb24uX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtib29sZWFufSBpc19zZW5zb3JcbiAgICAqL1xuICAgIGNvU2V0U2Vuc29yKGhhbmRsZSwgaXNfc2Vuc29yKSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRTZW5zb3IodGhpcy5wdHIsIGhhbmRsZSwgaXNfc2Vuc29yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmVzdGl0dXRpb25cbiAgICAqL1xuICAgIGNvU2V0UmVzdGl0dXRpb24oaGFuZGxlLCByZXN0aXR1dGlvbikge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0UmVzdGl0dXRpb24odGhpcy5wdHIsIGhhbmRsZSwgcmVzdGl0dXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmljdGlvblxuICAgICovXG4gICAgY29TZXRGcmljdGlvbihoYW5kbGUsIGZyaWN0aW9uKSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRGcmljdGlvbih0aGlzLnB0ciwgaGFuZGxlLCBmcmljdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvRnJpY3Rpb25Db21iaW5lUnVsZShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb0ZyaWN0aW9uQ29tYmluZVJ1bGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJ1bGVcbiAgICAqL1xuICAgIGNvU2V0RnJpY3Rpb25Db21iaW5lUnVsZShoYW5kbGUsIHJ1bGUpIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldEZyaWN0aW9uQ29tYmluZVJ1bGUodGhpcy5wdHIsIGhhbmRsZSwgcnVsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvUmVzdGl0dXRpb25Db21iaW5lUnVsZShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb1Jlc3RpdHV0aW9uQ29tYmluZVJ1bGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJ1bGVcbiAgICAqL1xuICAgIGNvU2V0UmVzdGl0dXRpb25Db21iaW5lUnVsZShoYW5kbGUsIHJ1bGUpIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldFJlc3RpdHV0aW9uQ29tYmluZVJ1bGUodGhpcy5wdHIsIGhhbmRsZSwgcnVsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICovXG4gICAgY29TZXRDb2xsaXNpb25Hcm91cHMoaGFuZGxlLCBncm91cHMpIHtcbiAgICAgICAgd2FzbS5yYXdjb2xsaWRlcnNldF9jb1NldENvbGxpc2lvbkdyb3Vwcyh0aGlzLnB0ciwgaGFuZGxlLCBncm91cHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqL1xuICAgIGNvU2V0U29sdmVyR3JvdXBzKGhhbmRsZSwgZ3JvdXBzKSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRTb2x2ZXJHcm91cHModGhpcy5wdHIsIGhhbmRsZSwgZ3JvdXBzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaG9va3NcbiAgICAqL1xuICAgIGNvU2V0QWN0aXZlSG9va3MoaGFuZGxlLCBob29rcykge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0QWN0aXZlSG9va3ModGhpcy5wdHIsIGhhbmRsZSwgaG9va3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudHNcbiAgICAqL1xuICAgIGNvU2V0QWN0aXZlRXZlbnRzKGhhbmRsZSwgZXZlbnRzKSB7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRBY3RpdmVFdmVudHModGhpcy5wdHIsIGhhbmRsZSwgZXZlbnRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZXNcbiAgICAqL1xuICAgIGNvU2V0QWN0aXZlQ29sbGlzaW9uVHlwZXMoaGFuZGxlLCB0eXBlcykge1xuICAgICAgICB3YXNtLnJhd2NvbGxpZGVyc2V0X2NvU2V0QWN0aXZlQ29sbGlzaW9uVHlwZXModGhpcy5wdHIsIGhhbmRsZSwgdHlwZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3U2hhcGV9IHNoYXBlXG4gICAgKi9cbiAgICBjb1NldFNoYXBlKGhhbmRsZSwgc2hhcGUpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlLCBSYXdTaGFwZSk7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY29TZXRTaGFwZSh0aGlzLnB0ciwgaGFuZGxlLCBzaGFwZS5wdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbGxpZGVyc2V0X25ldygpO1xuICAgICAgICByZXR1cm4gUmF3Q29sbGlkZXJTZXQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGxlbigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9sZW4odGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgY29udGFpbnMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29sbGlkZXJzZXRfY29udGFpbnModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSB0cmFuc2xhdGlvblxuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gcm90YXRpb25cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlTWFzc1Byb3BzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGNlbnRlck9mTWFzc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBhbmd1bGFySW5lcnRpYUZyYW1lXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZGVuc2l0eVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZyaWN0aW9uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmVzdGl0dXRpb25cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmljdGlvbkNvbWJpbmVSdWxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmVzdGl0dXRpb25Db21iaW5lUnVsZVxuICAgICogQHBhcmFtIHtib29sZWFufSBpc1NlbnNvclxuICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbGxpc2lvbkdyb3Vwc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHNvbHZlckdyb3Vwc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGFjdGl2ZUNvbGxpc2lvblR5cGVzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYWN0aXZlSG9va3NcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBhY3RpdmVFdmVudHNcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGFyZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gcGFyZW50XG4gICAgKiBAcGFyYW0ge1Jhd1JpZ2lkQm9keVNldH0gYm9kaWVzXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY3JlYXRlQ29sbGlkZXIoc2hhcGUsIHRyYW5zbGF0aW9uLCByb3RhdGlvbiwgdXNlTWFzc1Byb3BzLCBtYXNzLCBjZW50ZXJPZk1hc3MsIHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhLCBhbmd1bGFySW5lcnRpYUZyYW1lLCBkZW5zaXR5LCBmcmljdGlvbiwgcmVzdGl0dXRpb24sIGZyaWN0aW9uQ29tYmluZVJ1bGUsIHJlc3RpdHV0aW9uQ29tYmluZVJ1bGUsIGlzU2Vuc29yLCBjb2xsaXNpb25Hcm91cHMsIHNvbHZlckdyb3VwcywgYWN0aXZlQ29sbGlzaW9uVHlwZXMsIGFjdGl2ZUhvb2tzLCBhY3RpdmVFdmVudHMsIGhhc1BhcmVudCwgcGFyZW50LCBib2RpZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlLCBSYXdTaGFwZSk7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3ModHJhbnNsYXRpb24sIFJhd1ZlY3Rvcik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3Mocm90YXRpb24sIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjZW50ZXJPZk1hc3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3MocHJpbmNpcGFsQW5ndWxhckluZXJ0aWEsIFJhd1ZlY3Rvcik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3MoYW5ndWxhckluZXJ0aWFGcmFtZSwgUmF3Um90YXRpb24pO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKGJvZGllcywgUmF3UmlnaWRCb2R5U2V0KTtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfY3JlYXRlQ29sbGlkZXIocmV0cHRyLCB0aGlzLnB0ciwgc2hhcGUucHRyLCB0cmFuc2xhdGlvbi5wdHIsIHJvdGF0aW9uLnB0ciwgdXNlTWFzc1Byb3BzLCBtYXNzLCBjZW50ZXJPZk1hc3MucHRyLCBwcmluY2lwYWxBbmd1bGFySW5lcnRpYS5wdHIsIGFuZ3VsYXJJbmVydGlhRnJhbWUucHRyLCBkZW5zaXR5LCBmcmljdGlvbiwgcmVzdGl0dXRpb24sIGZyaWN0aW9uQ29tYmluZVJ1bGUsIHJlc3RpdHV0aW9uQ29tYmluZVJ1bGUsIGlzU2Vuc29yLCBjb2xsaXNpb25Hcm91cHMsIHNvbHZlckdyb3VwcywgYWN0aXZlQ29sbGlzaW9uVHlwZXMsIGFjdGl2ZUhvb2tzLCBhY3RpdmVFdmVudHMsIGhhc1BhcmVudCwgcGFyZW50LCBib2RpZXMucHRyKTtcbiAgICAgICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgICAgIHZhciByMiA9IGdldEZsb2F0NjRNZW1vcnkwKClbcmV0cHRyIC8gOCArIDFdO1xuICAgICAgICAgICAgcmV0dXJuIHIwID09PSAwID8gdW5kZWZpbmVkIDogcjI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogUmVtb3ZlcyBhIGNvbGxpZGVyIGZyb20gdGhpcyBzZXQgYW5kIHdha2UtdXAgdGhlIHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd0lzbGFuZE1hbmFnZXJ9IGlzbGFuZHNcbiAgICAqIEBwYXJhbSB7UmF3UmlnaWRCb2R5U2V0fSBib2RpZXNcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByZW1vdmUoaGFuZGxlLCBpc2xhbmRzLCBib2RpZXMsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfcmVtb3ZlKHRoaXMucHRyLCBoYW5kbGUsIGlzbGFuZHMucHRyLCBib2RpZXMucHRyLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIENoZWNrcyBpZiBhIGNvbGxpZGVyIHdpdGggdGhlIGdpdmVuIGludGVnZXIgaGFuZGxlIGV4aXN0cy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgaXNIYW5kbGVWYWxpZChoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb2xsaWRlcnNldF9jb250YWlucyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBKYXZhU2NyaXB0IGZ1bmN0aW9uIHRvIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIGNvbGxpZGVyIG1hbmFnZWQgYnkgdGhpcyBjb2xsaWRlciBzZXQuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggY29sbGlkZXIgbWFuYWdlZCBieSB0aGlzIGNvbGxpZGVyIHNldC4gQ2FsbGVkIGFzIGBmKGhhbmRsZSlgLlxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICovXG4gICAgZm9yRWFjaENvbGxpZGVySGFuZGxlKGYpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdhc20ucmF3Y29sbGlkZXJzZXRfZm9yRWFjaENvbGxpZGVySGFuZGxlKHRoaXMucHRyLCBhZGRCb3Jyb3dlZE9iamVjdChmKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3Q29udGFjdE1hbmlmb2xkIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3Q29udGFjdE1hbmlmb2xkLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd2NvbnRhY3RtYW5pZm9sZF9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIG5vcm1hbCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfbm9ybWFsKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbG9jYWxfbjEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX2xvY2FsX24xKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbG9jYWxfbjIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX2xvY2FsX24yKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgc3Vic2hhcGUxKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9zdWJzaGFwZTEodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBzdWJzaGFwZTIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX3N1YnNoYXBlMih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIG51bV9jb250YWN0cygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfbnVtX2NvbnRhY3RzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge1Jhd1ZlY3RvciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvbnRhY3RfbG9jYWxfcDEoaSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9jb250YWN0X2xvY2FsX3AxKHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge1Jhd1ZlY3RvciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvbnRhY3RfbG9jYWxfcDIoaSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9jb250YWN0X2xvY2FsX3AyKHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbnRhY3RfZGlzdChpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX2NvbnRhY3RfZGlzdCh0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGlcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb250YWN0X2ZpZDEoaSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9jb250YWN0X2ZpZDEodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29udGFjdF9maWQyKGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfY29udGFjdF9maWQyKHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbnRhY3RfaW1wdWxzZShpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX2NvbnRhY3RfaW1wdWxzZSh0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGlcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb250YWN0X3RhbmdlbnRfaW1wdWxzZV94KGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfY29udGFjdF90YW5nZW50X2ltcHVsc2VfeCh0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGlcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb250YWN0X3RhbmdlbnRfaW1wdWxzZV95KGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfY29udGFjdF90YW5nZW50X2ltcHVsc2VfeSh0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIG51bV9zb2x2ZXJfY29udGFjdHMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX251bV9zb2x2ZXJfY29udGFjdHModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgc29sdmVyX2NvbnRhY3RfcG9pbnQoaSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RtYW5pZm9sZF9zb2x2ZXJfY29udGFjdF9wb2ludCh0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGlcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBzb2x2ZXJfY29udGFjdF9kaXN0KGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfc29sdmVyX2NvbnRhY3RfZGlzdCh0aGlzLnB0ciwgaSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGlcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBzb2x2ZXJfY29udGFjdF9mcmljdGlvbihpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX3NvbHZlcl9jb250YWN0X2ZyaWN0aW9uKHRoaXMucHRyLCBpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHNvbHZlcl9jb250YWN0X3Jlc3RpdHV0aW9uKGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0bWFuaWZvbGRfc29sdmVyX2NvbnRhY3RfcmVzdGl0dXRpb24odGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgc29sdmVyX2NvbnRhY3RfdGFuZ2VudF92ZWxvY2l0eShpKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Y29udGFjdG1hbmlmb2xkX3NvbHZlcl9jb250YWN0X3RhbmdlbnRfdmVsb2NpdHkodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdDb250YWN0UGFpciB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0NvbnRhY3RQYWlyLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd2NvbnRhY3RwYWlyX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29sbGlkZXIxKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RwYWlyX2NvbGxpZGVyMSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbGxpZGVyMigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0cGFpcl9jb2xsaWRlcjIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBudW1Db250YWN0TWFuaWZvbGRzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2NvbnRhY3RwYWlyX251bUNvbnRhY3RNYW5pZm9sZHModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gICAgKiBAcmV0dXJucyB7UmF3Q29udGFjdE1hbmlmb2xkIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY29udGFjdE1hbmlmb2xkKGkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdjb250YWN0cGFpcl9jb250YWN0TWFuaWZvbGQodGhpcy5wdHIsIGkpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3Q29udGFjdE1hbmlmb2xkLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdEZWJ1Z1JlbmRlclBpcGVsaW5lIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3RGVidWdSZW5kZXJQaXBlbGluZS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdkZWJ1Z3JlbmRlcnBpcGVsaW5lX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZWJ1Z3JlbmRlcnBpcGVsaW5lX25ldygpO1xuICAgICAgICByZXR1cm4gUmF3RGVidWdSZW5kZXJQaXBlbGluZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fVxuICAgICovXG4gICAgdmVydGljZXMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3ZGVidWdyZW5kZXJwaXBlbGluZV92ZXJ0aWNlcyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX1cbiAgICAqL1xuICAgIGNvbG9ycygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZWJ1Z3JlbmRlcnBpcGVsaW5lX2NvbG9ycyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdSaWdpZEJvZHlTZXR9IGJvZGllc1xuICAgICogQHBhcmFtIHtSYXdDb2xsaWRlclNldH0gY29sbGlkZXJzXG4gICAgKiBAcGFyYW0ge1Jhd0ltcHVsc2VKb2ludFNldH0gaW1wdWxzZV9qb2ludHNcbiAgICAqIEBwYXJhbSB7UmF3TXVsdGlib2R5Sm9pbnRTZXR9IG11bHRpYm9keV9qb2ludHNcbiAgICAqIEBwYXJhbSB7UmF3TmFycm93UGhhc2V9IG5hcnJvd19waGFzZVxuICAgICovXG4gICAgcmVuZGVyKGJvZGllcywgY29sbGlkZXJzLCBpbXB1bHNlX2pvaW50cywgbXVsdGlib2R5X2pvaW50cywgbmFycm93X3BoYXNlKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGltcHVsc2Vfam9pbnRzLCBSYXdJbXB1bHNlSm9pbnRTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MobXVsdGlib2R5X2pvaW50cywgUmF3TXVsdGlib2R5Sm9pbnRTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MobmFycm93X3BoYXNlLCBSYXdOYXJyb3dQaGFzZSk7XG4gICAgICAgIHdhc20ucmF3ZGVidWdyZW5kZXJwaXBlbGluZV9yZW5kZXIodGhpcy5wdHIsIGJvZGllcy5wdHIsIGNvbGxpZGVycy5wdHIsIGltcHVsc2Vfam9pbnRzLnB0ciwgbXVsdGlib2R5X2pvaW50cy5wdHIsIG5hcnJvd19waGFzZS5wdHIpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdEZXNlcmlhbGl6ZWRXb3JsZCB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0Rlc2VyaWFsaXplZFdvcmxkLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd2Rlc2VyaWFsaXplZHdvcmxkX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgdGFrZUdyYXZpdHkoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3ZGVzZXJpYWxpemVkd29ybGRfdGFrZUdyYXZpdHkodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICB0YWtlSW50ZWdyYXRpb25QYXJhbWV0ZXJzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VJbnRlZ3JhdGlvblBhcmFtZXRlcnModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdJc2xhbmRNYW5hZ2VyIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgdGFrZUlzbGFuZE1hbmFnZXIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3ZGVzZXJpYWxpemVkd29ybGRfdGFrZUlzbGFuZE1hbmFnZXIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3SXNsYW5kTWFuYWdlci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3QnJvYWRQaGFzZSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHRha2VCcm9hZFBoYXNlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VCcm9hZFBoYXNlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0Jyb2FkUGhhc2UuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd05hcnJvd1BoYXNlIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgdGFrZU5hcnJvd1BoYXNlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VOYXJyb3dQaGFzZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdOYXJyb3dQaGFzZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3UmlnaWRCb2R5U2V0IHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgdGFrZUJvZGllcygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdkZXNlcmlhbGl6ZWR3b3JsZF90YWtlQm9kaWVzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1JpZ2lkQm9keVNldC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3Q29sbGlkZXJTZXQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICB0YWtlQ29sbGlkZXJzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VDb2xsaWRlcnModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3Q29sbGlkZXJTZXQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd0ltcHVsc2VKb2ludFNldCB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHRha2VJbXB1bHNlSm9pbnRzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VJbXB1bHNlSm9pbnRzKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0ltcHVsc2VKb2ludFNldC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3TXVsdGlib2R5Sm9pbnRTZXQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICB0YWtlTXVsdGlib2R5Sm9pbnRzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2Rlc2VyaWFsaXplZHdvcmxkX3Rha2VNdWx0aWJvZHlKb2ludHModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3TXVsdGlib2R5Sm9pbnRTZXQuX193cmFwKHJldCk7XG4gICAgfVxufVxuLyoqXG4qIEEgc3RydWN0dXJlIHJlc3BvbnNpYmxlIGZvciBjb2xsZWN0aW5nIGV2ZW50cyBnZW5lcmF0ZWRcbiogYnkgdGhlIHBoeXNpY3MgZW5naW5lLlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdFdmVudFF1ZXVlIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3RXZlbnRRdWV1ZS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdldmVudHF1ZXVlX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBDcmVhdGVzIGEgbmV3IGV2ZW50IGNvbGxlY3Rvci5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGF1dG9EcmFpbmA6IHNldHRpbmcgdGhpcyB0byBgdHJ1ZWAgaXMgc3Ryb25nbHkgcmVjb21tZW5kZWQuIElmIHRydWUsIHRoZSBjb2xsZWN0b3Igd2lsbFxuICAgICogYmUgYXV0b21hdGljYWxseSBkcmFpbmVkIGJlZm9yZSBlYWNoIGB3b3JsZC5zdGVwKGNvbGxlY3RvcilgLiBJZiBmYWxzZSwgdGhlIGNvbGxlY3RvciB3aWxsXG4gICAgKiBrZWVwIGFsbCBldmVudHMgaW4gbWVtb3J5IHVubGVzcyBpdCBpcyBtYW51YWxseSBkcmFpbmVkL2NsZWFyZWQ7IHRoaXMgbWF5IGxlYWQgdG8gdW5ib3VuZGVkIHVzZSBvZlxuICAgICogUkFNIGlmIG5vIGRyYWluIGlzIHBlcmZvcm1lZC5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXV0b0RyYWluXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhdXRvRHJhaW4pIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdldmVudHF1ZXVlX25ldyhhdXRvRHJhaW4pO1xuICAgICAgICByZXR1cm4gUmF3RXZlbnRRdWV1ZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBqYXZhc2NyaXB0IGNsb3N1cmUgb24gZWFjaCBjb2xsaXNpb24gZXZlbnQgb2YgdGhpcyBjb2xsZWN0b3IsIHRoZW4gY2xlYXJcbiAgICAqIHRoZSBpbnRlcm5hbCBjb2xsaXNpb24gZXZlbnQgYnVmZmVyLlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgZihoYW5kbGUxLCBoYW5kbGUyLCBzdGFydGVkKWA6ICBKYXZhU2NyaXB0IGNsb3N1cmUgYXBwbGllZCB0byBlYWNoIGNvbGxpc2lvbiBldmVudC4gVGhlXG4gICAgKiBjbG9zdXJlIHNob3VsZCB0YWtlIHRocmVlIGFyZ3VtZW50czogdHdvIGludGVnZXJzIHJlcHJlc2VudGluZyB0aGUgaGFuZGxlcyBvZiB0aGUgY29sbGlkZXJzXG4gICAgKiBpbnZvbHZlZCBpbiB0aGUgY29sbGlzaW9uLCBhbmQgYSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIGNvbGxpc2lvbiBzdGFydGVkICh0cnVlKSBvciBzdG9wcGVkXG4gICAgKiAoZmFsc2UpLlxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICovXG4gICAgZHJhaW5Db2xsaXNpb25FdmVudHMoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdldmVudHF1ZXVlX2RyYWluQ29sbGlzaW9uRXZlbnRzKHRoaXMucHRyLCBhZGRCb3Jyb3dlZE9iamVjdChmKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZW1vdmVzIGFsbCBldmVudHMgY29udGFpbmVkIGJ5IHRoaXMgY29sbGVjdG9yLlxuICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHdhc20ucmF3ZXZlbnRxdWV1ZV9jbGVhcih0aGlzLnB0cik7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0dlbmVyaWNKb2ludCB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0dlbmVyaWNKb2ludC5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdnZW5lcmljam9pbnRfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIENyZWF0ZSBhIG5ldyBqb2ludCBkZXNjcmlwdG9yIHRoYXQgYnVpbGRzIHNwZWhyaWNhbCBqb2ludHMuXG4gICAgKlxuICAgICogQSBzcGhlcmljYWwgam9pbnRzIGFsbG93cyB0aHJlZSByZWxhdGl2ZSByb3RhdGlvbmFsIGRlZ3JlZXMgb2YgZnJlZWRvbVxuICAgICogYnkgcHJldmVudGluZyBhbnkgcmVsYXRpdmUgdHJhbnNsYXRpb24gYmV0d2VlbiB0aGUgYW5jaG9ycyBvZiB0aGVcbiAgICAqIHR3byBhdHRhY2hlZCByaWdpZC1ib2RpZXMuXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gYW5jaG9yMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuY2hvcjJcbiAgICAqIEByZXR1cm5zIHtSYXdHZW5lcmljSm9pbnR9XG4gICAgKi9cbiAgICBzdGF0aWMgc3BoZXJpY2FsKGFuY2hvcjEsIGFuY2hvcjIpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFuY2hvcjEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhhbmNob3IyLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2dlbmVyaWNqb2ludF9zcGhlcmljYWwoYW5jaG9yMS5wdHIsIGFuY2hvcjIucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd0dlbmVyaWNKb2ludC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBDcmVhdGVzIGEgbmV3IGpvaW50IGRlc2NyaXB0b3IgdGhhdCBidWlsZHMgYSBQcmlzbWF0aWMgam9pbnQuXG4gICAgKlxuICAgICogQSBwcmlzbWF0aWMgam9pbnQgcmVtb3ZlcyBhbGwgdGhlIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZVxuICAgICogYWZmZWN0ZWQgYm9kaWVzLCBleGNlcHQgZm9yIHRoZSB0cmFuc2xhdGlvbiBhbG9uZyBvbmUgYXhpcy5cbiAgICAqXG4gICAgKiBSZXR1cm5zIGBOb25lYCBpZiBhbnkgb2YgdGhlIHByb3ZpZGVkIGF4ZXMgY2Fubm90IGJlIG5vcm1hbGl6ZWQuXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gYW5jaG9yMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuY2hvcjJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBheGlzXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxpbWl0c0VuYWJsZWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdHNNaW5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdHNNYXhcbiAgICAqIEByZXR1cm5zIHtSYXdHZW5lcmljSm9pbnQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzdGF0aWMgcHJpc21hdGljKGFuY2hvcjEsIGFuY2hvcjIsIGF4aXMsIGxpbWl0c0VuYWJsZWQsIGxpbWl0c01pbiwgbGltaXRzTWF4KSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhhbmNob3IxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYW5jaG9yMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGF4aXMsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3Z2VuZXJpY2pvaW50X3ByaXNtYXRpYyhhbmNob3IxLnB0ciwgYW5jaG9yMi5wdHIsIGF4aXMucHRyLCBsaW1pdHNFbmFibGVkLCBsaW1pdHNNaW4sIGxpbWl0c01heCk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdHZW5lcmljSm9pbnQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlcyBhIG5ldyBqb2ludCBkZXNjcmlwdG9yIHRoYXQgYnVpbGRzIGEgRml4ZWQgam9pbnQuXG4gICAgKlxuICAgICogQSBmaXhlZCBqb2ludCByZW1vdmVzIGFsbCB0aGUgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGFmZmVjdGVkIGJvZGllcy5cbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBhbmNob3IxXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBheGVzMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuY2hvcjJcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IGF4ZXMyXG4gICAgKiBAcmV0dXJucyB7UmF3R2VuZXJpY0pvaW50fVxuICAgICovXG4gICAgc3RhdGljIGZpeGVkKGFuY2hvcjEsIGF4ZXMxLCBhbmNob3IyLCBheGVzMikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYW5jaG9yMSwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGF4ZXMxLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhhbmNob3IyLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYXhlczIsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdnZW5lcmljam9pbnRfZml4ZWQoYW5jaG9yMS5wdHIsIGF4ZXMxLnB0ciwgYW5jaG9yMi5wdHIsIGF4ZXMyLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdHZW5lcmljSm9pbnQuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IGpvaW50IGRlc2NyaXB0b3IgdGhhdCBidWlsZHMgUmV2b2x1dGUgam9pbnRzLlxuICAgICpcbiAgICAqIEEgcmV2b2x1dGUgam9pbnQgcmVtb3ZlcyBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGFmZmVjdGVkXG4gICAgKiBib2RpZXMgZXhjZXB0IGZvciB0aGUgcm90YXRpb24gYWxvbmcgb25lIGF4aXMuXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gYW5jaG9yMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuY2hvcjJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBheGlzXG4gICAgKiBAcmV0dXJucyB7UmF3R2VuZXJpY0pvaW50IHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgc3RhdGljIHJldm9sdXRlKGFuY2hvcjEsIGFuY2hvcjIsIGF4aXMpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFuY2hvcjEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhhbmNob3IyLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYXhpcywgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdnZW5lcmljam9pbnRfcmV2b2x1dGUoYW5jaG9yMS5wdHIsIGFuY2hvcjIucHRyLCBheGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdHZW5lcmljSm9pbnQuX193cmFwKHJldCk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0ltcHVsc2VKb2ludFNldCB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd0ltcHVsc2VKb2ludFNldC5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdpbXB1bHNlam9pbnRzZXRfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB0eXBlIG9mIHRoaXMgam9pbnQuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgam9pbnRUeXBlKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludFR5cGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHVuaXF1ZSBpbnRlZ2VyIGlkZW50aWZpZXIgb2YgdGhlIGZpcnN0IHJpZ2lkLWJvZHkgdGhpcyBqb2ludCBpdCBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBqb2ludEJvZHlIYW5kbGUxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludEJvZHlIYW5kbGUxKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB1bmlxdWUgaW50ZWdlciBpZGVudGlmaWVyIG9mIHRoZSBzZWNvbmQgcmlnaWQtYm9keSB0aGlzIGpvaW50IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGpvaW50Qm9keUhhbmRsZTIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50Qm9keUhhbmRsZTIodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGFuZ3VsYXIgcGFydCBvZiB0aGUgam9pbnTigJlzIGxvY2FsIGZyYW1lIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1JvdGF0aW9ufVxuICAgICovXG4gICAgam9pbnRGcmFtZVgxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludEZyYW1lWDEodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdSb3RhdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgYW5ndWxhciBwYXJ0IG9mIHRoZSBqb2ludOKAmXMgbG9jYWwgZnJhbWUgcmVsYXRpdmUgdG8gdGhlIHNlY29uZCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1JvdGF0aW9ufVxuICAgICovXG4gICAgam9pbnRGcmFtZVgyKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludEZyYW1lWDIodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdSb3RhdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGlzIGpvaW50LlxuICAgICpcbiAgICAqIFRoZSBmaXJzdCBhbmNob3IgZ2l2ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb2ludHMgYXBwbGljYXRpb24gcG9pbnQgb24gdGhlXG4gICAgKiBsb2NhbCBmcmFtZSBvZiB0aGUgZmlyc3QgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBqb2ludEFuY2hvcjEoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50QW5jaG9yMSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhpcyBqb2ludC5cbiAgICAqXG4gICAgKiBUaGUgc2Vjb25kIGFuY2hvciBnaXZlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvaW50cyBhcHBsaWNhdGlvbiBwb2ludCBvbiB0aGVcbiAgICAqIGxvY2FsIGZyYW1lIG9mIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBqb2ludEFuY2hvcjIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50QW5jaG9yMih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcmUgdGhlIGxpbWl0cyBmb3IgdGhpcyBqb2ludCBlbmFibGVkP1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgam9pbnRMaW1pdHNFbmFibGVkKGhhbmRsZSwgYXhpcykge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludExpbWl0c0VuYWJsZWQodGhpcy5wdHIsIGhhbmRsZSwgYXhpcyk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0dXJuIHRoZSBsb3dlciBsaW1pdCBhbG9uZyB0aGUgZ2l2ZW4gam9pbnQgYXhpcy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBheGlzXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgam9pbnRMaW1pdHNNaW4oaGFuZGxlLCBheGlzKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50TGltaXRzTWluKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIElmIHRoaXMgaXMgYSBwcmlzbWF0aWMgam9pbnQsIHJldHVybnMgaXRzIHVwcGVyIGxpbWl0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBqb2ludExpbWl0c01heChoYW5kbGUsIGF4aXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfam9pbnRMaW1pdHNNYXgodGhpcy5wdHIsIGhhbmRsZSwgYXhpcyk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtb2RlbFxuICAgICovXG4gICAgam9pbnRDb25maWd1cmVNb3Rvck1vZGVsKGhhbmRsZSwgYXhpcywgbW9kZWwpIHtcbiAgICAgICAgd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfam9pbnRDb25maWd1cmVNb3Rvck1vZGVsKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMsIG1vZGVsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFZlbFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvclxuICAgICovXG4gICAgam9pbnRDb25maWd1cmVNb3RvclZlbG9jaXR5KGhhbmRsZSwgYXhpcywgdGFyZ2V0VmVsLCBmYWN0b3IpIHtcbiAgICAgICAgd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfam9pbnRDb25maWd1cmVNb3RvclZlbG9jaXR5KHRoaXMucHRyLCBoYW5kbGUsIGF4aXMsIHRhcmdldFZlbCwgZmFjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFBvc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHN0aWZmbmVzc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGRhbXBpbmdcbiAgICAqL1xuICAgIGpvaW50Q29uZmlndXJlTW90b3JQb3NpdGlvbihoYW5kbGUsIGF4aXMsIHRhcmdldFBvcywgc3RpZmZuZXNzLCBkYW1waW5nKSB7XG4gICAgICAgIHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2pvaW50Q29uZmlndXJlTW90b3JQb3NpdGlvbih0aGlzLnB0ciwgaGFuZGxlLCBheGlzLCB0YXJnZXRQb3MsIHN0aWZmbmVzcywgZGFtcGluZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRQb3NcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRWZWxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGlmZm5lc3NcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYW1waW5nXG4gICAgKi9cbiAgICBqb2ludENvbmZpZ3VyZU1vdG9yKGhhbmRsZSwgYXhpcywgdGFyZ2V0UG9zLCB0YXJnZXRWZWwsIHN0aWZmbmVzcywgZGFtcGluZykge1xuICAgICAgICB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9qb2ludENvbmZpZ3VyZU1vdG9yKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMsIHRhcmdldFBvcywgdGFyZ2V0VmVsLCBzdGlmZm5lc3MsIGRhbXBpbmcpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd0ltcHVsc2VKb2ludFNldC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd0dlbmVyaWNKb2ludH0gcGFyYW1zXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcGFyZW50MVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcmVudDJcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZV91cFxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNyZWF0ZUpvaW50KHBhcmFtcywgcGFyZW50MSwgcGFyZW50Miwgd2FrZV91cCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocGFyYW1zLCBSYXdHZW5lcmljSm9pbnQpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9jcmVhdGVKb2ludCh0aGlzLnB0ciwgcGFyYW1zLnB0ciwgcGFyZW50MSwgcGFyZW50Miwgd2FrZV91cCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJlbW92ZShoYW5kbGUsIHdha2VVcCkge1xuICAgICAgICB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9yZW1vdmUodGhpcy5wdHIsIGhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgbGVuKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ltcHVsc2Vqb2ludHNldF9sZW4odGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgY29udGFpbnMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2NvbnRhaW5zKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHBoeXNpY3Mgd29ybGQuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHNldC4gQ2FsbGVkIGFzIGBmKGNvbGxpZGVyKWAuXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgKi9cbiAgICBmb3JFYWNoSm9pbnRIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdpbXB1bHNlam9pbnRzZXRfZm9yRWFjaEpvaW50SGFuZGxlKHRoaXMucHRyLCBhZGRCb3Jyb3dlZE9iamVjdChmKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcHBsaWVzIHRoZSBnaXZlbiBKYXZhU2NyaXB0IGZ1bmN0aW9uIHRvIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIGpvaW50IGF0dGFjaGVkIHRvIHRoZSBnaXZlbiByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgZihoYW5kbGUpYDogdGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIHRoZSBpbnRlZ2VyIGhhbmRsZSBvZiBlYWNoIGpvaW50IGF0dGFjaGVkIHRvIHRoZSByaWdpZC1ib2R5LiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBib2R5XG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgKi9cbiAgICBmb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5KGJvZHksIGYpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdhc20ucmF3aW1wdWxzZWpvaW50c2V0X2ZvckVhY2hKb2ludEF0dGFjaGVkVG9SaWdpZEJvZHkodGhpcy5wdHIsIGJvZHksIGFkZEJvcnJvd2VkT2JqZWN0KGYpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCBkdCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfZHQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgZXJwKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19lcnAodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgYWxsb3dlZExpbmVhckVycm9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19hbGxvd2VkTGluZWFyRXJyb3IodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgcHJlZGljdGlvbkRpc3RhbmNlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19wcmVkaWN0aW9uRGlzdGFuY2UodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19tYXhWZWxvY2l0eUl0ZXJhdGlvbnModGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgbWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX21heFZlbG9jaXR5RnJpY3Rpb25JdGVyYXRpb25zKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZ2V0IG1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19tYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCBtaW5Jc2xhbmRTaXplKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19taW5Jc2xhbmRTaXplKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZ2V0IG1heENjZFN1YnN0ZXBzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19tYXhDY2RTdWJzdGVwcyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgZHQodmFsdWUpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X2R0KHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgZXJwKHZhbHVlKSB7XG4gICAgICAgIHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX3NldF9lcnAodGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBhbGxvd2VkTGluZWFyRXJyb3IodmFsdWUpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X2FsbG93ZWRMaW5lYXJFcnJvcih0aGlzLnB0ciwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICovXG4gICAgc2V0IHByZWRpY3Rpb25EaXN0YW5jZSh2YWx1ZSkge1xuICAgICAgICB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19zZXRfcHJlZGljdGlvbkRpc3RhbmNlKHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgbWF4VmVsb2NpdHlJdGVyYXRpb25zKHZhbHVlKSB7XG4gICAgICAgIHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX3NldF9tYXhWZWxvY2l0eUl0ZXJhdGlvbnModGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBtYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucyh2YWx1ZSkge1xuICAgICAgICB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19zZXRfbWF4VmVsb2NpdHlGcmljdGlvbkl0ZXJhdGlvbnModGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBtYXhTdGFiaWxpemF0aW9uSXRlcmF0aW9ucyh2YWx1ZSkge1xuICAgICAgICB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19zZXRfbWF4U3RhYmlsaXphdGlvbkl0ZXJhdGlvbnModGhpcy5wdHIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAqL1xuICAgIHNldCBtaW5Jc2xhbmRTaXplKHZhbHVlKSB7XG4gICAgICAgIHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX3NldF9taW5Jc2xhbmRTaXplKHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgKi9cbiAgICBzZXQgbWF4Q2NkU3Vic3RlcHModmFsdWUpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X21heENjZFN1YnN0ZXBzKHRoaXMucHRyLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd0lzbGFuZE1hbmFnZXIge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdJc2xhbmRNYW5hZ2VyLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd2lzbGFuZG1hbmFnZXJfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2lzbGFuZG1hbmFnZXJfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdJc2xhbmRNYW5hZ2VyLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggYWN0aXZlIHJpZ2lkLWJvZHlcbiAgICAqIG1hbmFnZWQgYnkgdGhpcyBpc2xhbmQgbWFuYWdlci5cbiAgICAqXG4gICAgKiBBZnRlciBhIHNob3J0IHRpbWUgb2YgaW5hY3Rpdml0eSwgYSByaWdpZC1ib2R5IGlzIGF1dG9tYXRpY2FsbHkgZGVhY3RpdmF0ZWQgKFwiYXNsZWVwXCIpIGJ5XG4gICAgKiB0aGUgcGh5c2ljcyBlbmdpbmUgaW4gb3JkZXIgdG8gc2F2ZSBjb21wdXRhdGlvbmFsIHBvd2VyLiBBIHNsZWVwaW5nIHJpZ2lkLWJvZHkgbmV2ZXIgbW92ZXNcbiAgICAqIHVubGVzcyBpdCBpcyBtb3ZlZCBtYW51YWxseSBieSB0aGUgdXNlci5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGYoaGFuZGxlKWA6IHRoZSBmdW5jdGlvbiB0byBhcHBseSB0byB0aGUgaW50ZWdlciBoYW5kbGUgb2YgZWFjaCBhY3RpdmUgcmlnaWQtYm9keSBtYW5hZ2VkIGJ5IHRoaXNcbiAgICAqICAgc2V0LiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAgICAqL1xuICAgIGZvckVhY2hBY3RpdmVSaWdpZEJvZHlIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdpc2xhbmRtYW5hZ2VyX2ZvckVhY2hBY3RpdmVSaWdpZEJvZHlIYW5kbGUodGhpcy5wdHIsIGFkZEJvcnJvd2VkT2JqZWN0KGYpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdNdWx0aWJvZHlKb2ludFNldCB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd011bHRpYm9keUpvaW50U2V0LnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd211bHRpYm9keWpvaW50c2V0X2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgdHlwZSBvZiB0aGlzIGpvaW50LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGpvaW50VHlwZShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9qb2ludFR5cGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGFuZ3VsYXIgcGFydCBvZiB0aGUgam9pbnTigJlzIGxvY2FsIGZyYW1lIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCByaWdpZC1ib2R5IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1JvdGF0aW9ufVxuICAgICovXG4gICAgam9pbnRGcmFtZVgxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2pvaW50RnJhbWVYMSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1JvdGF0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBhbmd1bGFyIHBhcnQgb2YgdGhlIGpvaW504oCZcyBsb2NhbCBmcmFtZSByZWxhdGl2ZSB0byB0aGUgc2Vjb25kIHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3Um90YXRpb259XG4gICAgKi9cbiAgICBqb2ludEZyYW1lWDIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bXVsdGlib2R5am9pbnRzZXRfam9pbnRGcmFtZVgyKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3Um90YXRpb24uX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBhbmNob3Igb2YgdGhpcyBqb2ludC5cbiAgICAqXG4gICAgKiBUaGUgZmlyc3QgYW5jaG9yIGdpdmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9pbnRzIGFwcGxpY2F0aW9uIHBvaW50IG9uIHRoZVxuICAgICogbG9jYWwgZnJhbWUgb2YgdGhlIGZpcnN0IHJpZ2lkLWJvZHkgaXQgaXMgYXR0YWNoZWQgdG8uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgam9pbnRBbmNob3IxKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2pvaW50QW5jaG9yMSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhpcyBqb2ludC5cbiAgICAqXG4gICAgKiBUaGUgc2Vjb25kIGFuY2hvciBnaXZlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvaW50cyBhcHBsaWNhdGlvbiBwb2ludCBvbiB0aGVcbiAgICAqIGxvY2FsIGZyYW1lIG9mIHRoZSBzZWNvbmQgcmlnaWQtYm9keSBpdCBpcyBhdHRhY2hlZCB0by5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBqb2ludEFuY2hvcjIoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bXVsdGlib2R5am9pbnRzZXRfam9pbnRBbmNob3IyKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFyZSB0aGUgbGltaXRzIGZvciB0aGlzIGpvaW50IGVuYWJsZWQ/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBqb2ludExpbWl0c0VuYWJsZWQoaGFuZGxlLCBheGlzKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bXVsdGlib2R5am9pbnRzZXRfam9pbnRMaW1pdHNFbmFibGVkKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJldHVybiB0aGUgbG93ZXIgbGltaXQgYWxvbmcgdGhlIGdpdmVuIGpvaW50IGF4aXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXhpc1xuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGpvaW50TGltaXRzTWluKGhhbmRsZSwgYXhpcykge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2pvaW50TGltaXRzTWluKHRoaXMucHRyLCBoYW5kbGUsIGF4aXMpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIElmIHRoaXMgaXMgYSBwcmlzbWF0aWMgam9pbnQsIHJldHVybnMgaXRzIHVwcGVyIGxpbWl0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGF4aXNcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBqb2ludExpbWl0c01heChoYW5kbGUsIGF4aXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9qb2ludExpbWl0c01heCh0aGlzLnB0ciwgaGFuZGxlLCBheGlzKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd011bHRpYm9keUpvaW50U2V0Ll9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3R2VuZXJpY0pvaW50fSBwYXJhbXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYXJlbnQxXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcGFyZW50MlxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjcmVhdGVKb2ludChwYXJhbXMsIHBhcmVudDEsIHBhcmVudDIsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocGFyYW1zLCBSYXdHZW5lcmljSm9pbnQpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2NyZWF0ZUpvaW50KHRoaXMucHRyLCBwYXJhbXMucHRyLCBwYXJlbnQxLCBwYXJlbnQyLCB3YWtlVXApO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByZW1vdmUoaGFuZGxlLCB3YWtlVXApIHtcbiAgICAgICAgd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9yZW1vdmUodGhpcy5wdHIsIGhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvbnRhaW5zKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd211bHRpYm9keWpvaW50c2V0X2NvbnRhaW5zKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHBoeXNpY3Mgd29ybGQuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgbWFuYWdlZCBieSB0aGlzIHNldC4gQ2FsbGVkIGFzIGBmKGNvbGxpZGVyKWAuXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgKi9cbiAgICBmb3JFYWNoSm9pbnRIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9mb3JFYWNoSm9pbnRIYW5kbGUodGhpcy5wdHIsIGFkZEJvcnJvd2VkT2JqZWN0KGYpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgZnVuY3Rpb24gdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgYXR0YWNoZWQgdG8gdGhlIGdpdmVuIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggam9pbnQgYXR0YWNoZWQgdG8gdGhlIHJpZ2lkLWJvZHkuIENhbGxlZCBhcyBgZihjb2xsaWRlcilgLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGJvZHlcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAgICAqL1xuICAgIGZvckVhY2hKb2ludEF0dGFjaGVkVG9SaWdpZEJvZHkoYm9keSwgZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdtdWx0aWJvZHlqb2ludHNldF9mb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5KHRoaXMucHRyLCBib2R5LCBhZGRCb3Jyb3dlZE9iamVjdChmKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3TmFycm93UGhhc2Uge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdOYXJyb3dQaGFzZS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXduYXJyb3dwaGFzZV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bmFycm93cGhhc2VfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdOYXJyb3dQaGFzZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlMVxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICovXG4gICAgY29udGFjdHNfd2l0aChoYW5kbGUxLCBmKSB7XG4gICAgICAgIHdhc20ucmF3bmFycm93cGhhc2VfY29udGFjdHNfd2l0aCh0aGlzLnB0ciwgaGFuZGxlMSwgYWRkSGVhcE9iamVjdChmKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZTFcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUyXG4gICAgKiBAcmV0dXJucyB7UmF3Q29udGFjdFBhaXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBjb250YWN0X3BhaXIoaGFuZGxlMSwgaGFuZGxlMikge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd25hcnJvd3BoYXNlX2NvbnRhY3RfcGFpcih0aGlzLnB0ciwgaGFuZGxlMSwgaGFuZGxlMik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdDb250YWN0UGFpci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlMVxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICovXG4gICAgaW50ZXJzZWN0aW9uc193aXRoKGhhbmRsZTEsIGYpIHtcbiAgICAgICAgd2FzbS5yYXduYXJyb3dwaGFzZV9pbnRlcnNlY3Rpb25zX3dpdGgodGhpcy5wdHIsIGhhbmRsZTEsIGFkZEhlYXBPYmplY3QoZikpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUxXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlMlxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBpbnRlcnNlY3Rpb25fcGFpcihoYW5kbGUxLCBoYW5kbGUyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3bmFycm93cGhhc2VfaW50ZXJzZWN0aW9uX3BhaXIodGhpcy5wdHIsIGhhbmRsZTEsIGhhbmRsZTIpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdQaHlzaWNzUGlwZWxpbmUge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdQaHlzaWNzUGlwZWxpbmUucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cGh5c2ljc3BpcGVsaW5lX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwaHlzaWNzcGlwZWxpbmVfbmV3KCk7XG4gICAgICAgIHJldHVybiBSYXdQaHlzaWNzUGlwZWxpbmUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGdyYXZpdHlcbiAgICAqIEBwYXJhbSB7UmF3SW50ZWdyYXRpb25QYXJhbWV0ZXJzfSBpbnRlZ3JhdGlvblBhcmFtZXRlcnNcbiAgICAqIEBwYXJhbSB7UmF3SXNsYW5kTWFuYWdlcn0gaXNsYW5kc1xuICAgICogQHBhcmFtIHtSYXdCcm9hZFBoYXNlfSBicm9hZFBoYXNlXG4gICAgKiBAcGFyYW0ge1Jhd05hcnJvd1BoYXNlfSBuYXJyb3dQaGFzZVxuICAgICogQHBhcmFtIHtSYXdSaWdpZEJvZHlTZXR9IGJvZGllc1xuICAgICogQHBhcmFtIHtSYXdDb2xsaWRlclNldH0gY29sbGlkZXJzXG4gICAgKiBAcGFyYW0ge1Jhd0ltcHVsc2VKb2ludFNldH0gam9pbnRzXG4gICAgKiBAcGFyYW0ge1Jhd011bHRpYm9keUpvaW50U2V0fSBhcnRpY3VsYXRpb25zXG4gICAgKiBAcGFyYW0ge1Jhd0NDRFNvbHZlcn0gY2NkX3NvbHZlclxuICAgICovXG4gICAgc3RlcChncmF2aXR5LCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMsIGlzbGFuZHMsIGJyb2FkUGhhc2UsIG5hcnJvd1BoYXNlLCBib2RpZXMsIGNvbGxpZGVycywgam9pbnRzLCBhcnRpY3VsYXRpb25zLCBjY2Rfc29sdmVyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhncmF2aXR5LCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhicm9hZFBoYXNlLCBSYXdCcm9hZFBoYXNlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG5hcnJvd1BoYXNlLCBSYXdOYXJyb3dQaGFzZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGpvaW50cywgUmF3SW1wdWxzZUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFydGljdWxhdGlvbnMsIFJhd011bHRpYm9keUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNjZF9zb2x2ZXIsIFJhd0NDRFNvbHZlcik7XG4gICAgICAgIHdhc20ucmF3cGh5c2ljc3BpcGVsaW5lX3N0ZXAodGhpcy5wdHIsIGdyYXZpdHkucHRyLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucHRyLCBpc2xhbmRzLnB0ciwgYnJvYWRQaGFzZS5wdHIsIG5hcnJvd1BoYXNlLnB0ciwgYm9kaWVzLnB0ciwgY29sbGlkZXJzLnB0ciwgam9pbnRzLnB0ciwgYXJ0aWN1bGF0aW9ucy5wdHIsIGNjZF9zb2x2ZXIucHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gZ3Jhdml0eVxuICAgICogQHBhcmFtIHtSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnN9IGludGVncmF0aW9uUGFyYW1ldGVyc1xuICAgICogQHBhcmFtIHtSYXdJc2xhbmRNYW5hZ2VyfSBpc2xhbmRzXG4gICAgKiBAcGFyYW0ge1Jhd0Jyb2FkUGhhc2V9IGJyb2FkUGhhc2VcbiAgICAqIEBwYXJhbSB7UmF3TmFycm93UGhhc2V9IG5hcnJvd1BoYXNlXG4gICAgKiBAcGFyYW0ge1Jhd1JpZ2lkQm9keVNldH0gYm9kaWVzXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3SW1wdWxzZUpvaW50U2V0fSBqb2ludHNcbiAgICAqIEBwYXJhbSB7UmF3TXVsdGlib2R5Sm9pbnRTZXR9IGFydGljdWxhdGlvbnNcbiAgICAqIEBwYXJhbSB7UmF3Q0NEU29sdmVyfSBjY2Rfc29sdmVyXG4gICAgKiBAcGFyYW0ge1Jhd0V2ZW50UXVldWV9IGV2ZW50UXVldWVcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBob29rT2JqZWN0XG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBob29rRmlsdGVyQ29udGFjdFBhaXJcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhvb2tGaWx0ZXJJbnRlcnNlY3Rpb25QYWlyXG4gICAgKi9cbiAgICBzdGVwV2l0aEV2ZW50cyhncmF2aXR5LCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMsIGlzbGFuZHMsIGJyb2FkUGhhc2UsIG5hcnJvd1BoYXNlLCBib2RpZXMsIGNvbGxpZGVycywgam9pbnRzLCBhcnRpY3VsYXRpb25zLCBjY2Rfc29sdmVyLCBldmVudFF1ZXVlLCBob29rT2JqZWN0LCBob29rRmlsdGVyQ29udGFjdFBhaXIsIGhvb2tGaWx0ZXJJbnRlcnNlY3Rpb25QYWlyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhncmF2aXR5LCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhicm9hZFBoYXNlLCBSYXdCcm9hZFBoYXNlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG5hcnJvd1BoYXNlLCBSYXdOYXJyb3dQaGFzZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGpvaW50cywgUmF3SW1wdWxzZUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFydGljdWxhdGlvbnMsIFJhd011bHRpYm9keUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNjZF9zb2x2ZXIsIFJhd0NDRFNvbHZlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhldmVudFF1ZXVlLCBSYXdFdmVudFF1ZXVlKTtcbiAgICAgICAgd2FzbS5yYXdwaHlzaWNzcGlwZWxpbmVfc3RlcFdpdGhFdmVudHModGhpcy5wdHIsIGdyYXZpdHkucHRyLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucHRyLCBpc2xhbmRzLnB0ciwgYnJvYWRQaGFzZS5wdHIsIG5hcnJvd1BoYXNlLnB0ciwgYm9kaWVzLnB0ciwgY29sbGlkZXJzLnB0ciwgam9pbnRzLnB0ciwgYXJ0aWN1bGF0aW9ucy5wdHIsIGNjZF9zb2x2ZXIucHRyLCBldmVudFF1ZXVlLnB0ciwgYWRkSGVhcE9iamVjdChob29rT2JqZWN0KSwgYWRkSGVhcE9iamVjdChob29rRmlsdGVyQ29udGFjdFBhaXIpLCBhZGRIZWFwT2JqZWN0KGhvb2tGaWx0ZXJJbnRlcnNlY3Rpb25QYWlyKSk7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1BvaW50Q29sbGlkZXJQcm9qZWN0aW9uIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3UG9pbnRDb2xsaWRlclByb2plY3Rpb24ucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjb2xsaWRlckhhbmRsZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwb2ludGNvbGxpZGVycHJvamVjdGlvbl9jb2xsaWRlckhhbmRsZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHBvaW50KCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX3BvaW50KHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGlzSW5zaWRlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX2lzSW5zaWRlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZmVhdHVyZVR5cGUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fZmVhdHVyZVR5cGUodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBmZWF0dXJlSWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fZmVhdHVyZUlkKHJldHB0ciwgdGhpcy5wdHIpO1xuICAgICAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICAgICAgcmV0dXJuIHIwID09PSAwID8gdW5kZWZpbmVkIDogcjEgPj4+IDA7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1BvaW50UHJvamVjdGlvbiB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1BvaW50UHJvamVjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdwb2ludHByb2plY3Rpb25fZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBwb2ludCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwb2ludHByb2plY3Rpb25fcG9pbnQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgaXNJbnNpZGUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cG9pbnRwcm9qZWN0aW9uX2lzSW5zaWRlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3UXVlcnlQaXBlbGluZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1F1ZXJ5UGlwZWxpbmUucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cXVlcnlwaXBlbGluZV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd1F1ZXJ5UGlwZWxpbmUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdJc2xhbmRNYW5hZ2VyfSBpc2xhbmRzXG4gICAgKiBAcGFyYW0ge1Jhd1JpZ2lkQm9keVNldH0gYm9kaWVzXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqL1xuICAgIHVwZGF0ZShpc2xhbmRzLCBib2RpZXMsIGNvbGxpZGVycykge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgd2FzbS5yYXdxdWVyeXBpcGVsaW5lX3VwZGF0ZSh0aGlzLnB0ciwgaXNsYW5kcy5wdHIsIGJvZGllcy5wdHIsIGNvbGxpZGVycy5wdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICogQHJldHVybnMge1Jhd1JheUNvbGxpZGVyVG9pIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY2FzdFJheShjb2xsaWRlcnMsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9jYXN0UmF5KHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCByYXlPcmlnLnB0ciwgcmF5RGlyLnB0ciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdSYXlDb2xsaWRlclRvaS5fX3dyYXAocmV0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICogQHJldHVybnMge1Jhd1JheUNvbGxpZGVySW50ZXJzZWN0aW9uIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY2FzdFJheUFuZEdldE5vcm1hbChjb2xsaWRlcnMsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9jYXN0UmF5QW5kR2V0Tm9ybWFsKHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCByYXlPcmlnLnB0ciwgcmF5RGlyLnB0ciwgbWF4VG9pLCBzb2xpZCwgZ3JvdXBzLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdSYXlDb2xsaWRlckludGVyc2VjdGlvbi5fX3dyYXAocmV0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheU9yaWdcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlEaXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29saWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJcbiAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoUmF5KGNvbGxpZGVycywgcmF5T3JpZywgcmF5RGlyLCBtYXhUb2ksIHNvbGlkLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhyYXlPcmlnLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIHdhc20ucmF3cXVlcnlwaXBlbGluZV9pbnRlcnNlY3Rpb25zV2l0aFJheSh0aGlzLnB0ciwgY29sbGlkZXJzLnB0ciwgcmF5T3JpZy5wdHIsIHJheURpci5wdHIsIG1heFRvaSwgc29saWQsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoY2FsbGJhY2spLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGludGVyc2VjdGlvbldpdGhTaGFwZShjb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGUsIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvcywgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlLCBSYXdTaGFwZSk7XG4gICAgICAgICAgICB3YXNtLnJhd3F1ZXJ5cGlwZWxpbmVfaW50ZXJzZWN0aW9uV2l0aFNoYXBlKHJldHB0ciwgdGhpcy5wdHIsIGNvbGxpZGVycy5wdHIsIHNoYXBlUG9zLnB0ciwgc2hhcGVSb3QucHRyLCBzaGFwZS5wdHIsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoZmlsdGVyKSk7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjIgPSBnZXRGbG9hdDY0TWVtb3J5MCgpW3JldHB0ciAvIDggKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZ3JvdXBzXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJcbiAgICAqIEByZXR1cm5zIHtSYXdQb2ludENvbGxpZGVyUHJvamVjdGlvbiB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIHByb2plY3RQb2ludChjb2xsaWRlcnMsIHBvaW50LCBzb2xpZCwgZ3JvdXBzLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9wcm9qZWN0UG9pbnQodGhpcy5wdHIsIGNvbGxpZGVycy5wdHIsIHBvaW50LnB0ciwgc29saWQsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoZmlsdGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3UG9pbnRDb2xsaWRlclByb2plY3Rpb24uX193cmFwKHJldCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwb2ludFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICogQHJldHVybnMge1Jhd1BvaW50Q29sbGlkZXJQcm9qZWN0aW9uIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgcHJvamVjdFBvaW50QW5kR2V0RmVhdHVyZShjb2xsaWRlcnMsIHBvaW50LCBncm91cHMpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKGNvbGxpZGVycywgUmF3Q29sbGlkZXJTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocG9pbnQsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cXVlcnlwaXBlbGluZV9wcm9qZWN0UG9pbnRBbmRHZXRGZWF0dXJlKHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCBwb2ludC5wdHIsIGdyb3Vwcyk7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdQb2ludENvbGxpZGVyUHJvamVjdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwb2ludFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICAgICovXG4gICAgaW50ZXJzZWN0aW9uc1dpdGhQb2ludChjb2xsaWRlcnMsIHBvaW50LCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIHdhc20ucmF3cXVlcnlwaXBlbGluZV9pbnRlcnNlY3Rpb25zV2l0aFBvaW50KHRoaXMucHRyLCBjb2xsaWRlcnMucHRyLCBwb2ludC5wdHIsIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoY2FsbGJhY2spLCBhZGRCb3Jyb3dlZE9iamVjdChmaWx0ZXIpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlVmVsXG4gICAgKiBAcGFyYW0ge1Jhd1NoYXBlfSBzaGFwZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRvaVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3Vwc1xuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGVDb2xsaWRlclRPSSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNhc3RTaGFwZShjb2xsaWRlcnMsIHNoYXBlUG9zLCBzaGFwZVJvdCwgc2hhcGVWZWwsIHNoYXBlLCBtYXhUb2ksIGdyb3VwcywgZmlsdGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3MoY29sbGlkZXJzLCBSYXdDb2xsaWRlclNldCk7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVZlbCwgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZSwgUmF3U2hhcGUpO1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdxdWVyeXBpcGVsaW5lX2Nhc3RTaGFwZSh0aGlzLnB0ciwgY29sbGlkZXJzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHNoYXBlVmVsLnB0ciwgc2hhcGUucHRyLCBtYXhUb2ksIGdyb3VwcywgYWRkQm9ycm93ZWRPYmplY3QoZmlsdGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3U2hhcGVDb2xsaWRlclRPSS5fX3dyYXAocmV0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhlYXBbc3RhY2tfcG9pbnRlcisrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3Q29sbGlkZXJTZXR9IGNvbGxpZGVyc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJcbiAgICAqL1xuICAgIGludGVyc2VjdGlvbnNXaXRoU2hhcGUoY29sbGlkZXJzLCBzaGFwZVBvcywgc2hhcGVSb3QsIHNoYXBlLCBncm91cHMsIGNhbGxiYWNrLCBmaWx0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvcywgUmF3VmVjdG9yKTtcbiAgICAgICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlLCBSYXdTaGFwZSk7XG4gICAgICAgICAgICB3YXNtLnJhd3F1ZXJ5cGlwZWxpbmVfaW50ZXJzZWN0aW9uc1dpdGhTaGFwZSh0aGlzLnB0ciwgY29sbGlkZXJzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHNoYXBlLnB0ciwgZ3JvdXBzLCBhZGRCb3Jyb3dlZE9iamVjdChjYWxsYmFjayksIGFkZEJvcnJvd2VkT2JqZWN0KGZpbHRlcikpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaGVhcFtzdGFja19wb2ludGVyKytdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaGVhcFtzdGFja19wb2ludGVyKytdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFhYmJDZW50ZXJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBhYWJiSGFsZkV4dGVudHNcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgKi9cbiAgICBjb2xsaWRlcnNXaXRoQWFiYkludGVyc2VjdGluZ0FhYmIoYWFiYkNlbnRlciwgYWFiYkhhbGZFeHRlbnRzLCBjYWxsYmFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgX2Fzc2VydENsYXNzKGFhYmJDZW50ZXIsIFJhd1ZlY3Rvcik7XG4gICAgICAgICAgICBfYXNzZXJ0Q2xhc3MoYWFiYkhhbGZFeHRlbnRzLCBSYXdWZWN0b3IpO1xuICAgICAgICAgICAgd2FzbS5yYXdxdWVyeXBpcGVsaW5lX2NvbGxpZGVyc1dpdGhBYWJiSW50ZXJzZWN0aW5nQWFiYih0aGlzLnB0ciwgYWFiYkNlbnRlci5wdHIsIGFhYmJIYWxmRXh0ZW50cy5wdHIsIGFkZEJvcnJvd2VkT2JqZWN0KGNhbGxiYWNrKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBoZWFwW3N0YWNrX3BvaW50ZXIrK10gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3UmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24ge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdSYXlDb2xsaWRlckludGVyc2VjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdyYXljb2xsaWRlcmludGVyc2VjdGlvbl9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbGxpZGVySGFuZGxlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX2NvbGxpZGVySGFuZGxlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbm9ybWFsKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JheWNvbGxpZGVyaW50ZXJzZWN0aW9uX25vcm1hbCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHRvaSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyYXljb2xsaWRlcmludGVyc2VjdGlvbl90b2kodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBmZWF0dXJlVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdwb2ludGNvbGxpZGVycHJvamVjdGlvbl9mZWF0dXJlVHlwZSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGZlYXR1cmVJZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICAgICAgd2FzbS5yYXdwb2ludGNvbGxpZGVycHJvamVjdGlvbl9mZWF0dXJlSWQocmV0cHRyLCB0aGlzLnB0cik7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICByZXR1cm4gcjAgPT09IDAgPyB1bmRlZmluZWQgOiByMSA+Pj4gMDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiovXG5leHBvcnQgY2xhc3MgUmF3UmF5Q29sbGlkZXJUb2kge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdSYXlDb2xsaWRlclRvaS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdyYXljb2xsaWRlcnRvaV9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGNvbGxpZGVySGFuZGxlKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50Y29sbGlkZXJwcm9qZWN0aW9uX2NvbGxpZGVySGFuZGxlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgdG9pKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JheWNvbGxpZGVyaW50ZXJzZWN0aW9uX3RvaSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1JheUludGVyc2VjdGlvbiB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1JheUludGVyc2VjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdyYXlpbnRlcnNlY3Rpb25fZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBub3JtYWwoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmF5aW50ZXJzZWN0aW9uX25vcm1hbCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHRvaSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfZHQodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBmZWF0dXJlVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyYXlpbnRlcnNlY3Rpb25fZmVhdHVyZVR5cGUodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBmZWF0dXJlSWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20ucmF3cmF5aW50ZXJzZWN0aW9uX2ZlYXR1cmVJZChyZXRwdHIsIHRoaXMucHRyKTtcbiAgICAgICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgICAgIHZhciByMSA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcbiAgICAgICAgICAgIHJldHVybiByMCA9PT0gMCA/IHVuZGVmaW5lZCA6IHIxID4+PiAwO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdSaWdpZEJvZHlTZXQge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdSaWdpZEJvZHlTZXQucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3cmlnaWRib2R5c2V0X2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgd29ybGQtc3BhY2UgdHJhbnNsYXRpb24gb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHJiVHJhbnNsYXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiVHJhbnNsYXRpb24odGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHdvcmxkLXNwYWNlIG9yaWVudGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdSb3RhdGlvbn1cbiAgICAqL1xuICAgIHJiUm90YXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiUm90YXRpb24odGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdSb3RhdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBQdXQgdGhlIGdpdmVuIHJpZ2lkLWJvZHkgdG8gc2xlZXAuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKi9cbiAgICByYlNsZWVwKGhhbmRsZSkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNsZWVwKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElzIHRoaXMgcmlnaWQtYm9keSBzbGVlcGluZz9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc1NsZWVwaW5nKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYklzU2xlZXBpbmcodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogSXMgdGhlIHZlbG9jaXR5IG9mIHRoaXMgcmlnaWQtYm9keSBub3QgemVybz9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgcmJJc01vdmluZyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJJc01vdmluZyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgd29ybGQtc3BhY2UgcHJlZGljdGVkIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiBJZiB0aGlzIHJpZ2lkLWJvZHkgaXMga2luZW1hdGljIHRoaXMgdmFsdWUgaXMgc2V0IGJ5IHRoZSBgc2V0TmV4dEtpbmVtYXRpY1RyYW5zbGF0aW9uYFxuICAgICogbWV0aG9kIGFuZCBpcyB1c2VkIGZvciBlc3RpbWF0aW5nIHRoZSBraW5lbWF0aWMgYm9keSB2ZWxvY2l0eSBhdCB0aGUgbmV4dCB0aW1lc3RlcC5cbiAgICAqIEZvciBub24ta2luZW1hdGljIGJvZGllcywgdGhpcyB2YWx1ZSBpcyBjdXJyZW50bHkgdW5zcGVjaWZpZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgcmJOZXh0VHJhbnNsYXRpb24oaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiTmV4dFRyYW5zbGF0aW9uKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSB3b3JsZC1zcGFjZSBwcmVkaWN0ZWQgb3JpZW50YXRpb24gb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqIElmIHRoaXMgcmlnaWQtYm9keSBpcyBraW5lbWF0aWMgdGhpcyB2YWx1ZSBpcyBzZXQgYnkgdGhlIGBzZXROZXh0S2luZW1hdGljUm90YXRpb25gXG4gICAgKiBtZXRob2QgYW5kIGlzIHVzZWQgZm9yIGVzdGltYXRpbmcgdGhlIGtpbmVtYXRpYyBib2R5IHZlbG9jaXR5IGF0IHRoZSBuZXh0IHRpbWVzdGVwLlxuICAgICogRm9yIG5vbi1raW5lbWF0aWMgYm9kaWVzLCB0aGlzIHZhbHVlIGlzIGN1cnJlbnRseSB1bnNwZWNpZmllZC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdSb3RhdGlvbn1cbiAgICAqL1xuICAgIHJiTmV4dFJvdGF0aW9uKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYk5leHRSb3RhdGlvbih0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1JvdGF0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHhgOiB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIHJpZ2lkLWJvZHkgYWxvbmcgdGhlIGB4YCBheGlzLlxuICAgICogLSBgeWA6IHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiB0aGUgcmlnaWQtYm9keSBhbG9uZyB0aGUgYHlgIGF4aXMuXG4gICAgKiAtIGB6YDogdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSByaWdpZC1ib2R5IGFsb25nIHRoZSBgemAgYXhpcy5cbiAgICAqIC0gYHdha2VVcGA6IGZvcmNlcyB0aGUgcmlnaWQtYm9keSB0byB3YWtlLXVwIHNvIGl0IGlzIHByb3Blcmx5IGFmZmVjdGVkIGJ5IGZvcmNlcyBpZiBpdFxuICAgICogd2Fzbid0IG1vdmluZyBiZWZvcmUgbW9kaWZ5aW5nIGl0cyBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHpcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYlNldFRyYW5zbGF0aW9uKGhhbmRsZSwgeCwgeSwgeiwgd2FrZVVwKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiU2V0VHJhbnNsYXRpb24odGhpcy5wdHIsIGhhbmRsZSwgeCwgeSwgeiwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiBUaGlzIGRvZXMgbm90aGluZyBpZiBhIHplcm8gcXVhdGVybmlvbiBpcyBwcm92aWRlZC5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYHhgOiB0aGUgZmlyc3QgdmVjdG9yIGNvbXBvbmVudCBvZiB0aGUgcXVhdGVybmlvbi5cbiAgICAqIC0gYHlgOiB0aGUgc2Vjb25kIHZlY3RvciBjb21wb25lbnQgb2YgdGhlIHF1YXRlcm5pb24uXG4gICAgKiAtIGB6YDogdGhlIHRoaXJkIHZlY3RvciBjb21wb25lbnQgb2YgdGhlIHF1YXRlcm5pb24uXG4gICAgKiAtIGB3YDogdGhlIHNjYWxhciBjb21wb25lbnQgb2YgdGhlIHF1YXRlcm5pb24uXG4gICAgKiAtIGB3YWtlVXBgOiBmb3JjZXMgdGhlIHJpZ2lkLWJvZHkgdG8gd2FrZS11cCBzbyBpdCBpcyBwcm9wZXJseSBhZmZlY3RlZCBieSBmb3JjZXMgaWYgaXRcbiAgICAqIHdhc24ndCBtb3ZpbmcgYmVmb3JlIG1vZGlmeWluZyBpdHMgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB6XG4gICAgKiBAcGFyYW0ge251bWJlcn0gd1xuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJiU2V0Um90YXRpb24oaGFuZGxlLCB4LCB5LCB6LCB3LCB3YWtlVXApIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXRSb3RhdGlvbih0aGlzLnB0ciwgaGFuZGxlLCB4LCB5LCB6LCB3LCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIGxpbmVhciB2ZWxvY2l0eSBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gbGludmVsXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJTZXRMaW52ZWwoaGFuZGxlLCBsaW52ZWwsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MobGludmVsLCBSYXdWZWN0b3IpO1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldExpbnZlbCh0aGlzLnB0ciwgaGFuZGxlLCBsaW52ZWwucHRyLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuZ3ZlbFxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJiU2V0QW5ndmVsKGhhbmRsZSwgYW5ndmVsLCB3YWtlVXApIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFuZ3ZlbCwgUmF3VmVjdG9yKTtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXRBbmd2ZWwodGhpcy5wdHIsIGhhbmRsZSwgYW5ndmVsLnB0ciwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBJZiB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLCBzZXRzIGl0cyBmdXR1cmUgdHJhbnNsYXRpb24gYWZ0ZXIgdGhlIG5leHQgdGltZXN0ZXAgaW50ZWdyYXRpb24uXG4gICAgKlxuICAgICogVGhpcyBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGByaWdpZEJvZHkuc2V0VHJhbnNsYXRpb25gIHRvIG1ha2UgdGhlIGR5bmFtaWMgb2JqZWN0XG4gICAgKiBpbnRlcmFjdGluZyB3aXRoIHRoaXMga2luZW1hdGljIGJvZHkgYmVoYXZlIGFzIGV4cGVjdGVkLiBJbnRlcm5hbGx5LCBSYXBpZXIgd2lsbCBjb21wdXRlXG4gICAgKiBhbiBhcnRpZmljaWFsIHZlbG9jaXR5IGZvciB0aGlzIHJpZ2lkLWJvZHkgZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvbiBhbmQgaXRzIG5leHQga2luZW1hdGljXG4gICAgKiBwb3NpdGlvbi4gVGhpcyB2ZWxvY2l0eSB3aWxsIGJlIHVzZWQgdG8gY29tcHV0ZSBmb3JjZXMgb24gZHluYW1pYyBib2RpZXMgaW50ZXJhY3Rpbmcgd2l0aFxuICAgICogdGhpcyBib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgeGA6IHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiB0aGUgcmlnaWQtYm9keSBhbG9uZyB0aGUgYHhgIGF4aXMuXG4gICAgKiAtIGB5YDogdGhlIHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSByaWdpZC1ib2R5IGFsb25nIHRoZSBgeWAgYXhpcy5cbiAgICAqIC0gYHpgOiB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIHJpZ2lkLWJvZHkgYWxvbmcgdGhlIGB6YCBheGlzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICovXG4gICAgcmJTZXROZXh0S2luZW1hdGljVHJhbnNsYXRpb24oaGFuZGxlLCB4LCB5LCB6KSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiU2V0TmV4dEtpbmVtYXRpY1RyYW5zbGF0aW9uKHRoaXMucHRyLCBoYW5kbGUsIHgsIHksIHopO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElmIHRoaXMgcmlnaWQgYm9keSBpcyBraW5lbWF0aWMsIHNldHMgaXRzIGZ1dHVyZSByb3RhdGlvbiBhZnRlciB0aGUgbmV4dCB0aW1lc3RlcCBpbnRlZ3JhdGlvbi5cbiAgICAqXG4gICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYHJpZ2lkQm9keS5zZXRSb3RhdGlvbmAgdG8gbWFrZSB0aGUgZHluYW1pYyBvYmplY3RcbiAgICAqIGludGVyYWN0aW5nIHdpdGggdGhpcyBraW5lbWF0aWMgYm9keSBiZWhhdmUgYXMgZXhwZWN0ZWQuIEludGVybmFsbHksIFJhcGllciB3aWxsIGNvbXB1dGVcbiAgICAqIGFuIGFydGlmaWNpYWwgdmVsb2NpdHkgZm9yIHRoaXMgcmlnaWQtYm9keSBmcm9tIGl0cyBjdXJyZW50IHBvc2l0aW9uIGFuZCBpdHMgbmV4dCBraW5lbWF0aWNcbiAgICAqIHBvc2l0aW9uLiBUaGlzIHZlbG9jaXR5IHdpbGwgYmUgdXNlZCB0byBjb21wdXRlIGZvcmNlcyBvbiBkeW5hbWljIGJvZGllcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgKiB0aGlzIGJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGB4YDogdGhlIGZpcnN0IHZlY3RvciBjb21wb25lbnQgb2YgdGhlIHF1YXRlcm5pb24uXG4gICAgKiAtIGB5YDogdGhlIHNlY29uZCB2ZWN0b3IgY29tcG9uZW50IG9mIHRoZSBxdWF0ZXJuaW9uLlxuICAgICogLSBgemA6IHRoZSB0aGlyZCB2ZWN0b3IgY29tcG9uZW50IG9mIHRoZSBxdWF0ZXJuaW9uLlxuICAgICogLSBgd2A6IHRoZSBzY2FsYXIgY29tcG9uZW50IG9mIHRoZSBxdWF0ZXJuaW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICogQHBhcmFtIHtudW1iZXJ9IHdcbiAgICAqL1xuICAgIHJiU2V0TmV4dEtpbmVtYXRpY1JvdGF0aW9uKGhhbmRsZSwgeCwgeSwgeiwgdykge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldE5leHRLaW5lbWF0aWNSb3RhdGlvbih0aGlzLnB0ciwgaGFuZGxlLCB4LCB5LCB6LCB3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgbGluZWFyIHZlbG9jaXR5IG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICByYkxpbnZlbChoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJMaW52ZWwodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHJiQW5ndmVsKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkFuZ3ZlbCh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxvY2tlZFxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlX3VwXG4gICAgKi9cbiAgICByYkxvY2tUcmFuc2xhdGlvbnMoaGFuZGxlLCBsb2NrZWQsIHdha2VfdXApIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJMb2NrVHJhbnNsYXRpb25zKHRoaXMucHRyLCBoYW5kbGUsIGxvY2tlZCwgd2FrZV91cCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtib29sZWFufSBhbGxvd194XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93X3lcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dfelxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlX3VwXG4gICAgKi9cbiAgICByYlJlc3RyaWN0VHJhbnNsYXRpb25zKGhhbmRsZSwgYWxsb3dfeCwgYWxsb3dfeSwgYWxsb3dfeiwgd2FrZV91cCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlJlc3RyaWN0VHJhbnNsYXRpb25zKHRoaXMucHRyLCBoYW5kbGUsIGFsbG93X3gsIGFsbG93X3ksIGFsbG93X3osIHdha2VfdXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9ja2VkXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VfdXBcbiAgICAqL1xuICAgIHJiTG9ja1JvdGF0aW9ucyhoYW5kbGUsIGxvY2tlZCwgd2FrZV91cCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkxvY2tSb3RhdGlvbnModGhpcy5wdHIsIGhhbmRsZSwgbG9ja2VkLCB3YWtlX3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93X3hcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dfeVxuICAgICogQHBhcmFtIHtib29sZWFufSBhbGxvd196XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VfdXBcbiAgICAqL1xuICAgIHJiUmVzdHJpY3RSb3RhdGlvbnMoaGFuZGxlLCBhbGxvd194LCBhbGxvd195LCBhbGxvd196LCB3YWtlX3VwKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiUmVzdHJpY3RSb3RhdGlvbnModGhpcy5wdHIsIGhhbmRsZSwgYWxsb3dfeCwgYWxsb3dfeSwgYWxsb3dfeiwgd2FrZV91cCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHJiRG9taW5hbmNlR3JvdXAoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiRG9taW5hbmNlR3JvdXAodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGdyb3VwXG4gICAgKi9cbiAgICByYlNldERvbWluYW5jZUdyb3VwKGhhbmRsZSwgZ3JvdXApIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXREb21pbmFuY2VHcm91cCh0aGlzLnB0ciwgaGFuZGxlLCBncm91cCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkXG4gICAgKi9cbiAgICByYkVuYWJsZUNjZChoYW5kbGUsIGVuYWJsZWQpIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJFbmFibGVDY2QodGhpcy5wdHIsIGhhbmRsZSwgZW5hYmxlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIG1hc3Mgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHJiTWFzcyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJNYXNzKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFdha2VzIHRoaXMgcmlnaWQtYm9keSB1cC5cbiAgICAqXG4gICAgKiBBIGR5bmFtaWMgcmlnaWQtYm9keSB0aGF0IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNldmVyYWwgY29uc2VjdXRpdmUgZnJhbWVzIHdpbGxcbiAgICAqIGJlIHB1dCB0byBzbGVlcCBieSB0aGUgcGh5c2ljcyBlbmdpbmUsIGkuZS4sIGl0IHdpbGwgc3RvcCBiZWluZyBzaW11bGF0ZWQgaW4gb3JkZXJcbiAgICAqIHRvIGF2b2lkIHVzZWxlc3MgY29tcHV0YXRpb25zLlxuICAgICogVGhpcyBtZXRob2RzIGZvcmNlcyBhIHNsZWVwaW5nIHJpZ2lkLWJvZHkgdG8gd2FrZS11cC4gVGhpcyBpcyB1c2VmdWwsIGUuZy4sIGJlZm9yZSBtb2RpZnlpbmdcbiAgICAqIHRoZSBwb3NpdGlvbiBvZiBhIGR5bmFtaWMgYm9keSBzbyB0aGF0IGl0IGlzIHByb3Blcmx5IHNpbXVsYXRlZCBhZnRlcndhcmRzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICovXG4gICAgcmJXYWtlVXAoaGFuZGxlKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiV2FrZVVwKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElzIENvbnRpbnVvdXMgQ29sbGlzaW9uIERldGVjdGlvbiBlbmFibGVkIGZvciB0aGlzIHJpZ2lkLWJvZHk/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHJiSXNDY2RFbmFibGVkKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYklzQ2NkRW5hYmxlZCh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgbnVtYmVyIG9mIGNvbGxpZGVycyBhdHRhY2hlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJOdW1Db2xsaWRlcnMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiTnVtQ29sbGlkZXJzKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJldHJpZXZlcyB0aGUgYGktdGhgIGNvbGxpZGVyIGF0dGFjaGVkIHRvIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGF0YDogVGhlIGluZGV4IG9mIHRoZSBjb2xsaWRlciB0byByZXRyaWV2ZS4gTXVzdCBiZSBhIG51bWJlciBpbiBgWzAsIHRoaXMubnVtQ29sbGlkZXJzKClbYC5cbiAgICAqICAgICAgICAgVGhpcyBpbmRleCBpcyAqKm5vdCoqIHRoZSBzYW1lIGFzIHRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgY29sbGlkZXIuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYXRcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICByYkNvbGxpZGVyKGhhbmRsZSwgYXQpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJDb2xsaWRlcih0aGlzLnB0ciwgaGFuZGxlLCBhdCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHN0YXR1cyBvZiB0aGlzIHJpZ2lkLWJvZHk6IGZpeGVkLCBkeW5hbWljLCBvciBraW5lbWF0aWMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgcmJCb2R5VHlwZShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJCb2R5VHlwZSh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXQgYSBuZXcgc3RhdHVzIGZvciB0aGlzIHJpZ2lkLWJvZHk6IGZpeGVkLCBkeW5hbWljLCBvciBraW5lbWF0aWMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG4gICAgKi9cbiAgICByYlNldEJvZHlUeXBlKGhhbmRsZSwgc3RhdHVzKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiU2V0Qm9keVR5cGUodGhpcy5wdHIsIGhhbmRsZSwgc3RhdHVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBJcyB0aGlzIHJpZ2lkLWJvZHkgZml4ZWQ/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHJiSXNGaXhlZChoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJJc0ZpeGVkKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElzIHRoaXMgcmlnaWQtYm9keSBraW5lbWF0aWM/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHJiSXNLaW5lbWF0aWMoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiSXNLaW5lbWF0aWModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogSXMgdGhpcyByaWdpZC1ib2R5IGR5bmFtaWM/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHJiSXNEeW5hbWljKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYklzRHluYW1pYyh0aGlzLnB0ciwgaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgbGluZWFyIGRhbXBpbmcgY29lZmZpY2llbnQgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHJiTGluZWFyRGFtcGluZyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJMaW5lYXJEYW1waW5nKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBhbmd1bGFyIGRhbXBpbmcgY29lZmZpY2llbnQgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHJiQW5ndWxhckRhbXBpbmcoaGFuZGxlKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X3JiQW5ndWxhckRhbXBpbmcodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvclxuICAgICovXG4gICAgcmJTZXRMaW5lYXJEYW1waW5nKGhhbmRsZSwgZmFjdG9yKSB7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiU2V0TGluZWFyRGFtcGluZyh0aGlzLnB0ciwgaGFuZGxlLCBmYWN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBmYWN0b3JcbiAgICAqL1xuICAgIHJiU2V0QW5ndWxhckRhbXBpbmcoaGFuZGxlLCBmYWN0b3IpIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXRBbmd1bGFyRGFtcGluZyh0aGlzLnB0ciwgaGFuZGxlLCBmYWN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICByYkdyYXZpdHlTY2FsZShoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJHcmF2aXR5U2NhbGUodGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvclxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJiU2V0R3Jhdml0eVNjYWxlKGhhbmRsZSwgZmFjdG9yLCB3YWtlVXApIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJTZXRHcmF2aXR5U2NhbGUodGhpcy5wdHIsIGhhbmRsZSwgZmFjdG9yLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJlc2V0cyB0byB6ZXJvIGFsbCB1c2VyLWFkZGVkIGZvcmNlcyBhZGRlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJSZXNldEZvcmNlcyhoYW5kbGUsIHdha2VVcCkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlJlc2V0Rm9yY2VzKHRoaXMucHRyLCBoYW5kbGUsIHdha2VVcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmVzZXRzIHRvIHplcm8gYWxsIHVzZXItYWRkZWQgdG9ycXVlcyBhZGRlZCB0byB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJSZXNldFRvcnF1ZXMoaGFuZGxlLCB3YWtlVXApIHtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmJSZXNldFRvcnF1ZXModGhpcy5wdHIsIGhhbmRsZSwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBZGRzIGEgZm9yY2UgYXQgdGhlIGNlbnRlci1vZi1tYXNzIG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGZvcmNlYDogdGhlIHdvcmxkLXNwYWNlIGZvcmNlIHRvIGFwcGx5IG9uIHRoZSByaWdpZC1ib2R5LlxuICAgICogLSBgd2FrZVVwYDogc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gZm9yY2VcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYkFkZEZvcmNlKGhhbmRsZSwgZm9yY2UsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoZm9yY2UsIFJhd1ZlY3Rvcik7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiQWRkRm9yY2UodGhpcy5wdHIsIGhhbmRsZSwgZm9yY2UucHRyLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgYW4gaW1wdWxzZSBhdCB0aGUgY2VudGVyLW9mLW1hc3Mgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgaW1wdWxzZWA6IHRoZSB3b3JsZC1zcGFjZSBpbXB1bHNlIHRvIGFwcGx5IG9uIHRoZSByaWdpZC1ib2R5LlxuICAgICogLSBgd2FrZVVwYDogc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gaW1wdWxzZVxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJiQXBwbHlJbXB1bHNlKGhhbmRsZSwgaW1wdWxzZSwgd2FrZVVwKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhpbXB1bHNlLCBSYXdWZWN0b3IpO1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkFwcGx5SW1wdWxzZSh0aGlzLnB0ciwgaGFuZGxlLCBpbXB1bHNlLnB0ciwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBZGRzIGEgdG9ycXVlIGF0IHRoZSBjZW50ZXItb2YtbWFzcyBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGB0b3JxdWVgOiB0aGUgd29ybGQtc3BhY2UgdG9ycXVlIHRvIGFwcGx5IG9uIHRoZSByaWdpZC1ib2R5LlxuICAgICogLSBgd2FrZVVwYDogc2hvdWxkIHRoZSByaWdpZC1ib2R5IGJlIGF1dG9tYXRpY2FsbHkgd29rZW4tdXA/XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gdG9ycXVlXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdha2VVcFxuICAgICovXG4gICAgcmJBZGRUb3JxdWUoaGFuZGxlLCB0b3JxdWUsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3ModG9ycXVlLCBSYXdWZWN0b3IpO1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkFkZFRvcnF1ZSh0aGlzLnB0ciwgaGFuZGxlLCB0b3JxdWUucHRyLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFwcGxpZXMgYW4gaW1wdWxzaXZlIHRvcnF1ZSBhdCB0aGUgY2VudGVyLW9mLW1hc3Mgb2YgdGhpcyByaWdpZC1ib2R5LlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgdG9ycXVlIGltcHVsc2VgOiB0aGUgd29ybGQtc3BhY2UgdG9ycXVlIGltcHVsc2UgdG8gYXBwbHkgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgKiAtIGB3YWtlVXBgOiBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSB0b3JxdWVfaW1wdWxzZVxuICAgICogQHBhcmFtIHtib29sZWFufSB3YWtlVXBcbiAgICAqL1xuICAgIHJiQXBwbHlUb3JxdWVJbXB1bHNlKGhhbmRsZSwgdG9ycXVlX2ltcHVsc2UsIHdha2VVcCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3ModG9ycXVlX2ltcHVsc2UsIFJhd1ZlY3Rvcik7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiQXBwbHlUb3JxdWVJbXB1bHNlKHRoaXMucHRyLCBoYW5kbGUsIHRvcnF1ZV9pbXB1bHNlLnB0ciwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBZGRzIGEgZm9yY2UgYXQgdGhlIGdpdmVuIHdvcmxkLXNwYWNlIHBvaW50IG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGZvcmNlYDogdGhlIHdvcmxkLXNwYWNlIGZvcmNlIHRvIGFwcGx5IG9uIHRoZSByaWdpZC1ib2R5LlxuICAgICogLSBgcG9pbnRgOiB0aGUgd29ybGQtc3BhY2UgcG9pbnQgd2hlcmUgdGhlIGltcHVsc2UgaXMgdG8gYmUgYXBwbGllZCBvbiB0aGUgcmlnaWQtYm9keS5cbiAgICAqIC0gYHdha2VVcGA6IHNob3VsZCB0aGUgcmlnaWQtYm9keSBiZSBhdXRvbWF0aWNhbGx5IHdva2VuLXVwP1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGZvcmNlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcG9pbnRcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYkFkZEZvcmNlQXRQb2ludChoYW5kbGUsIGZvcmNlLCBwb2ludCwgd2FrZVVwKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhmb3JjZSwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHBvaW50LCBSYXdWZWN0b3IpO1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYkFkZEZvcmNlQXRQb2ludCh0aGlzLnB0ciwgaGFuZGxlLCBmb3JjZS5wdHIsIHBvaW50LnB0ciwgd2FrZVVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBcHBsaWVzIGFuIGltcHVsc2UgYXQgdGhlIGdpdmVuIHdvcmxkLXNwYWNlIHBvaW50IG9mIHRoaXMgcmlnaWQtYm9keS5cbiAgICAqXG4gICAgKiAjIFBhcmFtZXRlcnNcbiAgICAqIC0gYGltcHVsc2VgOiB0aGUgd29ybGQtc3BhY2UgaW1wdWxzZSB0byBhcHBseSBvbiB0aGUgcmlnaWQtYm9keS5cbiAgICAqIC0gYHBvaW50YDogdGhlIHdvcmxkLXNwYWNlIHBvaW50IHdoZXJlIHRoZSBpbXB1bHNlIGlzIHRvIGJlIGFwcGxpZWQgb24gdGhlIHJpZ2lkLWJvZHkuXG4gICAgKiAtIGB3YWtlVXBgOiBzaG91bGQgdGhlIHJpZ2lkLWJvZHkgYmUgYXV0b21hdGljYWxseSB3b2tlbi11cD9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBpbXB1bHNlXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcG9pbnRcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FrZVVwXG4gICAgKi9cbiAgICByYkFwcGx5SW1wdWxzZUF0UG9pbnQoaGFuZGxlLCBpbXB1bHNlLCBwb2ludCwgd2FrZVVwKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhpbXB1bHNlLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocG9pbnQsIFJhd1ZlY3Rvcik7XG4gICAgICAgIHdhc20ucmF3cmlnaWRib2R5c2V0X3JiQXBwbHlJbXB1bHNlQXRQb2ludCh0aGlzLnB0ciwgaGFuZGxlLCBpbXB1bHNlLnB0ciwgcG9pbnQucHRyLCB3YWtlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEFuIGFyYml0cmFyeSB1c2VyLWRlZmluZWQgMzItYml0IGludGVnZXJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICByYlVzZXJEYXRhKGhhbmRsZSkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlVzZXJEYXRhKHRoaXMucHRyLCBoYW5kbGUpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIHVzZXItZGVmaW5lZCAzMi1iaXQgaW50ZWdlciBvZiB0aGlzIHJpZ2lkLWJvZHkuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBkYXRhYDogYW4gYXJiaXRyYXJ5IHVzZXItZGVmaW5lZCAzMi1iaXQgaW50ZWdlci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYXRhXG4gICAgKi9cbiAgICByYlNldFVzZXJEYXRhKGhhbmRsZSwgZGF0YSkge1xuICAgICAgICB3YXNtLnJhd3JpZ2lkYm9keXNldF9yYlNldFVzZXJEYXRhKHRoaXMucHRyLCBoYW5kbGUsIGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd1JpZ2lkQm9keVNldC5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gdHJhbnNsYXRpb25cbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHJvdGF0aW9uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZ3Jhdml0eVNjYWxlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGNlbnRlck9mTWFzc1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGxpbnZlbFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IGFuZ3ZlbFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBhbmd1bGFySW5lcnRpYUZyYW1lXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zbGF0aW9uRW5hYmxlZFhcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNsYXRpb25FbmFibGVkWVxuICAgICogQHBhcmFtIHtib29sZWFufSB0cmFuc2xhdGlvbkVuYWJsZWRaXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvdGF0aW9uRW5hYmxlZFhcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRpb25FbmFibGVkWVxuICAgICogQHBhcmFtIHtib29sZWFufSByb3RhdGlvbkVuYWJsZWRaXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGluZWFyRGFtcGluZ1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ3VsYXJEYW1waW5nXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmJfdHlwZVxuICAgICogQHBhcmFtIHtib29sZWFufSBjYW5TbGVlcFxuICAgICogQHBhcmFtIHtib29sZWFufSBzbGVlcGluZ1xuICAgICogQHBhcmFtIHtib29sZWFufSBjY2RFbmFibGVkXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZG9taW5hbmNlR3JvdXBcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBjcmVhdGVSaWdpZEJvZHkodHJhbnNsYXRpb24sIHJvdGF0aW9uLCBncmF2aXR5U2NhbGUsIG1hc3MsIGNlbnRlck9mTWFzcywgbGludmVsLCBhbmd2ZWwsIHByaW5jaXBhbEFuZ3VsYXJJbmVydGlhLCBhbmd1bGFySW5lcnRpYUZyYW1lLCB0cmFuc2xhdGlvbkVuYWJsZWRYLCB0cmFuc2xhdGlvbkVuYWJsZWRZLCB0cmFuc2xhdGlvbkVuYWJsZWRaLCByb3RhdGlvbkVuYWJsZWRYLCByb3RhdGlvbkVuYWJsZWRZLCByb3RhdGlvbkVuYWJsZWRaLCBsaW5lYXJEYW1waW5nLCBhbmd1bGFyRGFtcGluZywgcmJfdHlwZSwgY2FuU2xlZXAsIHNsZWVwaW5nLCBjY2RFbmFibGVkLCBkb21pbmFuY2VHcm91cCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3ModHJhbnNsYXRpb24sIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyb3RhdGlvbiwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoY2VudGVyT2ZNYXNzLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MobGludmVsLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoYW5ndmVsLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocHJpbmNpcGFsQW5ndWxhckluZXJ0aWEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhhbmd1bGFySW5lcnRpYUZyYW1lLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmlnaWRib2R5c2V0X2NyZWF0ZVJpZ2lkQm9keSh0aGlzLnB0ciwgdHJhbnNsYXRpb24ucHRyLCByb3RhdGlvbi5wdHIsIGdyYXZpdHlTY2FsZSwgbWFzcywgY2VudGVyT2ZNYXNzLnB0ciwgbGludmVsLnB0ciwgYW5ndmVsLnB0ciwgcHJpbmNpcGFsQW5ndWxhckluZXJ0aWEucHRyLCBhbmd1bGFySW5lcnRpYUZyYW1lLnB0ciwgdHJhbnNsYXRpb25FbmFibGVkWCwgdHJhbnNsYXRpb25FbmFibGVkWSwgdHJhbnNsYXRpb25FbmFibGVkWiwgcm90YXRpb25FbmFibGVkWCwgcm90YXRpb25FbmFibGVkWSwgcm90YXRpb25FbmFibGVkWiwgbGluZWFyRGFtcGluZywgYW5ndWxhckRhbXBpbmcsIHJiX3R5cGUsIGNhblNsZWVwLCBzbGVlcGluZywgY2NkRW5hYmxlZCwgZG9taW5hbmNlR3JvdXApO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVcbiAgICAqIEBwYXJhbSB7UmF3SXNsYW5kTWFuYWdlcn0gaXNsYW5kc1xuICAgICogQHBhcmFtIHtSYXdDb2xsaWRlclNldH0gY29sbGlkZXJzXG4gICAgKiBAcGFyYW0ge1Jhd0ltcHVsc2VKb2ludFNldH0gam9pbnRzXG4gICAgKiBAcGFyYW0ge1Jhd011bHRpYm9keUpvaW50U2V0fSBhcnRpY3VsYXRpb25zXG4gICAgKi9cbiAgICByZW1vdmUoaGFuZGxlLCBpc2xhbmRzLCBjb2xsaWRlcnMsIGpvaW50cywgYXJ0aWN1bGF0aW9ucykge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGpvaW50cywgUmF3SW1wdWxzZUpvaW50U2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFydGljdWxhdGlvbnMsIFJhd011bHRpYm9keUpvaW50U2V0KTtcbiAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfcmVtb3ZlKHRoaXMucHRyLCBoYW5kbGUsIGlzbGFuZHMucHRyLCBjb2xsaWRlcnMucHRyLCBqb2ludHMucHRyLCBhcnRpY3VsYXRpb25zLnB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIG51bWJlciBvZiByaWdpZC1ib2RpZXMgb24gdGhpcyBzZXQuXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgbGVuKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JpZ2lkYm9keXNldF9sZW4odGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIENoZWNrcyBpZiBhIHJpZ2lkLWJvZHkgd2l0aCB0aGUgZ2l2ZW4gaW50ZWdlciBoYW5kbGUgZXhpc3RzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZVxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBjb250YWlucyhoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyaWdpZGJvZHlzZXRfY29udGFpbnModGhpcy5wdHIsIGhhbmRsZSk7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQXBwbGllcyB0aGUgZ2l2ZW4gSmF2YVNjcmlwdCBmdW5jdGlvbiB0byB0aGUgaW50ZWdlciBoYW5kbGUgb2YgZWFjaCByaWdpZC1ib2R5IG1hbmFnZWQgYnkgdGhpcyBzZXQuXG4gICAgKlxuICAgICogIyBQYXJhbWV0ZXJzXG4gICAgKiAtIGBmKGhhbmRsZSlgOiB0aGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIGludGVnZXIgaGFuZGxlIG9mIGVhY2ggcmlnaWQtYm9keSBtYW5hZ2VkIGJ5IHRoaXMgc2V0LiBDYWxsZWQgYXMgYGYoY29sbGlkZXIpYC5cbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAgICAqL1xuICAgIGZvckVhY2hSaWdpZEJvZHlIYW5kbGUoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbS5yYXdyaWdpZGJvZHlzZXRfZm9yRWFjaFJpZ2lkQm9keUhhbmRsZSh0aGlzLnB0ciwgYWRkQm9ycm93ZWRPYmplY3QoZikpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaGVhcFtzdGFja19wb2ludGVyKytdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4qIEEgcm90YXRpb24gcXVhdGVybmlvbi5cbiovXG5leHBvcnQgY2xhc3MgUmF3Um90YXRpb24ge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdSb3RhdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdyb3RhdGlvbl9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICogQHBhcmFtIHtudW1iZXJ9IHdcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHosIHcpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyb3RhdGlvbl9uZXcoeCwgeSwgeiwgdyk7XG4gICAgICAgIHJldHVybiBSYXdSb3RhdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgaWRlbnRpdHkgcXVhdGVybmlvbi5cbiAgICAqIEByZXR1cm5zIHtSYXdSb3RhdGlvbn1cbiAgICAqL1xuICAgIHN0YXRpYyBpZGVudGl0eSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyb3RhdGlvbl9pZGVudGl0eSgpO1xuICAgICAgICByZXR1cm4gUmF3Um90YXRpb24uX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGB4YCBjb21wb25lbnQgb2YgdGhpcyBxdWF0ZXJuaW9uLlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCB4KCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19kdCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGB5YCBjb21wb25lbnQgb2YgdGhpcyBxdWF0ZXJuaW9uLlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCB5KCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JvdGF0aW9uX3kodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBgemAgY29tcG9uZW50IG9mIHRoaXMgcXVhdGVybmlvbi5cbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgeigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfZXJwKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgYHdgIGNvbXBvbmVudCBvZiB0aGlzIHF1YXRlcm5pb24uXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZ2V0IHcoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cm90YXRpb25fdyh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufVxuLyoqXG4qL1xuZXhwb3J0IGNsYXNzIFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdzZXJpYWxpemF0aW9ucGlwZWxpbmVfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NlcmlhbGl6YXRpb25waXBlbGluZV9uZXcoKTtcbiAgICAgICAgcmV0dXJuIFJhd1NlcmlhbGl6YXRpb25QaXBlbGluZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gZ3Jhdml0eVxuICAgICogQHBhcmFtIHtSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnN9IGludGVncmF0aW9uUGFyYW1ldGVyc1xuICAgICogQHBhcmFtIHtSYXdJc2xhbmRNYW5hZ2VyfSBpc2xhbmRzXG4gICAgKiBAcGFyYW0ge1Jhd0Jyb2FkUGhhc2V9IGJyb2FkUGhhc2VcbiAgICAqIEBwYXJhbSB7UmF3TmFycm93UGhhc2V9IG5hcnJvd1BoYXNlXG4gICAgKiBAcGFyYW0ge1Jhd1JpZ2lkQm9keVNldH0gYm9kaWVzXG4gICAgKiBAcGFyYW0ge1Jhd0NvbGxpZGVyU2V0fSBjb2xsaWRlcnNcbiAgICAqIEBwYXJhbSB7UmF3SW1wdWxzZUpvaW50U2V0fSBpbXB1bHNlX2pvaW50c1xuICAgICogQHBhcmFtIHtSYXdNdWx0aWJvZHlKb2ludFNldH0gbXVsdGlib2R5X2pvaW50c1xuICAgICogQHJldHVybnMge1VpbnQ4QXJyYXkgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzZXJpYWxpemVBbGwoZ3Jhdml0eSwgaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBpc2xhbmRzLCBicm9hZFBoYXNlLCBuYXJyb3dQaGFzZSwgYm9kaWVzLCBjb2xsaWRlcnMsIGltcHVsc2Vfam9pbnRzLCBtdWx0aWJvZHlfam9pbnRzKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhncmF2aXR5LCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaW50ZWdyYXRpb25QYXJhbWV0ZXJzLCBSYXdJbnRlZ3JhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MoaXNsYW5kcywgUmF3SXNsYW5kTWFuYWdlcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhicm9hZFBoYXNlLCBSYXdCcm9hZFBoYXNlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKG5hcnJvd1BoYXNlLCBSYXdOYXJyb3dQaGFzZSk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhib2RpZXMsIFJhd1JpZ2lkQm9keVNldCk7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhjb2xsaWRlcnMsIFJhd0NvbGxpZGVyU2V0KTtcbiAgICAgICAgX2Fzc2VydENsYXNzKGltcHVsc2Vfam9pbnRzLCBSYXdJbXB1bHNlSm9pbnRTZXQpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MobXVsdGlib2R5X2pvaW50cywgUmF3TXVsdGlib2R5Sm9pbnRTZXQpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NlcmlhbGl6YXRpb25waXBlbGluZV9zZXJpYWxpemVBbGwodGhpcy5wdHIsIGdyYXZpdHkucHRyLCBpbnRlZ3JhdGlvblBhcmFtZXRlcnMucHRyLCBpc2xhbmRzLnB0ciwgYnJvYWRQaGFzZS5wdHIsIG5hcnJvd1BoYXNlLnB0ciwgYm9kaWVzLnB0ciwgY29sbGlkZXJzLnB0ciwgaW1wdWxzZV9qb2ludHMucHRyLCBtdWx0aWJvZHlfam9pbnRzLnB0cik7XG4gICAgICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhXG4gICAgKiBAcmV0dXJucyB7UmF3RGVzZXJpYWxpemVkV29ybGQgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBkZXNlcmlhbGl6ZUFsbChkYXRhKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2VyaWFsaXphdGlvbnBpcGVsaW5lX2Rlc2VyaWFsaXplQWxsKHRoaXMucHRyLCBhZGRIZWFwT2JqZWN0KGRhdGEpKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd0Rlc2VyaWFsaXplZFdvcmxkLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdTaGFwZSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1NoYXBlLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd3NoYXBlX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoeVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGh6XG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgY3Vib2lkKGh4LCBoeSwgaHopIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jdWJvaWQoaHgsIGh5LCBoeik7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoeVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGh6XG4gICAgKiBAcGFyYW0ge251bWJlcn0gYm9yZGVyUmFkaXVzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgcm91bmRDdWJvaWQoaHgsIGh5LCBoeiwgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfcm91bmRDdWJvaWQoaHgsIGh5LCBoeiwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyBiYWxsKHJhZGl1cykge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2JhbGwocmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmSGVpZ2h0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgY2Fwc3VsZShoYWxmSGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jYXBzdWxlKGhhbGZIZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZkhlaWdodFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgICogQHJldHVybnMge1Jhd1NoYXBlfVxuICAgICovXG4gICAgc3RhdGljIGN5bGluZGVyKGhhbGZIZWlnaHQsIHJhZGl1cykge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2N5bGluZGVyKGhhbGZIZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZkhlaWdodFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGJvcmRlclJhZGl1c1xuICAgICogQHJldHVybnMge1Jhd1NoYXBlfVxuICAgICovXG4gICAgc3RhdGljIHJvdW5kQ3lsaW5kZXIoaGFsZkhlaWdodCwgcmFkaXVzLCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9yb3VuZEN5bGluZGVyKGhhbGZIZWlnaHQsIHJhZGl1cywgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmSGVpZ2h0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgY29uZShoYWxmSGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jb25lKGhhbGZIZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZkhlaWdodFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGJvcmRlclJhZGl1c1xuICAgICogQHJldHVybnMge1Jhd1NoYXBlfVxuICAgICovXG4gICAgc3RhdGljIHJvdW5kQ29uZShoYWxmSGVpZ2h0LCByYWRpdXMsIGJvcmRlclJhZGl1cykge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX3JvdW5kQ29uZShoYWxmSGVpZ2h0LCByYWRpdXMsIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXNcbiAgICAqIEBwYXJhbSB7VWludDMyQXJyYXl9IGluZGljZXNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyBwb2x5bGluZSh2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc0FycmF5RjMyVG9XYXNtMCh2ZXJ0aWNlcywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHB0cjEgPSBwYXNzQXJyYXkzMlRvV2FzbTAoaW5kaWNlcywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjEgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfcG9seWxpbmUocHRyMCwgbGVuMCwgcHRyMSwgbGVuMSk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXNcbiAgICAqIEBwYXJhbSB7VWludDMyQXJyYXl9IGluZGljZXNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyB0cmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKSB7XG4gICAgICAgIGNvbnN0IHB0cjAgPSBwYXNzQXJyYXlGMzJUb1dhc20wKHZlcnRpY2VzLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgY29uc3QgcHRyMSA9IHBhc3NBcnJheTMyVG9XYXNtMChpbmRpY2VzLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMSA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV90cmltZXNoKHB0cjAsIGxlbjAsIHB0cjEsIGxlbjEpO1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtudW1iZXJ9IG5yb3dzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbmNvbHNcbiAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBoZWlnaHRzXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2NhbGVcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyBoZWlnaHRmaWVsZChucm93cywgbmNvbHMsIGhlaWdodHMsIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHB0cjAgPSBwYXNzQXJyYXlGMzJUb1dhc20wKGhlaWdodHMsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2NhbGUsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfaGVpZ2h0ZmllbGQobnJvd3MsIG5jb2xzLCBwdHIwLCBsZW4wLCBzY2FsZS5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3U2hhcGUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHAxXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcDJcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyBzZWdtZW50KHAxLCBwMikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocDEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9zZWdtZW50KHAxLnB0ciwgcDIucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwMVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHAyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcDNcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZX1cbiAgICAqL1xuICAgIHN0YXRpYyB0cmlhbmdsZShwMSwgcDIsIHAzKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwMSwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHAyLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocDMsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfdHJpYW5nbGUocDEucHRyLCBwMi5wdHIsIHAzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcDFcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBwMlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHAzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYm9yZGVyUmFkaXVzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGV9XG4gICAgKi9cbiAgICBzdGF0aWMgcm91bmRUcmlhbmdsZShwMSwgcDIsIHAzLCBib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHAxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocDIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwMywgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9yb3VuZFRyaWFuZ2xlKHAxLnB0ciwgcDIucHRyLCBwMy5wdHIsIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIHJldHVybiBSYXdTaGFwZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gcG9pbnRzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGUgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzdGF0aWMgY29udmV4SHVsbChwb2ludHMpIHtcbiAgICAgICAgY29uc3QgcHRyMCA9IHBhc3NBcnJheUYzMlRvV2FzbTAocG9pbnRzLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jb252ZXhIdWxsKHB0cjAsIGxlbjApO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3U2hhcGUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHBvaW50c1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGJvcmRlclJhZGl1c1xuICAgICogQHJldHVybnMge1Jhd1NoYXBlIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgc3RhdGljIHJvdW5kQ29udmV4SHVsbChwb2ludHMsIGJvcmRlclJhZGl1cykge1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc0FycmF5RjMyVG9XYXNtMChwb2ludHMsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX3JvdW5kQ29udmV4SHVsbChwdHIwLCBsZW4wLCBib3JkZXJSYWRpdXMpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3U2hhcGUuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzXG4gICAgKiBAcGFyYW0ge1VpbnQzMkFycmF5fSBpbmRpY2VzXG4gICAgKiBAcmV0dXJucyB7UmF3U2hhcGUgfCB1bmRlZmluZWR9XG4gICAgKi9cbiAgICBzdGF0aWMgY29udmV4TWVzaCh2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc0FycmF5RjMyVG9XYXNtMCh2ZXJ0aWNlcywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHB0cjEgPSBwYXNzQXJyYXkzMlRvV2FzbTAoaW5kaWNlcywgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjEgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfY29udmV4TWVzaChwdHIwLCBsZW4wLCBwdHIxLCBsZW4xKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlc1xuICAgICogQHBhcmFtIHtVaW50MzJBcnJheX0gaW5kaWNlc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGJvcmRlclJhZGl1c1xuICAgICogQHJldHVybnMge1Jhd1NoYXBlIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgc3RhdGljIHJvdW5kQ29udmV4TWVzaCh2ZXJ0aWNlcywgaW5kaWNlcywgYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHB0cjAgPSBwYXNzQXJyYXlGMzJUb1dhc20wKHZlcnRpY2VzLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgY29uc3QgcHRyMSA9IHBhc3NBcnJheTMyVG9XYXNtMChpbmRpY2VzLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMSA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9yb3VuZENvbnZleE1lc2gocHRyMCwgbGVuMCwgcHRyMSwgbGVuMSwgYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvczFcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHNoYXBlUm90MVxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlVmVsMVxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGUyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3MyXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdDJcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVZlbDJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb2lcbiAgICAqIEByZXR1cm5zIHtSYXdTaGFwZVRPSSB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNhc3RTaGFwZShzaGFwZVBvczEsIHNoYXBlUm90MSwgc2hhcGVWZWwxLCBzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyLCBzaGFwZVZlbDIsIG1heFRvaSkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QxLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVZlbDEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZTIsIFJhd1NoYXBlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUG9zMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUm90MiwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVWZWwyLCBSYXdWZWN0b3IpO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2Nhc3RTaGFwZSh0aGlzLnB0ciwgc2hhcGVQb3MxLnB0ciwgc2hhcGVSb3QxLnB0ciwgc2hhcGVWZWwxLnB0ciwgc2hhcGUyLnB0ciwgc2hhcGVQb3MyLnB0ciwgc2hhcGVSb3QyLnB0ciwgc2hhcGVWZWwyLnB0ciwgbWF4VG9pKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMCA/IHVuZGVmaW5lZCA6IFJhd1NoYXBlVE9JLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvczFcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHNoYXBlUm90MVxuICAgICogQHBhcmFtIHtSYXdTaGFwZX0gc2hhcGUyXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3MyXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdDJcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgaW50ZXJzZWN0c1NoYXBlKHNoYXBlUG9zMSwgc2hhcGVSb3QxLCBzaGFwZTIsIHNoYXBlUG9zMiwgc2hhcGVSb3QyKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvczEsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdDEsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlMiwgUmF3U2hhcGUpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MyLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QyLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfaW50ZXJzZWN0c1NoYXBlKHRoaXMucHRyLCBzaGFwZVBvczEucHRyLCBzaGFwZVJvdDEucHRyLCBzaGFwZTIucHRyLCBzaGFwZVBvczIucHRyLCBzaGFwZVJvdDIucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3MxXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdDFcbiAgICAqIEBwYXJhbSB7UmF3U2hhcGV9IHNoYXBlMlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zMlxuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3QyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcHJlZGljdGlvblxuICAgICogQHJldHVybnMge1Jhd1NoYXBlQ29udGFjdCB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGNvbnRhY3RTaGFwZShzaGFwZVBvczEsIHNoYXBlUm90MSwgc2hhcGUyLCBzaGFwZVBvczIsIHNoYXBlUm90MiwgcHJlZGljdGlvbikge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MxLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QxLCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZTIsIFJhd1NoYXBlKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUG9zMiwgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUm90MiwgUmF3Um90YXRpb24pO1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3NoYXBlX2NvbnRhY3RTaGFwZSh0aGlzLnB0ciwgc2hhcGVQb3MxLnB0ciwgc2hhcGVSb3QxLnB0ciwgc2hhcGUyLnB0ciwgc2hhcGVQb3MyLnB0ciwgc2hhcGVSb3QyLnB0ciwgcHJlZGljdGlvbik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDAgPyB1bmRlZmluZWQgOiBSYXdTaGFwZUNvbnRhY3QuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQoc2hhcGVQb3MsIHNoYXBlUm90LCBwb2ludCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocG9pbnQsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfY29udGFpbnNQb2ludCh0aGlzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHBvaW50LnB0cik7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHNoYXBlUG9zXG4gICAgKiBAcGFyYW0ge1Jhd1JvdGF0aW9ufSBzaGFwZVJvdFxuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHBvaW50XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7UmF3UG9pbnRQcm9qZWN0aW9ufVxuICAgICovXG4gICAgcHJvamVjdFBvaW50KHNoYXBlUG9zLCBzaGFwZVJvdCwgcG9pbnQsIHNvbGlkKSB7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVBvcywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUm90LCBSYXdSb3RhdGlvbik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhwb2ludCwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9wcm9qZWN0UG9pbnQodGhpcy5wdHIsIHNoYXBlUG9zLnB0ciwgc2hhcGVSb3QucHRyLCBwb2ludC5wdHIsIHNvbGlkKTtcbiAgICAgICAgcmV0dXJuIFJhd1BvaW50UHJvamVjdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gc2hhcGVQb3NcbiAgICAqIEBwYXJhbSB7UmF3Um90YXRpb259IHNoYXBlUm90XG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5T3JpZ1xuICAgICogQHBhcmFtIHtSYXdWZWN0b3J9IHJheURpclxuICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRvaVxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBpbnRlcnNlY3RzUmF5KHNoYXBlUG9zLCBzaGFwZVJvdCwgcmF5T3JpZywgcmF5RGlyLCBtYXhUb2kpIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKHNoYXBlUG9zLCBSYXdWZWN0b3IpO1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVSb3QsIFJhd1JvdGF0aW9uKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheU9yaWcsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhyYXlEaXIsIFJhd1ZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVfaW50ZXJzZWN0c1JheSh0aGlzLnB0ciwgc2hhcGVQb3MucHRyLCBzaGFwZVJvdC5wdHIsIHJheU9yaWcucHRyLCByYXlEaXIucHRyLCBtYXhUb2kpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvc1xuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3RcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlPcmlnXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5RGlyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY2FzdFJheShzaGFwZVBvcywgc2hhcGVSb3QsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5T3JpZywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jYXN0UmF5KHRoaXMucHRyLCBzaGFwZVBvcy5wdHIsIHNoYXBlUm90LnB0ciwgcmF5T3JpZy5wdHIsIHJheURpci5wdHIsIG1heFRvaSwgc29saWQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSBzaGFwZVBvc1xuICAgICogQHBhcmFtIHtSYXdSb3RhdGlvbn0gc2hhcGVSb3RcbiAgICAqIEBwYXJhbSB7UmF3VmVjdG9yfSByYXlPcmlnXG4gICAgKiBAcGFyYW0ge1Jhd1ZlY3Rvcn0gcmF5RGlyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG9pXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNvbGlkXG4gICAgKiBAcmV0dXJucyB7UmF3UmF5SW50ZXJzZWN0aW9uIHwgdW5kZWZpbmVkfVxuICAgICovXG4gICAgY2FzdFJheUFuZEdldE5vcm1hbChzaGFwZVBvcywgc2hhcGVSb3QsIHJheU9yaWcsIHJheURpciwgbWF4VG9pLCBzb2xpZCkge1xuICAgICAgICBfYXNzZXJ0Q2xhc3Moc2hhcGVQb3MsIFJhd1ZlY3Rvcik7XG4gICAgICAgIF9hc3NlcnRDbGFzcyhzaGFwZVJvdCwgUmF3Um90YXRpb24pO1xuICAgICAgICBfYXNzZXJ0Q2xhc3MocmF5T3JpZywgUmF3VmVjdG9yKTtcbiAgICAgICAgX2Fzc2VydENsYXNzKHJheURpciwgUmF3VmVjdG9yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZV9jYXN0UmF5QW5kR2V0Tm9ybWFsKHRoaXMucHRyLCBzaGFwZVBvcy5wdHIsIHNoYXBlUm90LnB0ciwgcmF5T3JpZy5wdHIsIHJheURpci5wdHIsIG1heFRvaSwgc29saWQpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAwID8gdW5kZWZpbmVkIDogUmF3UmF5SW50ZXJzZWN0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdTaGFwZUNvbGxpZGVyVE9JIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoUmF3U2hhcGVDb2xsaWRlclRPSS5wcm90b3R5cGUpO1xuICAgICAgICBvYmoucHRyID0gcHRyO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xuXG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcbiAgICAgICAgd2FzbS5fX3diZ19yYXdzaGFwZWNvbGxpZGVydG9pX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29sbGlkZXJIYW5kbGUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cG9pbnRjb2xsaWRlcnByb2plY3Rpb25fY29sbGlkZXJIYW5kbGUodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICB0b2koKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmF5Y29sbGlkZXJpbnRlcnNlY3Rpb25fdG9pKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgd2l0bmVzczEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3cmF5Y29sbGlkZXJpbnRlcnNlY3Rpb25fbm9ybWFsKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgd2l0bmVzczIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb2xsaWRlcnRvaV93aXRuZXNzMih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIG5vcm1hbDEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb2xsaWRlcnRvaV9ub3JtYWwxKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbm9ybWFsMigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZWNvbGxpZGVydG9pX25vcm1hbDIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdTaGFwZUNvbnRhY3Qge1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdTaGFwZUNvbnRhY3QucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3c2hhcGVjb250YWN0X2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZGlzdGFuY2UoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb250YWN0X2Rpc3RhbmNlKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgcG9pbnQxKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3BvaW50cHJvamVjdGlvbl9wb2ludCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHBvaW50MigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZWNvbnRhY3RfcG9pbnQyKHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIFJhd1ZlY3Rvci5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7UmF3VmVjdG9yfVxuICAgICovXG4gICAgbm9ybWFsMSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZWNvbnRhY3Rfbm9ybWFsMSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIG5vcm1hbDIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGVjb250YWN0X25vcm1hbDIodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbn1cbi8qKlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdTaGFwZVRPSSB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKFJhd1NoYXBlVE9JLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5wdHIgPSBwdHI7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xuICAgICAgICB0aGlzLnB0ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX3Jhd3NoYXBldG9pX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgdG9pKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19kdCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIHdpdG5lc3MxKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3JheWludGVyc2VjdGlvbl9ub3JtYWwodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB3aXRuZXNzMigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdzaGFwZXRvaV93aXRuZXNzMih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIG5vcm1hbDEoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGV0b2lfbm9ybWFsMSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQHJldHVybnMge1Jhd1ZlY3Rvcn1cbiAgICAqL1xuICAgIG5vcm1hbDIoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3c2hhcGV0b2lfbm9ybWFsMih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxufVxuLyoqXG4qIEEgdmVjdG9yLlxuKi9cbmV4cG9ydCBjbGFzcyBSYXdWZWN0b3Ige1xuXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShSYXdWZWN0b3IucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XG4gICAgICAgIHRoaXMucHRyID0gMDtcblxuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193YmdfcmF3dmVjdG9yX2ZyZWUocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBDcmVhdGVzIGEgbmV3IHZlY3RvciBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICBzdGF0aWMgemVybygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXd2ZWN0b3JfemVybygpO1xuICAgICAgICByZXR1cm4gUmF3VmVjdG9yLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIENyZWF0ZXMgYSBuZXcgM0QgdmVjdG9yIGZyb20gaXRzIHR3byBjb21wb25lbnRzLlxuICAgICpcbiAgICAqICMgUGFyYW1ldGVyc1xuICAgICogLSBgeGA6IHRoZSBgeGAgY29tcG9uZW50IG9mIHRoaXMgM0QgdmVjdG9yLlxuICAgICogLSBgeWA6IHRoZSBgeWAgY29tcG9uZW50IG9mIHRoaXMgM0QgdmVjdG9yLlxuICAgICogLSBgemA6IHRoZSBgemAgY29tcG9uZW50IG9mIHRoaXMgM0QgdmVjdG9yLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICovXG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd3ZlY3Rvcl9uZXcoeCwgeSwgeik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIGB4YCBjb21wb25lbnQgb2YgdGhpcyB2ZWN0b3IuXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3aW50ZWdyYXRpb25wYXJhbWV0ZXJzX2R0KHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSBgeGAgY29tcG9uZW50IG9mIHRoaXMgdmVjdG9yLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAqL1xuICAgIHNldCB4KHgpIHtcbiAgICAgICAgd2FzbS5yYXdpbnRlZ3JhdGlvbnBhcmFtZXRlcnNfc2V0X2R0KHRoaXMucHRyLCB4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBUaGUgYHlgIGNvbXBvbmVudCBvZiB0aGlzIHZlY3Rvci5cbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5yYXdyb3RhdGlvbl95KHRoaXMucHRyKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSBgeWAgY29tcG9uZW50IG9mIHRoaXMgdmVjdG9yLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAqL1xuICAgIHNldCB5KHkpIHtcbiAgICAgICAgd2FzbS5yYXd2ZWN0b3Jfc2V0X3kodGhpcy5wdHIsIHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBgemAgY29tcG9uZW50IG9mIHRoaXMgdmVjdG9yLlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIGdldCB6KCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19lcnAodGhpcy5wdHIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIGB6YCBjb21wb25lbnQgb2YgdGhpcyB2ZWN0b3IuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICovXG4gICAgc2V0IHooeikge1xuICAgICAgICB3YXNtLnJhd2ludGVncmF0aW9ucGFyYW1ldGVyc19zZXRfZXJwKHRoaXMucHRyLCB6KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBDcmVhdGUgYSBuZXcgM0QgdmVjdG9yIGZyb20gdGhpcyB2ZWN0b3Igd2l0aCBpdHMgY29tcG9uZW50cyByZWFycmFuZ2VkIGFzIGB7eCwgeSwgen1gLlxuICAgICpcbiAgICAqIFRoaXMgd2lsbCBlZmZlY3RpdmVseSByZXR1cm4gYSBjb3B5IG9mIGB0aGlzYC4gVGhpcyBtZXRob2QgZXhpc3QgZm9yIGNvbXBsZXRlbmVzcyB3aXRoIHRoZVxuICAgICogb3RoZXIgc3dpenpsaW5nIGZ1bmN0aW9ucy5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB4eXooKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3dmVjdG9yX3h5eih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IDNEIHZlY3RvciBmcm9tIHRoaXMgdmVjdG9yIHdpdGggaXRzIGNvbXBvbmVudHMgcmVhcnJhbmdlZCBhcyBge3ksIHgsIHp9YC5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB5eHooKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3dmVjdG9yX3l4eih0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IDNEIHZlY3RvciBmcm9tIHRoaXMgdmVjdG9yIHdpdGggaXRzIGNvbXBvbmVudHMgcmVhcnJhbmdlZCBhcyBge3osIHgsIHl9YC5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB6eHkoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3dmVjdG9yX3p4eSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IDNEIHZlY3RvciBmcm9tIHRoaXMgdmVjdG9yIHdpdGggaXRzIGNvbXBvbmVudHMgcmVhcnJhbmdlZCBhcyBge3gsIHosIHl9YC5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB4enkoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3dmVjdG9yX3h6eSh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IDNEIHZlY3RvciBmcm9tIHRoaXMgdmVjdG9yIHdpdGggaXRzIGNvbXBvbmVudHMgcmVhcnJhbmdlZCBhcyBge3ksIHosIHh9YC5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB5engoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3dmVjdG9yX3l6eCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IDNEIHZlY3RvciBmcm9tIHRoaXMgdmVjdG9yIHdpdGggaXRzIGNvbXBvbmVudHMgcmVhcnJhbmdlZCBhcyBge3osIHksIHh9YC5cbiAgICAqIEByZXR1cm5zIHtSYXdWZWN0b3J9XG4gICAgKi9cbiAgICB6eXgoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ucmF3dmVjdG9yX3p5eCh0aGlzLnB0cik7XG4gICAgICAgIHJldHVybiBSYXdWZWN0b3IuX193cmFwKHJldCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl9vYmplY3RfZHJvcF9yZWYoYXJnMCkge1xuICAgIHRha2VPYmplY3QoYXJnMCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl9udW1iZXJfbmV3KGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBhcmcwO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl9udW1iZXJfZ2V0KGFyZzAsIGFyZzEpIHtcbiAgICBjb25zdCBvYmogPSBnZXRPYmplY3QoYXJnMSk7XG4gICAgY29uc3QgcmV0ID0gdHlwZW9mKG9iaikgPT09ICdudW1iZXInID8gb2JqIDogdW5kZWZpbmVkO1xuICAgIGdldEZsb2F0NjRNZW1vcnkwKClbYXJnMCAvIDggKyAxXSA9IGlzTGlrZU5vbmUocmV0KSA/IDAgOiByZXQ7XG4gICAgZ2V0SW50MzJNZW1vcnkwKClbYXJnMCAvIDQgKyAwXSA9ICFpc0xpa2VOb25lKHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl9ib29sZWFuX2dldChhcmcwKSB7XG4gICAgY29uc3QgdiA9IGdldE9iamVjdChhcmcwKTtcbiAgICBjb25zdCByZXQgPSB0eXBlb2YodikgPT09ICdib29sZWFuJyA/ICh2ID8gMSA6IDApIDogMjtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX3Jhd3JheWNvbGxpZGVyaW50ZXJzZWN0aW9uX25ldyhhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gUmF3UmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24uX193cmFwKGFyZzApO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl9pc19mdW5jdGlvbihhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gdHlwZW9mKGdldE9iamVjdChhcmcwKSkgPT09ICdmdW5jdGlvbic7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19jYWxsXzNlZDI4OGEyNDdmMTNlYTUoKSB7IHJldHVybiBoYW5kbGVFcnJvcihmdW5jdGlvbiAoYXJnMCwgYXJnMSwgYXJnMikge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5jYWxsKGdldE9iamVjdChhcmcxKSwgZ2V0T2JqZWN0KGFyZzIpKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufSwgYXJndW1lbnRzKSB9O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfY2FsbF9hMTlkMzE3M2YzZTFkM2M1KCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuY2FsbChnZXRPYmplY3QoYXJnMSksIGdldE9iamVjdChhcmcyKSwgZ2V0T2JqZWN0KGFyZzMpKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufSwgYXJndW1lbnRzKSB9O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfY2FsbF82ZWQ3MTIxY2ZiNDJjZmVkKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuY2FsbChnZXRPYmplY3QoYXJnMSksIGdldE9iamVjdChhcmcyKSwgZ2V0T2JqZWN0KGFyZzMpLCBnZXRPYmplY3QoYXJnNCkpO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59LCBhcmd1bWVudHMpIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19iaW5kX2MwOWExNjQxYzE1ODBjMDcoYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5iaW5kKGdldE9iamVjdChhcmcxKSwgZ2V0T2JqZWN0KGFyZzIpLCBnZXRPYmplY3QoYXJnMykpO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfYnVmZmVyXzdhZjIzZjY1ZjZjNjQ1NDgoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5idWZmZXI7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19uZXd3aXRoYnl0ZW9mZnNldGFuZGxlbmd0aF9jZTFlNzVmMGNlNWY3OTc0KGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICBjb25zdCByZXQgPSBuZXcgVWludDhBcnJheShnZXRPYmplY3QoYXJnMCksIGFyZzEgPj4+IDAsIGFyZzIgPj4+IDApO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfbmV3X2NjOTAxOGJkNmYyODNiNmYoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IG5ldyBVaW50OEFycmF5KGdldE9iamVjdChhcmcwKSk7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19zZXRfZjI1ZTg2OWU0NTY1ZDJhMihhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgZ2V0T2JqZWN0KGFyZzApLnNldChnZXRPYmplY3QoYXJnMSksIGFyZzIgPj4+IDApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX2xlbmd0aF8wYWNiMWNmOWJiYWY4NTE5KGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkubGVuZ3RoO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfbmV3d2l0aGJ5dGVvZmZzZXRhbmRsZW5ndGhfM2Y1NTQ5NzhkODc5M2IxNChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgY29uc3QgcmV0ID0gbmV3IEZsb2F0MzJBcnJheShnZXRPYmplY3QoYXJnMCksIGFyZzEgPj4+IDAsIGFyZzIgPj4+IDApO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193Ymdfc2V0XzlhOTYwNGM2ODg4ZjY0NjgoYXJnMCwgYXJnMSwgYXJnMikge1xuICAgIGdldE9iamVjdChhcmcwKS5zZXQoZ2V0T2JqZWN0KGFyZzEpLCBhcmcyID4+PiAwKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19sZW5ndGhfMzcxY2MxYzkyYWE4ZmVhZShhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmxlbmd0aDtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX25ld3dpdGhsZW5ndGhfZTUzODI1OGNiMmE2YmFkMChhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gbmV3IEZsb2F0MzJBcnJheShhcmcwID4+PiAwKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fdGhyb3coYXJnMCwgYXJnMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fbWVtb3J5KCkge1xuICAgIGNvbnN0IHJldCA9IHdhc20ubWVtb3J5O1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG4iXSwibmFtZXMiOlsiQ29hcmVuYSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImZjb252IiwiRmxvYXQ2NEFycmF5IiwidWNvbnYiLCJVaW50MzJBcnJheSIsImJ1ZmZlciIsImRhdGEiLCJBcnJheSIsInNpemUiLCJzZXQiLCJoYW5kbGUiLCJpIiwiaW5kZXgiLCJsZW5ndGgiLCJwdXNoIiwibGVuIiwiZGVsZXRlIiwiY2xlYXIiLCJnZXQiLCJmb3JFYWNoIiwiZiIsImVsdCIsImdldEFsbCIsImZpbHRlciIsIkNDRFNvbHZlciIsInJhdyIsImZyZWUiLCJ1bmRlZmluZWQiLCJDb2VmZmljaWVudENvbWJpbmVSdWxlIiwiSm9pbnRUeXBlIiwiTW90b3JNb2RlbCIsIkltcHVsc2VKb2ludCIsInJhd1NldCIsImJvZHlTZXQiLCJzdGF0aWMiLCJqb2ludFR5cGUiLCJSZXZvbHV0ZSIsIlJldm9sdXRlSW1wdWxzZUpvaW50IiwiUHJpc21hdGljIiwiUHJpc21hdGljSW1wdWxzZUpvaW50IiwiRml4ZWQiLCJGaXhlZEltcHVsc2VKb2ludCIsIlNwaGVyaWNhbCIsIlNwaGVyaWNhbEltcHVsc2VKb2ludCIsImZpbmFsaXplRGVzZXJpYWxpemF0aW9uIiwiaXNWYWxpZCIsImNvbnRhaW5zIiwiYm9keTEiLCJqb2ludEJvZHlIYW5kbGUxIiwiYm9keTIiLCJqb2ludEJvZHlIYW5kbGUyIiwidHlwZSIsImZyYW1lWDEiLCJqb2ludEZyYW1lWDEiLCJmcmFtZVgyIiwiam9pbnRGcmFtZVgyIiwiYW5jaG9yMSIsImpvaW50QW5jaG9yMSIsImFuY2hvcjIiLCJqb2ludEFuY2hvcjIiLCJVbml0SW1wdWxzZUpvaW50IiwibGltaXRzRW5hYmxlZCIsImpvaW50TGltaXRzRW5hYmxlZCIsInJhd0F4aXMiLCJsaW1pdHNNaW4iLCJqb2ludExpbWl0c01pbiIsImxpbWl0c01heCIsImpvaW50TGltaXRzTWF4IiwiY29uZmlndXJlTW90b3JNb2RlbCIsIm1vZGVsIiwiam9pbnRDb25maWd1cmVNb3Rvck1vZGVsIiwiY29uZmlndXJlTW90b3JWZWxvY2l0eSIsInRhcmdldFZlbCIsImZhY3RvciIsImpvaW50Q29uZmlndXJlTW90b3JWZWxvY2l0eSIsImNvbmZpZ3VyZU1vdG9yUG9zaXRpb24iLCJ0YXJnZXRQb3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwiam9pbnRDb25maWd1cmVNb3RvclBvc2l0aW9uIiwiY29uZmlndXJlTW90b3IiLCJqb2ludENvbmZpZ3VyZU1vdG9yIiwiSm9pbnREYXRhIiwiZnJhbWUxIiwiZnJhbWUyIiwicmVzIiwiYXhpcyIsImludG9SYXciLCJyYXdBeCIsInJlc3VsdCIsInJhd0ExIiwicmF3QTIiLCJyYXdGcmExIiwicmF3RnJhMiIsImxpbWl0cyIsIkltcHVsc2VKb2ludFNldCIsIm1hcCIsImZvckVhY2hKb2ludEhhbmRsZSIsImJvZGllcyIsImpvaW50IiwiY3JlYXRlSm9pbnQiLCJkZXNjIiwicGFyZW50MSIsInBhcmVudDIiLCJ3YWtlVXAiLCJyYXdQYXJhbXMiLCJyZW1vdmUiLCJ1bm1hcCIsImZvckVhY2hKb2ludEhhbmRsZUF0dGFjaGVkVG9SaWdpZEJvZHkiLCJmb3JFYWNoSm9pbnRBdHRhY2hlZFRvUmlnaWRCb2R5IiwiSW50ZWdyYXRpb25QYXJhbWV0ZXJzIiwiZHQiLCJlcnAiLCJhbGxvd2VkTGluZWFyRXJyb3IiLCJwcmVkaWN0aW9uRGlzdGFuY2UiLCJtYXhWZWxvY2l0eUl0ZXJhdGlvbnMiLCJtYXhWZWxvY2l0eUZyaWN0aW9uSXRlcmF0aW9ucyIsIm1heFN0YWJpbGl6YXRpb25JdGVyYXRpb25zIiwibWluSXNsYW5kU2l6ZSIsIm1heENjZFN1YnN0ZXBzIiwidmFsdWUiLCJJc2xhbmRNYW5hZ2VyIiwiZm9yRWFjaEFjdGl2ZVJpZ2lkQm9keUhhbmRsZSIsIk11bHRpYm9keUpvaW50IiwiUmV2b2x1dGVNdWx0aWJvZHlKb2ludCIsIlByaXNtYXRpY011bHRpYm9keUpvaW50IiwiRml4ZWRNdWx0aWJvZHlKb2ludCIsIlNwaGVyaWNhbE11bHRpYm9keUpvaW50IiwiVW5pdE11bHRpYm9keUpvaW50IiwiTXVsdGlib2R5Sm9pbnRTZXQiLCJ3YWtlX3VwIiwiUmlnaWRCb2R5VHlwZSIsIlJpZ2lkQm9keSIsImNvbGxpZGVyU2V0IiwibG9ja1RyYW5zbGF0aW9ucyIsImxvY2tlZCIsInJiTG9ja1RyYW5zbGF0aW9ucyIsImxvY2tSb3RhdGlvbnMiLCJyYkxvY2tSb3RhdGlvbnMiLCJyZXN0cmljdFRyYW5zbGF0aW9ucyIsImVuYWJsZVgiLCJlbmFibGVZIiwiZW5hYmxlWiIsInJiUmVzdHJpY3RUcmFuc2xhdGlvbnMiLCJyZXN0cmljdFJvdGF0aW9ucyIsInJiUmVzdHJpY3RSb3RhdGlvbnMiLCJkb21pbmFuY2VHcm91cCIsInJiRG9taW5hbmNlR3JvdXAiLCJzZXREb21pbmFuY2VHcm91cCIsImdyb3VwIiwicmJTZXREb21pbmFuY2VHcm91cCIsImVuYWJsZUNjZCIsImVuYWJsZWQiLCJyYkVuYWJsZUNjZCIsInRyYW5zbGF0aW9uIiwicmJUcmFuc2xhdGlvbiIsInJvdGF0aW9uIiwicmJSb3RhdGlvbiIsIm5leHRUcmFuc2xhdGlvbiIsInJiTmV4dFRyYW5zbGF0aW9uIiwibmV4dFJvdGF0aW9uIiwicmJOZXh0Um90YXRpb24iLCJzZXRUcmFuc2xhdGlvbiIsInRyYSIsInJiU2V0VHJhbnNsYXRpb24iLCJ4IiwieSIsInoiLCJzZXRMaW52ZWwiLCJ2ZWwiLCJyYXdWZWwiLCJyYlNldExpbnZlbCIsImdyYXZpdHlTY2FsZSIsInJiR3Jhdml0eVNjYWxlIiwic2V0R3Jhdml0eVNjYWxlIiwicmJTZXRHcmF2aXR5U2NhbGUiLCJzZXRSb3RhdGlvbiIsInJvdCIsInJiU2V0Um90YXRpb24iLCJ3Iiwic2V0QW5ndmVsIiwicmJTZXRBbmd2ZWwiLCJzZXROZXh0S2luZW1hdGljVHJhbnNsYXRpb24iLCJ0IiwicmJTZXROZXh0S2luZW1hdGljVHJhbnNsYXRpb24iLCJzZXROZXh0S2luZW1hdGljUm90YXRpb24iLCJyYlNldE5leHRLaW5lbWF0aWNSb3RhdGlvbiIsImxpbnZlbCIsInJiTGludmVsIiwiYW5ndmVsIiwicmJBbmd2ZWwiLCJtYXNzIiwicmJNYXNzIiwic2xlZXAiLCJyYlNsZWVwIiwicmJXYWtlVXAiLCJpc0NjZEVuYWJsZWQiLCJyYklzQ2NkRW5hYmxlZCIsIm51bUNvbGxpZGVycyIsInJiTnVtQ29sbGlkZXJzIiwiY29sbGlkZXIiLCJyYkNvbGxpZGVyIiwiYm9keVR5cGUiLCJyYkJvZHlUeXBlIiwic2V0Qm9keVR5cGUiLCJyYlNldEJvZHlUeXBlIiwiaXNTbGVlcGluZyIsInJiSXNTbGVlcGluZyIsImlzTW92aW5nIiwicmJJc01vdmluZyIsImlzRml4ZWQiLCJyYklzRml4ZWQiLCJpc0tpbmVtYXRpYyIsInJiSXNLaW5lbWF0aWMiLCJpc0R5bmFtaWMiLCJyYklzRHluYW1pYyIsImxpbmVhckRhbXBpbmciLCJyYkxpbmVhckRhbXBpbmciLCJhbmd1bGFyRGFtcGluZyIsInJiQW5ndWxhckRhbXBpbmciLCJzZXRMaW5lYXJEYW1waW5nIiwicmJTZXRMaW5lYXJEYW1waW5nIiwic2V0QW5ndWxhckRhbXBpbmciLCJyYlNldEFuZ3VsYXJEYW1waW5nIiwicmVzZXRGb3JjZXMiLCJyYlJlc2V0Rm9yY2VzIiwicmVzZXRUb3JxdWVzIiwicmJSZXNldFRvcnF1ZXMiLCJhZGRGb3JjZSIsImZvcmNlIiwicmF3Rm9yY2UiLCJyYkFkZEZvcmNlIiwiYXBwbHlJbXB1bHNlIiwiaW1wdWxzZSIsInJhd0ltcHVsc2UiLCJyYkFwcGx5SW1wdWxzZSIsImFkZFRvcnF1ZSIsInRvcnF1ZSIsInJhd1RvcnF1ZSIsInJiQWRkVG9ycXVlIiwiYXBwbHlUb3JxdWVJbXB1bHNlIiwidG9ycXVlSW1wdWxzZSIsInJhd1RvcnF1ZUltcHVsc2UiLCJyYkFwcGx5VG9ycXVlSW1wdWxzZSIsImFkZEZvcmNlQXRQb2ludCIsInBvaW50IiwicmF3UG9pbnQiLCJyYkFkZEZvcmNlQXRQb2ludCIsImFwcGx5SW1wdWxzZUF0UG9pbnQiLCJyYkFwcGx5SW1wdWxzZUF0UG9pbnQiLCJSaWdpZEJvZHlEZXNjIiwic3RhdHVzIiwiY2VudGVyT2ZNYXNzIiwidHJhbnNsYXRpb25zRW5hYmxlZFgiLCJ0cmFuc2xhdGlvbnNFbmFibGVkWSIsInByaW5jaXBhbEFuZ3VsYXJJbmVydGlhIiwiYW5ndWxhckluZXJ0aWFMb2NhbEZyYW1lIiwidHJhbnNsYXRpb25zRW5hYmxlZFoiLCJyb3RhdGlvbnNFbmFibGVkWCIsInJvdGF0aW9uc0VuYWJsZWRZIiwicm90YXRpb25zRW5hYmxlZFoiLCJjYW5TbGVlcCIsInNsZWVwaW5nIiwiY2NkRW5hYmxlZCIsIkR5bmFtaWMiLCJLaW5lbWF0aWNQb3NpdGlvbkJhc2VkIiwiS2luZW1hdGljVmVsb2NpdHlCYXNlZCIsIlR5cGVFcnJvciIsInNjYWxlIiwic2V0QWRkaXRpb25hbE1hc3MiLCJzZXRBZGRpdGlvbmFsTWFzc1Byb3BlcnRpZXMiLCJzZXRBZGRpdGlvbmFsUHJpbmNpcGFsQW5ndWxhckluZXJ0aWEiLCJzZXRDYW5TbGVlcCIsImNhbiIsInNldFNsZWVwaW5nIiwic2V0Q2NkRW5hYmxlZCIsInNldFVzZXJEYXRhIiwidXNlckRhdGEiLCJSaWdpZEJvZHlTZXQiLCJmb3JFYWNoUmlnaWRCb2R5SGFuZGxlIiwicmIiLCJjcmVhdGVSaWdpZEJvZHkiLCJyYXdUcmEiLCJyYXdSb3QiLCJyYXdMdiIsInJhd0NvbSIsInJhd0F2IiwicmF3UHJpbmNpcGFsSW5lcnRpYSIsInJhd0luZXJ0aWFGcmFtZSIsImJvZHkiLCJpc2xhbmRzIiwiY29sbGlkZXJzIiwiaW1wdWxzZUpvaW50cyIsIm11bHRpYm9keUpvaW50cyIsImZvckVhY2hBY3RpdmVSaWdpZEJvZHkiLCJ2ZXJzaW9uIiwiQnJvYWRQaGFzZSIsIkFjdGl2ZUNvbGxpc2lvblR5cGVzIiwiQ29sbGlkZXIiLCJwYXJlbnQiLCJzaGFwZSIsIl9wYXJlbnQiLCJfc2hhcGUiLCJjb1BhcmVudCIsImVuc3VyZVNoYXBlSXNDYWNoZWQiLCJjb1RyYW5zbGF0aW9uIiwiY29Sb3RhdGlvbiIsImlzU2Vuc29yIiwiY29Jc1NlbnNvciIsInNldFNlbnNvciIsImNvU2V0U2Vuc29yIiwic2V0U2hhcGUiLCJyYXdTaGFwZSIsImNvU2V0U2hhcGUiLCJzZXRSZXN0aXR1dGlvbiIsInJlc3RpdHV0aW9uIiwiY29TZXRSZXN0aXR1dGlvbiIsInNldEZyaWN0aW9uIiwiZnJpY3Rpb24iLCJjb1NldEZyaWN0aW9uIiwiZnJpY3Rpb25Db21iaW5lUnVsZSIsImNvRnJpY3Rpb25Db21iaW5lUnVsZSIsInNldEZyaWN0aW9uQ29tYmluZVJ1bGUiLCJydWxlIiwiY29TZXRGcmljdGlvbkNvbWJpbmVSdWxlIiwicmVzdGl0dXRpb25Db21iaW5lUnVsZSIsImNvUmVzdGl0dXRpb25Db21iaW5lUnVsZSIsInNldFJlc3RpdHV0aW9uQ29tYmluZVJ1bGUiLCJjb1NldFJlc3RpdHV0aW9uQ29tYmluZVJ1bGUiLCJzZXRDb2xsaXNpb25Hcm91cHMiLCJncm91cHMiLCJjb1NldENvbGxpc2lvbkdyb3VwcyIsInNldFNvbHZlckdyb3VwcyIsImNvU2V0U29sdmVyR3JvdXBzIiwiYWN0aXZlSG9va3MiLCJjb0FjdGl2ZUhvb2tzIiwic2V0QWN0aXZlSG9va3MiLCJjb1NldEFjdGl2ZUhvb2tzIiwiYWN0aXZlRXZlbnRzIiwiY29BY3RpdmVFdmVudHMiLCJzZXRBY3RpdmVFdmVudHMiLCJjb1NldEFjdGl2ZUV2ZW50cyIsImFjdGl2ZUNvbGxpc2lvblR5cGVzIiwiY29BY3RpdmVDb2xsaXNpb25UeXBlcyIsInNldEFjdGl2ZUNvbGxpc2lvblR5cGVzIiwiY29TZXRBY3RpdmVDb2xsaXNpb25UeXBlcyIsImNvU2V0VHJhbnNsYXRpb24iLCJzZXRUcmFuc2xhdGlvbldydFBhcmVudCIsImNvU2V0VHJhbnNsYXRpb25XcnRQYXJlbnQiLCJjb1NldFJvdGF0aW9uIiwic2V0Um90YXRpb25XcnRQYXJlbnQiLCJjb1NldFJvdGF0aW9uV3J0UGFyZW50Iiwic2hhcGVUeXBlIiwiY29TaGFwZVR5cGUiLCJoYWxmRXh0ZW50cyIsImNvSGFsZkV4dGVudHMiLCJyYWRpdXMiLCJjb1JhZGl1cyIsInJvdW5kUmFkaXVzIiwiY29Sb3VuZFJhZGl1cyIsImhhbGZIZWlnaHQiLCJjb0hhbGZIZWlnaHQiLCJ2ZXJ0aWNlcyIsImNvVmVydGljZXMiLCJpbmRpY2VzIiwiY29JbmRpY2VzIiwiaGVpZ2h0ZmllbGRIZWlnaHRzIiwiY29IZWlnaHRmaWVsZEhlaWdodHMiLCJoZWlnaHRmaWVsZFNjYWxlIiwiY29IZWlnaHRmaWVsZFNjYWxlIiwiaGVpZ2h0ZmllbGROUm93cyIsImNvSGVpZ2h0ZmllbGROUm93cyIsImhlaWdodGZpZWxkTkNvbHMiLCJjb0hlaWdodGZpZWxkTkNvbHMiLCJjb0ZyaWN0aW9uIiwiY29SZXN0aXR1dGlvbiIsImRlbnNpdHkiLCJjb0RlbnNpdHkiLCJjb2xsaXNpb25Hcm91cHMiLCJjb0NvbGxpc2lvbkdyb3VwcyIsInNvbHZlckdyb3VwcyIsImNvU29sdmVyR3JvdXBzIiwiY29udGFpbnNQb2ludCIsImNvQ29udGFpbnNQb2ludCIsInByb2plY3RQb2ludCIsInNvbGlkIiwiY29Qcm9qZWN0UG9pbnQiLCJpbnRlcnNlY3RzUmF5IiwicmF5IiwibWF4VG9pIiwicmF3T3JpZyIsIm9yaWdpbiIsInJhd0RpciIsImRpciIsImNvSW50ZXJzZWN0c1JheSIsImNhc3RTaGFwZSIsImNvbGxpZGVyMVZlbCIsInNoYXBlMiIsInNoYXBlMlBvcyIsInNoYXBlMlJvdCIsInNoYXBlMlZlbCIsInJhd0NvbGxpZGVyMVZlbCIsInJhd1NoYXBlMlBvcyIsInJhd1NoYXBlMlJvdCIsInJhd1NoYXBlMlZlbCIsInJhd1NoYXBlMiIsImNvQ2FzdFNoYXBlIiwiY2FzdENvbGxpZGVyIiwiY29sbGlkZXIyIiwiY29sbGlkZXIyVmVsIiwicmF3Q29sbGlkZXIyVmVsIiwiY29DYXN0Q29sbGlkZXIiLCJpbnRlcnNlY3RzU2hhcGUiLCJzaGFwZVBvczIiLCJzaGFwZVJvdDIiLCJyYXdQb3MyIiwicmF3Um90MiIsImNvSW50ZXJzZWN0c1NoYXBlIiwiY29udGFjdFNoYXBlIiwicHJlZGljdGlvbiIsImNvQ29udGFjdFNoYXBlIiwiY29udGFjdENvbGxpZGVyIiwiY29Db250YWN0Q29sbGlkZXIiLCJjYXN0UmF5IiwiY29DYXN0UmF5IiwiY2FzdFJheUFuZEdldE5vcm1hbCIsImNvQ2FzdFJheUFuZEdldE5vcm1hbCIsIkNvbGxpZGVyRGVzYyIsInVzZU1hc3NQcm9wcyIsIkRFRkFVTFQiLCJhIiwiYiIsImMiLCJib3JkZXJSYWRpdXMiLCJoeCIsImh5IiwiaHoiLCJucm93cyIsIm5jb2xzIiwiaGVpZ2h0cyIsInBvaW50cyIsImlzIiwic2V0RGVuc2l0eSIsInNldE1hc3NQcm9wZXJ0aWVzIiwiQ29sbGlkZXJTZXQiLCJmb3JFYWNoQ29sbGlkZXJIYW5kbGUiLCJjcmVhdGVDb2xsaWRlciIsInBhcmVudEhhbmRsZSIsImhhc1BhcmVudCIsImlzTmFOIiwiRXJyb3IiLCJTaGFwZUNvbnRhY3QiLCJkaXN0IiwicG9pbnQxIiwicG9pbnQyIiwibm9ybWFsMSIsIm5vcm1hbDIiLCJkaXN0YW5jZSIsIkZlYXR1cmVUeXBlIiwiTmFycm93UGhhc2UiLCJ0ZW1wTWFuaWZvbGQiLCJUZW1wQ29udGFjdE1hbmlmb2xkIiwiY29udGFjdHNXaXRoIiwiY29sbGlkZXIxIiwiY29udGFjdHNfd2l0aCIsImludGVyc2VjdGlvbnNXaXRoIiwiaW50ZXJzZWN0aW9uc193aXRoIiwiY29udGFjdFBhaXIiLCJyYXdQYWlyIiwiY29udGFjdF9wYWlyIiwiZmxpcHBlZCIsIm51bUNvbnRhY3RNYW5pZm9sZHMiLCJjb250YWN0TWFuaWZvbGQiLCJpbnRlcnNlY3Rpb25QYWlyIiwiaW50ZXJzZWN0aW9uX3BhaXIiLCJub3JtYWwiLCJsb2NhbE5vcm1hbDEiLCJsb2NhbF9uMSIsImxvY2FsTm9ybWFsMiIsImxvY2FsX24yIiwic3Vic2hhcGUxIiwic3Vic2hhcGUyIiwibnVtQ29udGFjdHMiLCJudW1fY29udGFjdHMiLCJsb2NhbENvbnRhY3RQb2ludDEiLCJjb250YWN0X2xvY2FsX3AxIiwibG9jYWxDb250YWN0UG9pbnQyIiwiY29udGFjdF9sb2NhbF9wMiIsImNvbnRhY3REaXN0IiwiY29udGFjdF9kaXN0IiwiY29udGFjdEZpZDEiLCJjb250YWN0X2ZpZDEiLCJjb250YWN0RmlkMiIsImNvbnRhY3RfZmlkMiIsImNvbnRhY3RJbXB1bHNlIiwiY29udGFjdF9pbXB1bHNlIiwiY29udGFjdFRhbmdlbnRJbXB1bHNlWCIsImNvbnRhY3RfdGFuZ2VudF9pbXB1bHNlX3giLCJjb250YWN0VGFuZ2VudEltcHVsc2VZIiwiY29udGFjdF90YW5nZW50X2ltcHVsc2VfeSIsIm51bVNvbHZlckNvbnRhY3RzIiwibnVtX3NvbHZlcl9jb250YWN0cyIsInNvbHZlckNvbnRhY3RQb2ludCIsInNvbHZlcl9jb250YWN0X3BvaW50Iiwic29sdmVyQ29udGFjdERpc3QiLCJzb2x2ZXJfY29udGFjdF9kaXN0Iiwic29sdmVyQ29udGFjdEZyaWN0aW9uIiwic29sdmVyX2NvbnRhY3RfZnJpY3Rpb24iLCJzb2x2ZXJDb250YWN0UmVzdGl0dXRpb24iLCJzb2x2ZXJfY29udGFjdF9yZXN0aXR1dGlvbiIsInNvbHZlckNvbnRhY3RUYW5nZW50VmVsb2NpdHkiLCJzb2x2ZXJfY29udGFjdF90YW5nZW50X3ZlbG9jaXR5IiwiUG9pbnRQcm9qZWN0aW9uIiwiaXNJbnNpZGUiLCJQb2ludENvbGxpZGVyUHJvamVjdGlvbiIsImZlYXR1cmVUeXBlIiwiZmVhdHVyZUlkIiwiY29sbGlkZXJIYW5kbGUiLCJSYXkiLCJwb2ludEF0IiwiUmF5SW50ZXJzZWN0aW9uIiwidG9pIiwiUmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24iLCJSYXlDb2xsaWRlclRvaSIsIlNoYXBlVHlwZSIsIlNoYXBlIiwicmF3VHlwZSIsImV4dGVudHMiLCJ2cyIsIkJhbGwiLCJDdWJvaWQiLCJSb3VuZEN1Ym9pZCIsIkNhcHN1bGUiLCJTZWdtZW50IiwiUG9seWxpbmUiLCJUcmlhbmdsZSIsIlJvdW5kVHJpYW5nbGUiLCJUcmlNZXNoIiwiSGVpZ2h0RmllbGQiLCJIZWlnaHRmaWVsZCIsIkNvbnZleFBvbHloZWRyb24iLCJSb3VuZENvbnZleFBvbHloZWRyb24iLCJDeWxpbmRlciIsIlJvdW5kQ3lsaW5kZXIiLCJDb25lIiwiUm91bmRDb25lIiwic2hhcGVQb3MxIiwic2hhcGVSb3QxIiwic2hhcGVWZWwxIiwic2hhcGVWZWwyIiwicmF3UG9zMSIsInJhd1JvdDEiLCJyYXdWZWwxIiwicmF3VmVsMiIsInJhd1NoYXBlMSIsInNoYXBlUG9zIiwic2hhcGVSb3QiLCJyYXdQb3MiLCJyYXdSYXlPcmlnIiwicmF3UmF5RGlyIiwic3VwZXIiLCJyYSIsInJjIiwicmF3U2NhbGUiLCJTaGFwZVRPSSIsIndpdG5lc3MxIiwid2l0bmVzczIiLCJTaGFwZUNvbGxpZGVyVE9JIiwiVmVjdG9yMyIsIlZlY3Rvck9wcyIsInYiLCJuZXciLCJRdWF0ZXJuaW9uIiwiUm90YXRpb25PcHMiLCJEZWJ1Z1JlbmRlckJ1ZmZlcnMiLCJjb2xvcnMiLCJEZWJ1Z1JlbmRlclBpcGVsaW5lIiwicmVuZGVyIiwiaW1wdWxzZV9qb2ludHMiLCJtdWx0aWJvZHlfam9pbnRzIiwibmFycm93X3BoYXNlIiwiQWN0aXZlRXZlbnRzIiwiRXZlbnRRdWV1ZSIsImF1dG9EcmFpbiIsImRyYWluQ29sbGlzaW9uRXZlbnRzIiwiQWN0aXZlSG9va3MiLCJTb2x2ZXJGbGFncyIsIlBoeXNpY3NQaXBlbGluZSIsInN0ZXAiLCJncmF2aXR5IiwiaW50ZWdyYXRpb25QYXJhbWV0ZXJzIiwiYnJvYWRQaGFzZSIsIm5hcnJvd1BoYXNlIiwiY2NkU29sdmVyIiwiZXZlbnRRdWV1ZSIsImhvb2tzIiwicmF3RyIsInN0ZXBXaXRoRXZlbnRzIiwiZmlsdGVyQ29udGFjdFBhaXIiLCJmaWx0ZXJJbnRlcnNlY3Rpb25QYWlyIiwiUXVlcnlQaXBlbGluZSIsInVwZGF0ZSIsImludGVyc2VjdGlvbnNXaXRoUmF5IiwiY2FsbGJhY2siLCJyYXdJbnRlciIsImludGVyc2VjdGlvbldpdGhTaGFwZSIsInByb2plY3RQb2ludEFuZEdldEZlYXR1cmUiLCJpbnRlcnNlY3Rpb25zV2l0aFBvaW50Iiwic2hhcGVWZWwiLCJpbnRlcnNlY3Rpb25zV2l0aFNoYXBlIiwiY29sbGlkZXJzV2l0aEFhYmJJbnRlcnNlY3RpbmdBYWJiIiwiYWFiYkNlbnRlciIsImFhYmJIYWxmRXh0ZW50cyIsInJhd0NlbnRlciIsInJhd0hhbGZFeHRlbnRzIiwiU2VyaWFsaXphdGlvblBpcGVsaW5lIiwic2VyaWFsaXplQWxsIiwicmF3R3JhIiwiZGVzZXJpYWxpemVBbGwiLCJXb3JsZCIsInJhd0ludGVncmF0aW9uUGFyYW1ldGVycyIsInJhd0lzbGFuZHMiLCJyYXdCcm9hZFBoYXNlIiwicmF3TmFycm93UGhhc2UiLCJyYXdCb2RpZXMiLCJyYXdDb2xsaWRlcnMiLCJyYXdJbXB1bHNlSm9pbnRzIiwicmF3TXVsdGlib2R5Sm9pbnRzIiwicmF3Q0NEU29sdmVyIiwicmF3UXVlcnlQaXBlbGluZSIsInJhd1BoeXNpY3NQaXBlbGluZSIsInJhd1NlcmlhbGl6YXRpb25QaXBlbGluZSIsInJhd0RlYnVnUmVuZGVyUGlwZWxpbmUiLCJxdWVyeVBpcGVsaW5lIiwicGh5c2ljc1BpcGVsaW5lIiwic2VyaWFsaXphdGlvblBpcGVsaW5lIiwiZGVidWdSZW5kZXJQaXBlbGluZSIsInRha2VHcmF2aXR5IiwidGFrZUludGVncmF0aW9uUGFyYW1ldGVycyIsInRha2VJc2xhbmRNYW5hZ2VyIiwidGFrZUJyb2FkUGhhc2UiLCJ0YWtlTmFycm93UGhhc2UiLCJ0YWtlQm9kaWVzIiwidGFrZUNvbGxpZGVycyIsInRha2VJbXB1bHNlSm9pbnRzIiwidGFrZU11bHRpYm9keUpvaW50cyIsInRha2VTbmFwc2hvdCIsImRlYnVnUmVuZGVyIiwidGltZXN0ZXAiLCJuaXRlciIsImNyZWF0ZUltcHVsc2VKb2ludCIsInBhcmFtcyIsImNyZWF0ZU11bHRpYm9keUpvaW50IiwiZ2V0UmlnaWRCb2R5IiwiZ2V0Q29sbGlkZXIiLCJnZXRJbXB1bHNlSm9pbnQiLCJnZXRNdWx0aWJvZHlKb2ludCIsInJlbW92ZVJpZ2lkQm9keSIsInJlbW92ZUNvbGxpZGVyIiwicmVtb3ZlSW1wdWxzZUpvaW50IiwicmVtb3ZlTXVsdGlib2R5Sm9pbnQiLCJmb3JFYWNoQ29sbGlkZXIiLCJmb3JFYWNoUmlnaWRCb2R5IiwiY2FzdENsb3N1cmUiLCJoZWFwIiwiZmlsbCIsImdldE9iamVjdCIsImlkeCIsImhlYXBfbmV4dCIsImRyb3BPYmplY3QiLCJ0YWtlT2JqZWN0IiwicmV0IiwiYWRkSGVhcE9iamVjdCIsIm9iaiIsImlzTGlrZU5vbmUiLCJjYWNoZWdldEZsb2F0NjRNZW1vcnkwIiwiZ2V0RmxvYXQ2NE1lbW9yeTAiLCJjYWNoZWdldEludDMyTWVtb3J5MCIsImdldEludDMyTWVtb3J5MCIsIkludDMyQXJyYXkiLCJjYWNoZWRUZXh0RGVjb2RlciIsIlRleHREZWNvZGVyIiwibW9kdWxlIiwicmVxdWlyZSIsImlnbm9yZUJPTSIsImZhdGFsIiwiZGVjb2RlIiwiY2FjaGVnZXRVaW50OE1lbW9yeTAiLCJnZXRTdHJpbmdGcm9tV2FzbTAiLCJwdHIiLCJVaW50OEFycmF5Iiwic3ViYXJyYXkiLCJyZXRwdHIiLCJyMCIsInIxIiwiX2Fzc2VydENsYXNzIiwiaW5zdGFuY2UiLCJrbGFzcyIsIm5hbWUiLCJzdGFja19wb2ludGVyIiwiYWRkQm9ycm93ZWRPYmplY3QiLCJjYWNoZWdldEZsb2F0MzJNZW1vcnkwIiwiZ2V0RmxvYXQzMk1lbW9yeTAiLCJGbG9hdDMyQXJyYXkiLCJnZXRBcnJheUYzMkZyb21XYXNtMCIsImNhY2hlZ2V0VWludDMyTWVtb3J5MCIsImdldFVpbnQzMk1lbW9yeTAiLCJXQVNNX1ZFQ1RPUl9MRU4iLCJwYXNzQXJyYXlGMzJUb1dhc20wIiwiYXJnIiwibWFsbG9jIiwicGFzc0FycmF5MzJUb1dhc20wIiwiaGFuZGxlRXJyb3IiLCJhcmdzIiwiYXBwbHkiLCJlIiwiT2JqZWN0IiwiZnJlZXplIiwiR2VuZXJpYyIsIkFjY2VsZXJhdGlvbkJhc2VkIiwiRm9yY2VCYXNlZCIsIlJhd0pvaW50QXhpcyIsIlgiLCJZIiwiWiIsIkFuZ1giLCJBbmdZIiwiQW5nWiIsIlZlcnRleCIsIkVkZ2UiLCJGYWNlIiwiVW5rbm93biIsIkNvbXBvdW5kIiwiUmF3QnJvYWRQaGFzZSIsImNyZWF0ZSIsInByb3RvdHlwZSIsIl9fZGVzdHJveV9pbnRvX3JhdyIsIl9fd3JhcCIsIlJhd0NDRFNvbHZlciIsIlJhd0NvbGxpZGVyU2V0IiwiUmF3VmVjdG9yIiwiUmF3Um90YXRpb24iLCJ2MCIsInNsaWNlIiwicjIiLCJjb2xsaWRlclZlbCIsIlJhd1NoYXBlIiwiUmF3U2hhcGVUT0kiLCJjb2xsaWRlcjJoYW5kbGUiLCJtYXhfdG9pIiwiUmF3U2hhcGVDb2xsaWRlclRPSSIsIlJhd1NoYXBlQ29udGFjdCIsIlJhd1BvaW50UHJvamVjdGlvbiIsInJheU9yaWciLCJyYXlEaXIiLCJSYXdSYXlJbnRlcnNlY3Rpb24iLCJpc19zZW5zb3IiLCJldmVudHMiLCJ0eXBlcyIsImFuZ3VsYXJJbmVydGlhRnJhbWUiLCJSYXdSaWdpZEJvZHlTZXQiLCJSYXdJc2xhbmRNYW5hZ2VyIiwiaXNIYW5kbGVWYWxpZCIsIlJhd0NvbnRhY3RNYW5pZm9sZCIsIlJhd0NvbnRhY3RQYWlyIiwiUmF3RGVidWdSZW5kZXJQaXBlbGluZSIsIlJhd0ltcHVsc2VKb2ludFNldCIsIlJhd011bHRpYm9keUpvaW50U2V0IiwiUmF3TmFycm93UGhhc2UiLCJSYXdEZXNlcmlhbGl6ZWRXb3JsZCIsIlJhd0ludGVncmF0aW9uUGFyYW1ldGVycyIsIlJhd0V2ZW50UXVldWUiLCJSYXdHZW5lcmljSm9pbnQiLCJheGVzMSIsImF4ZXMyIiwiaGFuZGxlMSIsImhhbmRsZTIiLCJSYXdQaHlzaWNzUGlwZWxpbmUiLCJqb2ludHMiLCJhcnRpY3VsYXRpb25zIiwiY2NkX3NvbHZlciIsImhvb2tPYmplY3QiLCJob29rRmlsdGVyQ29udGFjdFBhaXIiLCJob29rRmlsdGVySW50ZXJzZWN0aW9uUGFpciIsIlJhd1BvaW50Q29sbGlkZXJQcm9qZWN0aW9uIiwiUmF3UXVlcnlQaXBlbGluZSIsIlJhd1JheUNvbGxpZGVyVG9pIiwiUmF3UmF5Q29sbGlkZXJJbnRlcnNlY3Rpb24iLCJhbGxvd194IiwiYWxsb3dfeSIsImFsbG93X3oiLCJhdCIsInRvcnF1ZV9pbXB1bHNlIiwicmJVc2VyRGF0YSIsInJiU2V0VXNlckRhdGEiLCJ0cmFuc2xhdGlvbkVuYWJsZWRYIiwidHJhbnNsYXRpb25FbmFibGVkWSIsInRyYW5zbGF0aW9uRW5hYmxlZFoiLCJyb3RhdGlvbkVuYWJsZWRYIiwicm90YXRpb25FbmFibGVkWSIsInJvdGF0aW9uRW5hYmxlZFoiLCJyYl90eXBlIiwiUmF3U2VyaWFsaXphdGlvblBpcGVsaW5lIiwicHRyMCIsImxlbjAiLCJwdHIxIiwibGVuMSIsInAxIiwicDIiLCJwMyIsInh5eiIsInl4eiIsInp4eSIsInh6eSIsInl6eCIsInp5eCIsIl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmIiwiYXJnMCIsIl9fd2JpbmRnZW5fbnVtYmVyX25ldyIsIl9fd2JpbmRnZW5fbnVtYmVyX2dldCIsImFyZzEiLCJfX3diaW5kZ2VuX2Jvb2xlYW5fZ2V0IiwiX193YmdfcmF3cmF5Y29sbGlkZXJpbnRlcnNlY3Rpb25fbmV3IiwiX193YmluZGdlbl9pc19mdW5jdGlvbiIsIl9fd2JnX2NhbGxfM2VkMjg4YTI0N2YxM2VhNSIsImFyZzIiLCJjYWxsIiwiYXJndW1lbnRzIiwiX193YmdfY2FsbF9hMTlkMzE3M2YzZTFkM2M1IiwiYXJnMyIsIl9fd2JnX2NhbGxfNmVkNzEyMWNmYjQyY2ZlZCIsImFyZzQiLCJfX3diZ19iaW5kX2MwOWExNjQxYzE1ODBjMDciLCJiaW5kIiwiX193YmdfYnVmZmVyXzdhZjIzZjY1ZjZjNjQ1NDgiLCJfX3diZ19uZXd3aXRoYnl0ZW9mZnNldGFuZGxlbmd0aF9jZTFlNzVmMGNlNWY3OTc0IiwiX193YmdfbmV3X2NjOTAxOGJkNmYyODNiNmYiLCJfX3diZ19zZXRfZjI1ZTg2OWU0NTY1ZDJhMiIsIl9fd2JnX2xlbmd0aF8wYWNiMWNmOWJiYWY4NTE5IiwiX193YmdfbmV3d2l0aGJ5dGVvZmZzZXRhbmRsZW5ndGhfM2Y1NTQ5NzhkODc5M2IxNCIsIl9fd2JnX3NldF85YTk2MDRjNjg4OGY2NDY4IiwiX193YmdfbGVuZ3RoXzM3MWNjMWM5MmFhOGZlYWUiLCJfX3diZ19uZXd3aXRobGVuZ3RoX2U1MzgyNThjYjJhNmJhZDAiLCJfX3diaW5kZ2VuX3Rocm93IiwiX193YmluZGdlbl9tZW1vcnkiXSwic291cmNlUm9vdCI6IiJ9