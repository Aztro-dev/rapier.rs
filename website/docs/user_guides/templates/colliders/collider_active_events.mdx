import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


[Event handlers](advanced_collision_detection#contact-and-intersection-events) are user-defined callbacks used to be
notified when two colliders start/stop touching. By default no contact event or intersection event is generated by
the narrow-phase. In order to enable a contact/intersection event for a pair of colliders, at
least one of the involved colliders must have the corresponding event set as active. An event is activated for a collider
by setting its corresponding active events bit to `1`:
- Setting the <notjs>`ActiveEvents::FILTER_CONTACT_PAIRS`</notjs><js>`ActiveEvents.FILTER_CONTACT_PAIRS`</js> bit to 1
  enables the [contact events](advanced_collision_detection#contact-events) involving the collider.
- Setting the <notjs>`ActiveEvents::FILTER_INTERSECTION_PAIRS`</notjs><js>`ActiveEvents.FILTER_INTERSECTION_PAIRS`</js> bit
  to 1 enables the manual [intersection events](advanced_collision_detection#intersection-events) involving the
  collider.

The active events of a collider can be set when the collider is created or after its creation:

<rapier>

```rust
/* Set the active events when the collider is created. */
let collider = ColliderBuilder::ball(0.5)
    .active_events(ActiveEvents::CONTACT_EVENTS |
                   ActiveEvents::INTERSECTION_EVENTS)
    .build();
```
```rust
/* Set the active events after the collider creation. */
let collider = collider_set.get_mut(collider_handle).unwrap();
collider.set_active_events(ActiveEvents::CONTACT_EVENTS |
                           ActiveEvents::INTERSECTION_EVENTS);
assert!(collider.active_events().contains(ActiveEvents::CONTACT_EVENTS));
assert!(collider.active_events().contains(ActiveEvents::INTERSECTION_EVENTS));
```

</rapier>
<bevy>

```rust
/* Set the active events when the collider is created. */
let collider = ColliderBundle {
    flags: (ActiveEvents::CONTACT_EVENTS | ActiveEvents::INTERSECTION_EVENTS).into(),
    ..Default::default()
};
commands.spawn_bundle(collider);
```
```rust
/* Set the active events inside of a system. */
fn modify_collider_active_events(mut flags: Query<&mut ColliderFlags>) {
    for mut co_flags in flags.iter_mut() {
        co_flags.active_events = ActiveEvents::CONTACT_EVENTS |
                                    ActiveEvents::INTERSECTION_EVENTS;
    }
}
```

</bevy>
<js>

```js
/* Set the active events when the collider is created. */
let colliderDesc = RAPIER.ColliderDesc.ball(0.5)
    .setActiveEvents(RAPIER.ActiveEvents.CONTACT_EVENTS |
                     RAPIER.ActiveEvents.INTERSECTION_EVENTS);
let collider = world.createCollider(colliderDesc);
```
```js
/* Set the active events after the collider creation. */
let collider = world.getCollider(colliderHandle);
collider.setActiveEvents(RAPIER.ActiveEvents.CONTACT_EVENTS |
                         RAPIER.ActiveEvents.INTERSECTION_EVENTS);
```

</js>